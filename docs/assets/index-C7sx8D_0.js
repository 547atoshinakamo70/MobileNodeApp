function NR(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const a=Object.getOwnPropertyDescriptor(r,s);a&&Object.defineProperty(t,s,a.get?a:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();function gi(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Nm={exports:{}},hc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fE;function BR(){if(fE)return hc;fE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,s,a){var c=null;if(a!==void 0&&(c=""+a),s.key!==void 0&&(c=""+s.key),"key"in s){a={};for(var f in s)f!=="key"&&(a[f]=s[f])}else a=s;return s=a.ref,{$$typeof:t,type:r,key:c,ref:s!==void 0?s:null,props:a}}return hc.Fragment=e,hc.jsx=n,hc.jsxs=n,hc}var dE;function IR(){return dE||(dE=1,Nm.exports=BR()),Nm.exports}var ne=IR(),Bm={exports:{}},Ne={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hE;function PR(){if(hE)return Ne;hE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.iterator;function b(D){return D===null||typeof D!="object"?null:(D=y&&D[y]||D["@@iterator"],typeof D=="function"?D:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,S={};function E(D,H,Q){this.props=D,this.context=H,this.refs=S,this.updater=Q||w}E.prototype.isReactComponent={},E.prototype.setState=function(D,H){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,H,"setState")},E.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function C(){}C.prototype=E.prototype;function k(D,H,Q){this.props=D,this.context=H,this.refs=S,this.updater=Q||w}var A=k.prototype=new C;A.constructor=k,v(A,E.prototype),A.isPureReactComponent=!0;var T=Array.isArray,R={H:null,A:null,T:null,S:null,V:null},I=Object.prototype.hasOwnProperty;function $(D,H,Q,te,ae,se){return Q=se.ref,{$$typeof:t,type:D,key:H,ref:Q!==void 0?Q:null,props:se}}function j(D,H){return $(D.type,H,void 0,void 0,void 0,D.props)}function P(D){return typeof D=="object"&&D!==null&&D.$$typeof===t}function G(D){var H={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(Q){return H[Q]})}var W=/\/+/g;function _(D,H){return typeof D=="object"&&D!==null&&D.key!=null?G(""+D.key):H.toString(36)}function B(){}function L(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(B,B):(D.status="pending",D.then(function(H){D.status==="pending"&&(D.status="fulfilled",D.value=H)},function(H){D.status==="pending"&&(D.status="rejected",D.reason=H)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function N(D,H,Q,te,ae){var se=typeof D;(se==="undefined"||se==="boolean")&&(D=null);var le=!1;if(D===null)le=!0;else switch(se){case"bigint":case"string":case"number":le=!0;break;case"object":switch(D.$$typeof){case t:case e:le=!0;break;case g:return le=D._init,N(le(D._payload),H,Q,te,ae)}}if(le)return ae=ae(D),le=te===""?"."+_(D,0):te,T(ae)?(Q="",le!=null&&(Q=le.replace(W,"$&/")+"/"),N(ae,H,Q,"",function(fe){return fe})):ae!=null&&(P(ae)&&(ae=j(ae,Q+(ae.key==null||D&&D.key===ae.key?"":(""+ae.key).replace(W,"$&/")+"/")+le)),H.push(ae)),1;le=0;var ge=te===""?".":te+":";if(T(D))for(var he=0;he<D.length;he++)te=D[he],se=ge+_(te,he),le+=N(te,H,Q,se,ae);else if(he=b(D),typeof he=="function")for(D=he.call(D),he=0;!(te=D.next()).done;)te=te.value,se=ge+_(te,he++),le+=N(te,H,Q,se,ae);else if(se==="object"){if(typeof D.then=="function")return N(L(D),H,Q,te,ae);throw H=String(D),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.")}return le}function M(D,H,Q){if(D==null)return D;var te=[],ae=0;return N(D,te,"","",function(se){return H.call(Q,se,ae++)}),te}function q(D){if(D._status===-1){var H=D._result;H=H(),H.then(function(Q){(D._status===0||D._status===-1)&&(D._status=1,D._result=Q)},function(Q){(D._status===0||D._status===-1)&&(D._status=2,D._result=Q)}),D._status===-1&&(D._status=0,D._result=H)}if(D._status===1)return D._result.default;throw D._result}var K=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var H=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(H))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function F(){}return Ne.Children={map:M,forEach:function(D,H,Q){M(D,function(){H.apply(this,arguments)},Q)},count:function(D){var H=0;return M(D,function(){H++}),H},toArray:function(D){return M(D,function(H){return H})||[]},only:function(D){if(!P(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},Ne.Component=E,Ne.Fragment=n,Ne.Profiler=s,Ne.PureComponent=k,Ne.StrictMode=r,Ne.Suspense=d,Ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,Ne.__COMPILER_RUNTIME={__proto__:null,c:function(D){return R.H.useMemoCache(D)}},Ne.cache=function(D){return function(){return D.apply(null,arguments)}},Ne.cloneElement=function(D,H,Q){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var te=v({},D.props),ae=D.key,se=void 0;if(H!=null)for(le in H.ref!==void 0&&(se=void 0),H.key!==void 0&&(ae=""+H.key),H)!I.call(H,le)||le==="key"||le==="__self"||le==="__source"||le==="ref"&&H.ref===void 0||(te[le]=H[le]);var le=arguments.length-2;if(le===1)te.children=Q;else if(1<le){for(var ge=Array(le),he=0;he<le;he++)ge[he]=arguments[he+2];te.children=ge}return $(D.type,ae,void 0,void 0,se,te)},Ne.createContext=function(D){return D={$$typeof:c,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:a,_context:D},D},Ne.createElement=function(D,H,Q){var te,ae={},se=null;if(H!=null)for(te in H.key!==void 0&&(se=""+H.key),H)I.call(H,te)&&te!=="key"&&te!=="__self"&&te!=="__source"&&(ae[te]=H[te]);var le=arguments.length-2;if(le===1)ae.children=Q;else if(1<le){for(var ge=Array(le),he=0;he<le;he++)ge[he]=arguments[he+2];ae.children=ge}if(D&&D.defaultProps)for(te in le=D.defaultProps,le)ae[te]===void 0&&(ae[te]=le[te]);return $(D,se,void 0,void 0,null,ae)},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(D){return{$$typeof:f,render:D}},Ne.isValidElement=P,Ne.lazy=function(D){return{$$typeof:g,_payload:{_status:-1,_result:D},_init:q}},Ne.memo=function(D,H){return{$$typeof:p,type:D,compare:H===void 0?null:H}},Ne.startTransition=function(D){var H=R.T,Q={};R.T=Q;try{var te=D(),ae=R.S;ae!==null&&ae(Q,te),typeof te=="object"&&te!==null&&typeof te.then=="function"&&te.then(F,K)}catch(se){K(se)}finally{R.T=H}},Ne.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},Ne.use=function(D){return R.H.use(D)},Ne.useActionState=function(D,H,Q){return R.H.useActionState(D,H,Q)},Ne.useCallback=function(D,H){return R.H.useCallback(D,H)},Ne.useContext=function(D){return R.H.useContext(D)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(D,H){return R.H.useDeferredValue(D,H)},Ne.useEffect=function(D,H,Q){var te=R.H;if(typeof Q=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return te.useEffect(D,H)},Ne.useId=function(){return R.H.useId()},Ne.useImperativeHandle=function(D,H,Q){return R.H.useImperativeHandle(D,H,Q)},Ne.useInsertionEffect=function(D,H){return R.H.useInsertionEffect(D,H)},Ne.useLayoutEffect=function(D,H){return R.H.useLayoutEffect(D,H)},Ne.useMemo=function(D,H){return R.H.useMemo(D,H)},Ne.useOptimistic=function(D,H){return R.H.useOptimistic(D,H)},Ne.useReducer=function(D,H,Q){return R.H.useReducer(D,H,Q)},Ne.useRef=function(D){return R.H.useRef(D)},Ne.useState=function(D){return R.H.useState(D)},Ne.useSyncExternalStore=function(D,H,Q){return R.H.useSyncExternalStore(D,H,Q)},Ne.useTransition=function(){return R.H.useTransition()},Ne.version="19.1.1",Ne}var pE;function r0(){return pE||(pE=1,Bm.exports=PR()),Bm.exports}var U=r0();const Hr=gi(U),Zy=NR({__proto__:null,default:Hr},[U]);var Im={exports:{}},pc={},Pm={exports:{}},$m={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gE;function $R(){return gE||(gE=1,function(t){function e(M,q){var K=M.length;M.push(q);e:for(;0<K;){var F=K-1>>>1,D=M[F];if(0<s(D,q))M[F]=q,M[K]=D,K=F;else break e}}function n(M){return M.length===0?null:M[0]}function r(M){if(M.length===0)return null;var q=M[0],K=M.pop();if(K!==q){M[0]=K;e:for(var F=0,D=M.length,H=D>>>1;F<H;){var Q=2*(F+1)-1,te=M[Q],ae=Q+1,se=M[ae];if(0>s(te,K))ae<D&&0>s(se,te)?(M[F]=se,M[ae]=K,F=ae):(M[F]=te,M[Q]=K,F=Q);else if(ae<D&&0>s(se,K))M[F]=se,M[ae]=K,F=ae;else break e}}return q}function s(M,q){var K=M.sortIndex-q.sortIndex;return K!==0?K:M.id-q.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var c=Date,f=c.now();t.unstable_now=function(){return c.now()-f}}var d=[],p=[],g=1,y=null,b=3,w=!1,v=!1,S=!1,E=!1,C=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function T(M){for(var q=n(p);q!==null;){if(q.callback===null)r(p);else if(q.startTime<=M)r(p),q.sortIndex=q.expirationTime,e(d,q);else break;q=n(p)}}function R(M){if(S=!1,T(M),!v)if(n(d)!==null)v=!0,I||(I=!0,_());else{var q=n(p);q!==null&&N(R,q.startTime-M)}}var I=!1,$=-1,j=5,P=-1;function G(){return E?!0:!(t.unstable_now()-P<j)}function W(){if(E=!1,I){var M=t.unstable_now();P=M;var q=!0;try{e:{v=!1,S&&(S=!1,k($),$=-1),w=!0;var K=b;try{t:{for(T(M),y=n(d);y!==null&&!(y.expirationTime>M&&G());){var F=y.callback;if(typeof F=="function"){y.callback=null,b=y.priorityLevel;var D=F(y.expirationTime<=M);if(M=t.unstable_now(),typeof D=="function"){y.callback=D,T(M),q=!0;break t}y===n(d)&&r(d),T(M)}else r(d);y=n(d)}if(y!==null)q=!0;else{var H=n(p);H!==null&&N(R,H.startTime-M),q=!1}}break e}finally{y=null,b=K,w=!1}q=void 0}}finally{q?_():I=!1}}}var _;if(typeof A=="function")_=function(){A(W)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,L=B.port2;B.port1.onmessage=W,_=function(){L.postMessage(null)}}else _=function(){C(W,0)};function N(M,q){$=C(function(){M(t.unstable_now())},q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(M){M.callback=null},t.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<M?Math.floor(1e3/M):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_next=function(M){switch(b){case 1:case 2:case 3:var q=3;break;default:q=b}var K=b;b=q;try{return M()}finally{b=K}},t.unstable_requestPaint=function(){E=!0},t.unstable_runWithPriority=function(M,q){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var K=b;b=M;try{return q()}finally{b=K}},t.unstable_scheduleCallback=function(M,q,K){var F=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?F+K:F):K=F,M){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=K+D,M={id:g++,callback:q,priorityLevel:M,startTime:K,expirationTime:D,sortIndex:-1},K>F?(M.sortIndex=K,e(p,M),n(d)===null&&M===n(p)&&(S?(k($),$=-1):S=!0,N(R,K-F))):(M.sortIndex=D,e(d,M),v||w||(v=!0,I||(I=!0,_()))),M},t.unstable_shouldYield=G,t.unstable_wrapCallback=function(M){var q=b;return function(){var K=b;b=q;try{return M.apply(this,arguments)}finally{b=K}}}}($m)),$m}var mE;function UR(){return mE||(mE=1,Pm.exports=$R()),Pm.exports}var Um={exports:{}},An={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yE;function zR(){if(yE)return An;yE=1;var t=r0();function e(d){var p="https://react.dev/errors/"+d;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)p+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+d+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function a(d,p,g){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:y==null?null:""+y,children:d,containerInfo:p,implementation:g}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(d,p){if(d==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return An.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,An.createPortal=function(d,p){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return a(d,p,null,g)},An.flushSync=function(d){var p=c.T,g=r.p;try{if(c.T=null,r.p=2,d)return d()}finally{c.T=p,r.p=g,r.d.f()}},An.preconnect=function(d,p){typeof d=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(d,p))},An.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},An.preinit=function(d,p){if(typeof d=="string"&&p&&typeof p.as=="string"){var g=p.as,y=f(g,p.crossOrigin),b=typeof p.integrity=="string"?p.integrity:void 0,w=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;g==="style"?r.d.S(d,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:y,integrity:b,fetchPriority:w}):g==="script"&&r.d.X(d,{crossOrigin:y,integrity:b,fetchPriority:w,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},An.preinitModule=function(d,p){if(typeof d=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var g=f(p.as,p.crossOrigin);r.d.M(d,{crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(d)},An.preload=function(d,p){if(typeof d=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var g=p.as,y=f(g,p.crossOrigin);r.d.L(d,g,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},An.preloadModule=function(d,p){if(typeof d=="string")if(p){var g=f(p.as,p.crossOrigin);r.d.m(d,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(d)},An.requestFormReset=function(d){r.d.r(d)},An.unstable_batchedUpdates=function(d,p){return d(p)},An.useFormState=function(d,p,g){return c.H.useFormState(d,p,g)},An.useFormStatus=function(){return c.H.useHostTransitionStatus()},An.version="19.1.1",An}var bE;function GC(){if(bE)return Um.exports;bE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Um.exports=zR(),Um.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vE;function FR(){if(vE)return pc;vE=1;var t=UR(),e=r0(),n=GC();function r(i){var o="https://react.dev/errors/"+i;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)o+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function a(i){var o=i,l=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(l=o.return),i=o.return;while(i)}return o.tag===3?l:null}function c(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function f(i){if(a(i)!==i)throw Error(r(188))}function d(i){var o=i.alternate;if(!o){if(o=a(i),o===null)throw Error(r(188));return o!==i?null:i}for(var l=i,u=o;;){var h=l.return;if(h===null)break;var m=h.alternate;if(m===null){if(u=h.return,u!==null){l=u;continue}break}if(h.child===m.child){for(m=h.child;m;){if(m===l)return f(h),i;if(m===u)return f(h),o;m=m.sibling}throw Error(r(188))}if(l.return!==u.return)l=h,u=m;else{for(var x=!1,O=h.child;O;){if(O===l){x=!0,l=h,u=m;break}if(O===u){x=!0,u=h,l=m;break}O=O.sibling}if(!x){for(O=m.child;O;){if(O===l){x=!0,l=m,u=h;break}if(O===u){x=!0,u=m,l=h;break}O=O.sibling}if(!x)throw Error(r(189))}}if(l.alternate!==u)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?i:o}function p(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i;for(i=i.child;i!==null;){if(o=p(i),o!==null)return o;i=i.sibling}return null}var g=Object.assign,y=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),k=Symbol.for("react.consumer"),A=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),j=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),G=Symbol.for("react.memo_cache_sentinel"),W=Symbol.iterator;function _(i){return i===null||typeof i!="object"?null:(i=W&&i[W]||i["@@iterator"],typeof i=="function"?i:null)}var B=Symbol.for("react.client.reference");function L(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===B?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case v:return"Fragment";case E:return"Profiler";case S:return"StrictMode";case R:return"Suspense";case I:return"SuspenseList";case P:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case w:return"Portal";case A:return(i.displayName||"Context")+".Provider";case k:return(i._context.displayName||"Context")+".Consumer";case T:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case $:return o=i.displayName||null,o!==null?o:L(i.type)||"Memo";case j:o=i._payload,i=i._init;try{return L(i(o))}catch{}}return null}var N=Array.isArray,M=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K={pending:!1,data:null,method:null,action:null},F=[],D=-1;function H(i){return{current:i}}function Q(i){0>D||(i.current=F[D],F[D]=null,D--)}function te(i,o){D++,F[D]=i.current,i.current=o}var ae=H(null),se=H(null),le=H(null),ge=H(null);function he(i,o){switch(te(le,o),te(se,i),te(ae,null),o.nodeType){case 9:case 11:i=(i=o.documentElement)&&(i=i.namespaceURI)?US(i):0;break;default:if(i=o.tagName,o=o.namespaceURI)o=US(o),i=zS(o,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}Q(ae),te(ae,i)}function fe(){Q(ae),Q(se),Q(le)}function de(i){i.memoizedState!==null&&te(ge,i);var o=ae.current,l=zS(o,i.type);o!==l&&(te(se,i),te(ae,l))}function De(i){se.current===i&&(Q(ae),Q(se)),ge.current===i&&(Q(ge),lc._currentValue=K)}var Le=Object.prototype.hasOwnProperty,wt=t.unstable_scheduleCallback,ke=t.unstable_cancelCallback,Ye=t.unstable_shouldYield,rn=t.unstable_requestPaint,ze=t.unstable_now,dt=t.unstable_getCurrentPriorityLevel,Wt=t.unstable_ImmediatePriority,Ht=t.unstable_UserBlockingPriority,Ze=t.unstable_NormalPriority,Se=t.unstable_LowPriority,zn=t.unstable_IdlePriority,Bt=t.log,Yr=t.unstable_setDisableYieldValue,Zn=null,jt=null;function sn(i){if(typeof Bt=="function"&&Yr(i),jt&&typeof jt.setStrictMode=="function")try{jt.setStrictMode(Zn,i)}catch{}}var It=Math.clz32?Math.clz32:Lr,Jn=Math.log,rt=Math.LN2;function Lr(i){return i>>>=0,i===0?32:31-(Jn(i)/rt|0)|0}var Nr=256,Xr=4194304;function be(i){var o=i&42;if(o!==0)return o;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function je(i,o,l){var u=i.pendingLanes;if(u===0)return 0;var h=0,m=i.suspendedLanes,x=i.pingedLanes;i=i.warmLanes;var O=u&134217727;return O!==0?(u=O&~m,u!==0?h=be(u):(x&=O,x!==0?h=be(x):l||(l=O&~i,l!==0&&(h=be(l))))):(O=u&~m,O!==0?h=be(O):x!==0?h=be(x):l||(l=u&~i,l!==0&&(h=be(l)))),h===0?0:o!==0&&o!==h&&(o&m)===0&&(m=h&-h,l=o&-o,m>=l||m===32&&(l&4194048)!==0)?o:h}function At(i,o){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&o)===0}function Br(i,o){switch(i){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wr(){var i=Nr;return Nr<<=1,(Nr&4194048)===0&&(Nr=256),i}function Bu(){var i=Xr;return Xr<<=1,(Xr&62914560)===0&&(Xr=4194304),i}function ml(i){for(var o=[],l=0;31>l;l++)o.push(i);return o}function bi(i,o){i.pendingLanes|=o,o!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function _p(i,o,l,u,h,m){var x=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var O=i.entanglements,z=i.expirationTimes,Z=i.hiddenUpdates;for(l=x&~l;0<l;){var ie=31-It(l),ce=1<<ie;O[ie]=0,z[ie]=-1;var J=Z[ie];if(J!==null)for(Z[ie]=null,ie=0;ie<J.length;ie++){var ee=J[ie];ee!==null&&(ee.lane&=-536870913)}l&=~ce}u!==0&&Iu(i,u,0),m!==0&&h===0&&i.tag!==0&&(i.suspendedLanes|=m&~(x&~o))}function Iu(i,o,l){i.pendingLanes|=o,i.suspendedLanes&=~o;var u=31-It(o);i.entangledLanes|=o,i.entanglements[u]=i.entanglements[u]|1073741824|l&4194090}function Pu(i,o){var l=i.entangledLanes|=o;for(i=i.entanglements;l;){var u=31-It(l),h=1<<u;h&o|i[u]&o&&(i[u]|=o),l&=~h}}function yl(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function bl(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function $u(){var i=q.p;return i!==0?i:(i=window.event,i===void 0?32:sE(i.type))}function me(i,o){var l=q.p;try{return q.p=i,o()}finally{q.p=l}}var ve=Math.random().toString(36).slice(2),Oe="__reactFiber$"+ve,Me="__reactProps$"+ve,St="__reactContainer$"+ve,Fn="__reactEvents$"+ve,vi="__reactListeners$"+ve,Is="__reactHandles$"+ve,vl="__reactResources$"+ve,wi="__reactMarker$"+ve;function Tp(i){delete i[Oe],delete i[Me],delete i[Fn],delete i[vi],delete i[Is]}function ko(i){var o=i[Oe];if(o)return o;for(var l=i.parentNode;l;){if(o=l[St]||l[Oe]){if(l=o.alternate,o.child!==null||l!==null&&l.child!==null)for(i=jS(i);i!==null;){if(l=i[Oe])return l;i=jS(i)}return o}i=l,l=i.parentNode}return null}function Lo(i){if(i=i[Oe]||i[St]){var o=i.tag;if(o===5||o===6||o===13||o===26||o===27||o===3)return i}return null}function wl(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i.stateNode;throw Error(r(33))}function No(i){var o=i[vl];return o||(o=i[vl]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function on(i){i[wi]=!0}var Rv=new Set,Ov={};function Ps(i,o){Bo(i,o),Bo(i+"Capture",o)}function Bo(i,o){for(Ov[i]=o,i=0;i<o.length;i++)Rv.add(o[i])}var _6=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Mv={},Dv={};function T6(i){return Le.call(Dv,i)?!0:Le.call(Mv,i)?!1:_6.test(i)?Dv[i]=!0:(Mv[i]=!0,!1)}function Uu(i,o,l){if(T6(o))if(l===null)i.removeAttribute(o);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(o);return;case"boolean":var u=o.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(o);return}}i.setAttribute(o,""+l)}}function zu(i,o,l){if(l===null)i.removeAttribute(o);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttribute(o,""+l)}}function Si(i,o,l,u){if(u===null)i.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(o,l,""+u)}}var Rp,kv;function Io(i){if(Rp===void 0)try{throw Error()}catch(l){var o=l.stack.trim().match(/\n( *(at )?)/);Rp=o&&o[1]||"",kv=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Rp+i+kv}var Op=!1;function Mp(i,o){if(!i||Op)return"";Op=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(o){var ce=function(){throw Error()};if(Object.defineProperty(ce.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ce,[])}catch(ee){var J=ee}Reflect.construct(i,[],ce)}else{try{ce.call()}catch(ee){J=ee}i.call(ce.prototype)}}else{try{throw Error()}catch(ee){J=ee}(ce=i())&&typeof ce.catch=="function"&&ce.catch(function(){})}}catch(ee){if(ee&&J&&typeof ee.stack=="string")return[ee.stack,J.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=u.DetermineComponentFrameRoot(),x=m[0],O=m[1];if(x&&O){var z=x.split(`
`),Z=O.split(`
`);for(h=u=0;u<z.length&&!z[u].includes("DetermineComponentFrameRoot");)u++;for(;h<Z.length&&!Z[h].includes("DetermineComponentFrameRoot");)h++;if(u===z.length||h===Z.length)for(u=z.length-1,h=Z.length-1;1<=u&&0<=h&&z[u]!==Z[h];)h--;for(;1<=u&&0<=h;u--,h--)if(z[u]!==Z[h]){if(u!==1||h!==1)do if(u--,h--,0>h||z[u]!==Z[h]){var ie=`
`+z[u].replace(" at new "," at ");return i.displayName&&ie.includes("<anonymous>")&&(ie=ie.replace("<anonymous>",i.displayName)),ie}while(1<=u&&0<=h);break}}}finally{Op=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?Io(l):""}function R6(i){switch(i.tag){case 26:case 27:case 5:return Io(i.type);case 16:return Io("Lazy");case 13:return Io("Suspense");case 19:return Io("SuspenseList");case 0:case 15:return Mp(i.type,!1);case 11:return Mp(i.type.render,!1);case 1:return Mp(i.type,!0);case 31:return Io("Activity");default:return""}}function Lv(i){try{var o="";do o+=R6(i),i=i.return;while(i);return o}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function fr(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Nv(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function O6(i){var o=Nv(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),u=""+i[o];if(!i.hasOwnProperty(o)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,m=l.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return h.call(this)},set:function(x){u=""+x,m.call(this,x)}}),Object.defineProperty(i,o,{enumerable:l.enumerable}),{getValue:function(){return u},setValue:function(x){u=""+x},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function Fu(i){i._valueTracker||(i._valueTracker=O6(i))}function Bv(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var l=o.getValue(),u="";return i&&(u=Nv(i)?i.checked?"true":"false":i.value),i=u,i!==l?(o.setValue(i),!0):!1}function qu(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var M6=/[\n"\\]/g;function dr(i){return i.replace(M6,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Dp(i,o,l,u,h,m,x,O){i.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?i.type=x:i.removeAttribute("type"),o!=null?x==="number"?(o===0&&i.value===""||i.value!=o)&&(i.value=""+fr(o)):i.value!==""+fr(o)&&(i.value=""+fr(o)):x!=="submit"&&x!=="reset"||i.removeAttribute("value"),o!=null?kp(i,x,fr(o)):l!=null?kp(i,x,fr(l)):u!=null&&i.removeAttribute("value"),h==null&&m!=null&&(i.defaultChecked=!!m),h!=null&&(i.checked=h&&typeof h!="function"&&typeof h!="symbol"),O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?i.name=""+fr(O):i.removeAttribute("name")}function Iv(i,o,l,u,h,m,x,O){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(i.type=m),o!=null||l!=null){if(!(m!=="submit"&&m!=="reset"||o!=null))return;l=l!=null?""+fr(l):"",o=o!=null?""+fr(o):l,O||o===i.value||(i.value=o),i.defaultValue=o}u=u??h,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=O?i.checked:!!u,i.defaultChecked=!!u,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(i.name=x)}function kp(i,o,l){o==="number"&&qu(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function Po(i,o,l,u){if(i=i.options,o){o={};for(var h=0;h<l.length;h++)o["$"+l[h]]=!0;for(l=0;l<i.length;l++)h=o.hasOwnProperty("$"+i[l].value),i[l].selected!==h&&(i[l].selected=h),h&&u&&(i[l].defaultSelected=!0)}else{for(l=""+fr(l),o=null,h=0;h<i.length;h++){if(i[h].value===l){i[h].selected=!0,u&&(i[h].defaultSelected=!0);return}o!==null||i[h].disabled||(o=i[h])}o!==null&&(o.selected=!0)}}function Pv(i,o,l){if(o!=null&&(o=""+fr(o),o!==i.value&&(i.value=o),l==null)){i.defaultValue!==o&&(i.defaultValue=o);return}i.defaultValue=l!=null?""+fr(l):""}function $v(i,o,l,u){if(o==null){if(u!=null){if(l!=null)throw Error(r(92));if(N(u)){if(1<u.length)throw Error(r(93));u=u[0]}l=u}l==null&&(l=""),o=l}l=fr(o),i.defaultValue=l,u=i.textContent,u===l&&u!==""&&u!==null&&(i.value=u)}function $o(i,o){if(o){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=o;return}}i.textContent=o}var D6=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Uv(i,o,l){var u=o.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?u?i.setProperty(o,""):o==="float"?i.cssFloat="":i[o]="":u?i.setProperty(o,l):typeof l!="number"||l===0||D6.has(o)?o==="float"?i.cssFloat=l:i[o]=(""+l).trim():i[o]=l+"px"}function zv(i,o,l){if(o!=null&&typeof o!="object")throw Error(r(62));if(i=i.style,l!=null){for(var u in l)!l.hasOwnProperty(u)||o!=null&&o.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var h in o)u=o[h],o.hasOwnProperty(h)&&l[h]!==u&&Uv(i,h,u)}else for(var m in o)o.hasOwnProperty(m)&&Uv(i,m,o[m])}function Lp(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var k6=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),L6=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Hu(i){return L6.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var Np=null;function Bp(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Uo=null,zo=null;function Fv(i){var o=Lo(i);if(o&&(i=o.stateNode)){var l=i[Me]||null;e:switch(i=o.stateNode,o.type){case"input":if(Dp(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),o=l.name,l.type==="radio"&&o!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+dr(""+o)+'"][type="radio"]'),o=0;o<l.length;o++){var u=l[o];if(u!==i&&u.form===i.form){var h=u[Me]||null;if(!h)throw Error(r(90));Dp(u,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(o=0;o<l.length;o++)u=l[o],u.form===i.form&&Bv(u)}break e;case"textarea":Pv(i,l.value,l.defaultValue);break e;case"select":o=l.value,o!=null&&Po(i,!!l.multiple,o,!1)}}}var Ip=!1;function qv(i,o,l){if(Ip)return i(o,l);Ip=!0;try{var u=i(o);return u}finally{if(Ip=!1,(Uo!==null||zo!==null)&&(Of(),Uo&&(o=Uo,i=zo,zo=Uo=null,Fv(o),i)))for(o=0;o<i.length;o++)Fv(i[o])}}function Sl(i,o){var l=i.stateNode;if(l===null)return null;var u=l[Me]||null;if(u===null)return null;l=u[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(r(231,o,typeof l));return l}var Ei=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Pp=!1;if(Ei)try{var El={};Object.defineProperty(El,"passive",{get:function(){Pp=!0}}),window.addEventListener("test",El,El),window.removeEventListener("test",El,El)}catch{Pp=!1}var Yi=null,$p=null,ju=null;function Hv(){if(ju)return ju;var i,o=$p,l=o.length,u,h="value"in Yi?Yi.value:Yi.textContent,m=h.length;for(i=0;i<l&&o[i]===h[i];i++);var x=l-i;for(u=1;u<=x&&o[l-u]===h[m-u];u++);return ju=h.slice(i,1<u?1-u:void 0)}function Vu(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function Ku(){return!0}function jv(){return!1}function qn(i){function o(l,u,h,m,x){this._reactName=l,this._targetInst=h,this.type=u,this.nativeEvent=m,this.target=x,this.currentTarget=null;for(var O in i)i.hasOwnProperty(O)&&(l=i[O],this[O]=l?l(m):m[O]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Ku:jv,this.isPropagationStopped=jv,this}return g(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Ku)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Ku)},persist:function(){},isPersistent:Ku}),o}var $s={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gu=qn($s),xl=g({},$s,{view:0,detail:0}),N6=qn(xl),Up,zp,Cl,Yu=g({},xl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qp,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Cl&&(Cl&&i.type==="mousemove"?(Up=i.screenX-Cl.screenX,zp=i.screenY-Cl.screenY):zp=Up=0,Cl=i),Up)},movementY:function(i){return"movementY"in i?i.movementY:zp}}),Vv=qn(Yu),B6=g({},Yu,{dataTransfer:0}),I6=qn(B6),P6=g({},xl,{relatedTarget:0}),Fp=qn(P6),$6=g({},$s,{animationName:0,elapsedTime:0,pseudoElement:0}),U6=qn($6),z6=g({},$s,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),F6=qn(z6),q6=g({},$s,{data:0}),Kv=qn(q6),H6={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},j6={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},V6={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function K6(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=V6[i])?!!o[i]:!1}function qp(){return K6}var G6=g({},xl,{key:function(i){if(i.key){var o=H6[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=Vu(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?j6[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qp,charCode:function(i){return i.type==="keypress"?Vu(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Vu(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Y6=qn(G6),X6=g({},Yu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gv=qn(X6),W6=g({},xl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qp}),Q6=qn(W6),Z6=g({},$s,{propertyName:0,elapsedTime:0,pseudoElement:0}),J6=qn(Z6),e5=g({},Yu,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),t5=qn(e5),n5=g({},$s,{newState:0,oldState:0}),r5=qn(n5),i5=[9,13,27,32],Hp=Ei&&"CompositionEvent"in window,Al=null;Ei&&"documentMode"in document&&(Al=document.documentMode);var s5=Ei&&"TextEvent"in window&&!Al,Yv=Ei&&(!Hp||Al&&8<Al&&11>=Al),Xv=" ",Wv=!1;function Qv(i,o){switch(i){case"keyup":return i5.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Zv(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Fo=!1;function o5(i,o){switch(i){case"compositionend":return Zv(o);case"keypress":return o.which!==32?null:(Wv=!0,Xv);case"textInput":return i=o.data,i===Xv&&Wv?null:i;default:return null}}function a5(i,o){if(Fo)return i==="compositionend"||!Hp&&Qv(i,o)?(i=Hv(),ju=$p=Yi=null,Fo=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Yv&&o.locale!=="ko"?null:o.data;default:return null}}var l5={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jv(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!l5[i.type]:o==="textarea"}function ew(i,o,l,u){Uo?zo?zo.push(u):zo=[u]:Uo=u,o=Bf(o,"onChange"),0<o.length&&(l=new Gu("onChange","change",null,l,u),i.push({event:l,listeners:o}))}var _l=null,Tl=null;function c5(i){NS(i,0)}function Xu(i){var o=wl(i);if(Bv(o))return i}function tw(i,o){if(i==="change")return o}var nw=!1;if(Ei){var jp;if(Ei){var Vp="oninput"in document;if(!Vp){var rw=document.createElement("div");rw.setAttribute("oninput","return;"),Vp=typeof rw.oninput=="function"}jp=Vp}else jp=!1;nw=jp&&(!document.documentMode||9<document.documentMode)}function iw(){_l&&(_l.detachEvent("onpropertychange",sw),Tl=_l=null)}function sw(i){if(i.propertyName==="value"&&Xu(Tl)){var o=[];ew(o,Tl,i,Bp(i)),qv(c5,o)}}function u5(i,o,l){i==="focusin"?(iw(),_l=o,Tl=l,_l.attachEvent("onpropertychange",sw)):i==="focusout"&&iw()}function f5(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Xu(Tl)}function d5(i,o){if(i==="click")return Xu(o)}function h5(i,o){if(i==="input"||i==="change")return Xu(o)}function p5(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var er=typeof Object.is=="function"?Object.is:p5;function Rl(i,o){if(er(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var l=Object.keys(i),u=Object.keys(o);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var h=l[u];if(!Le.call(o,h)||!er(i[h],o[h]))return!1}return!0}function ow(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function aw(i,o){var l=ow(i);i=0;for(var u;l;){if(l.nodeType===3){if(u=i+l.textContent.length,i<=o&&u>=o)return{node:l,offset:o-i};i=u}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=ow(l)}}function lw(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?lw(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function cw(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var o=qu(i.document);o instanceof i.HTMLIFrameElement;){try{var l=typeof o.contentWindow.location.href=="string"}catch{l=!1}if(l)i=o.contentWindow;else break;o=qu(i.document)}return o}function Kp(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}var g5=Ei&&"documentMode"in document&&11>=document.documentMode,qo=null,Gp=null,Ol=null,Yp=!1;function uw(i,o,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Yp||qo==null||qo!==qu(u)||(u=qo,"selectionStart"in u&&Kp(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Ol&&Rl(Ol,u)||(Ol=u,u=Bf(Gp,"onSelect"),0<u.length&&(o=new Gu("onSelect","select",null,o,l),i.push({event:o,listeners:u}),o.target=qo)))}function Us(i,o){var l={};return l[i.toLowerCase()]=o.toLowerCase(),l["Webkit"+i]="webkit"+o,l["Moz"+i]="moz"+o,l}var Ho={animationend:Us("Animation","AnimationEnd"),animationiteration:Us("Animation","AnimationIteration"),animationstart:Us("Animation","AnimationStart"),transitionrun:Us("Transition","TransitionRun"),transitionstart:Us("Transition","TransitionStart"),transitioncancel:Us("Transition","TransitionCancel"),transitionend:Us("Transition","TransitionEnd")},Xp={},fw={};Ei&&(fw=document.createElement("div").style,"AnimationEvent"in window||(delete Ho.animationend.animation,delete Ho.animationiteration.animation,delete Ho.animationstart.animation),"TransitionEvent"in window||delete Ho.transitionend.transition);function zs(i){if(Xp[i])return Xp[i];if(!Ho[i])return i;var o=Ho[i],l;for(l in o)if(o.hasOwnProperty(l)&&l in fw)return Xp[i]=o[l];return i}var dw=zs("animationend"),hw=zs("animationiteration"),pw=zs("animationstart"),m5=zs("transitionrun"),y5=zs("transitionstart"),b5=zs("transitioncancel"),gw=zs("transitionend"),mw=new Map,Wp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Wp.push("scrollEnd");function Ir(i,o){mw.set(i,o),Ps(o,[i])}var yw=new WeakMap;function hr(i,o){if(typeof i=="object"&&i!==null){var l=yw.get(i);return l!==void 0?l:(o={value:i,source:o,stack:Lv(o)},yw.set(i,o),o)}return{value:i,source:o,stack:Lv(o)}}var pr=[],jo=0,Qp=0;function Wu(){for(var i=jo,o=Qp=jo=0;o<i;){var l=pr[o];pr[o++]=null;var u=pr[o];pr[o++]=null;var h=pr[o];pr[o++]=null;var m=pr[o];if(pr[o++]=null,u!==null&&h!==null){var x=u.pending;x===null?h.next=h:(h.next=x.next,x.next=h),u.pending=h}m!==0&&bw(l,h,m)}}function Qu(i,o,l,u){pr[jo++]=i,pr[jo++]=o,pr[jo++]=l,pr[jo++]=u,Qp|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function Zp(i,o,l,u){return Qu(i,o,l,u),Zu(i)}function Vo(i,o){return Qu(i,null,null,o),Zu(i)}function bw(i,o,l){i.lanes|=l;var u=i.alternate;u!==null&&(u.lanes|=l);for(var h=!1,m=i.return;m!==null;)m.childLanes|=l,u=m.alternate,u!==null&&(u.childLanes|=l),m.tag===22&&(i=m.stateNode,i===null||i._visibility&1||(h=!0)),i=m,m=m.return;return i.tag===3?(m=i.stateNode,h&&o!==null&&(h=31-It(l),i=m.hiddenUpdates,u=i[h],u===null?i[h]=[o]:u.push(o),o.lane=l|536870912),m):null}function Zu(i){if(50<ec)throw ec=0,im=null,Error(r(185));for(var o=i.return;o!==null;)i=o,o=i.return;return i.tag===3?i.stateNode:null}var Ko={};function v5(i,o,l,u){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function tr(i,o,l,u){return new v5(i,o,l,u)}function Jp(i){return i=i.prototype,!(!i||!i.isReactComponent)}function xi(i,o){var l=i.alternate;return l===null?(l=tr(i.tag,o,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=o,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&65011712,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,o=i.dependencies,l.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function vw(i,o){i.flags&=65011714;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=o,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,o=l.dependencies,i.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),i}function Ju(i,o,l,u,h,m){var x=0;if(u=i,typeof i=="function")Jp(i)&&(x=1);else if(typeof i=="string")x=SR(i,l,ae.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case P:return i=tr(31,l,o,h),i.elementType=P,i.lanes=m,i;case v:return Fs(l.children,h,m,o);case S:x=8,h|=24;break;case E:return i=tr(12,l,o,h|2),i.elementType=E,i.lanes=m,i;case R:return i=tr(13,l,o,h),i.elementType=R,i.lanes=m,i;case I:return i=tr(19,l,o,h),i.elementType=I,i.lanes=m,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case C:case A:x=10;break e;case k:x=9;break e;case T:x=11;break e;case $:x=14;break e;case j:x=16,u=null;break e}x=29,l=Error(r(130,i===null?"null":typeof i,"")),u=null}return o=tr(x,l,o,h),o.elementType=i,o.type=u,o.lanes=m,o}function Fs(i,o,l,u){return i=tr(7,i,u,o),i.lanes=l,i}function eg(i,o,l){return i=tr(6,i,null,o),i.lanes=l,i}function tg(i,o,l){return o=tr(4,i.children!==null?i.children:[],i.key,o),o.lanes=l,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}var Go=[],Yo=0,ef=null,tf=0,gr=[],mr=0,qs=null,Ci=1,Ai="";function Hs(i,o){Go[Yo++]=tf,Go[Yo++]=ef,ef=i,tf=o}function ww(i,o,l){gr[mr++]=Ci,gr[mr++]=Ai,gr[mr++]=qs,qs=i;var u=Ci;i=Ai;var h=32-It(u)-1;u&=~(1<<h),l+=1;var m=32-It(o)+h;if(30<m){var x=h-h%5;m=(u&(1<<x)-1).toString(32),u>>=x,h-=x,Ci=1<<32-It(o)+h|l<<h|u,Ai=m+i}else Ci=1<<m|l<<h|u,Ai=i}function ng(i){i.return!==null&&(Hs(i,1),ww(i,1,0))}function rg(i){for(;i===ef;)ef=Go[--Yo],Go[Yo]=null,tf=Go[--Yo],Go[Yo]=null;for(;i===qs;)qs=gr[--mr],gr[mr]=null,Ai=gr[--mr],gr[mr]=null,Ci=gr[--mr],gr[mr]=null}var Bn=null,Pt=null,Xe=!1,js=null,Qr=!1,ig=Error(r(519));function Vs(i){var o=Error(r(418,""));throw kl(hr(o,i)),ig}function Sw(i){var o=i.stateNode,l=i.type,u=i.memoizedProps;switch(o[Oe]=i,o[Me]=u,l){case"dialog":Ue("cancel",o),Ue("close",o);break;case"iframe":case"object":case"embed":Ue("load",o);break;case"video":case"audio":for(l=0;l<nc.length;l++)Ue(nc[l],o);break;case"source":Ue("error",o);break;case"img":case"image":case"link":Ue("error",o),Ue("load",o);break;case"details":Ue("toggle",o);break;case"input":Ue("invalid",o),Iv(o,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Fu(o);break;case"select":Ue("invalid",o);break;case"textarea":Ue("invalid",o),$v(o,u.value,u.defaultValue,u.children),Fu(o)}l=u.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||o.textContent===""+l||u.suppressHydrationWarning===!0||$S(o.textContent,l)?(u.popover!=null&&(Ue("beforetoggle",o),Ue("toggle",o)),u.onScroll!=null&&Ue("scroll",o),u.onScrollEnd!=null&&Ue("scrollend",o),u.onClick!=null&&(o.onclick=If),o=!0):o=!1,o||Vs(i)}function Ew(i){for(Bn=i.return;Bn;)switch(Bn.tag){case 5:case 13:Qr=!1;return;case 27:case 3:Qr=!0;return;default:Bn=Bn.return}}function Ml(i){if(i!==Bn)return!1;if(!Xe)return Ew(i),Xe=!0,!1;var o=i.tag,l;if((l=o!==3&&o!==27)&&((l=o===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||wm(i.type,i.memoizedProps)),l=!l),l&&Pt&&Vs(i),Ew(i),o===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8)if(l=i.data,l==="/$"){if(o===0){Pt=$r(i.nextSibling);break e}o--}else l!=="$"&&l!=="$!"&&l!=="$?"||o++;i=i.nextSibling}Pt=null}}else o===27?(o=Pt,us(i.type)?(i=Cm,Cm=null,Pt=i):Pt=o):Pt=Bn?$r(i.stateNode.nextSibling):null;return!0}function Dl(){Pt=Bn=null,Xe=!1}function xw(){var i=js;return i!==null&&(Vn===null?Vn=i:Vn.push.apply(Vn,i),js=null),i}function kl(i){js===null?js=[i]:js.push(i)}var sg=H(null),Ks=null,_i=null;function Xi(i,o,l){te(sg,o._currentValue),o._currentValue=l}function Ti(i){i._currentValue=sg.current,Q(sg)}function og(i,o,l){for(;i!==null;){var u=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,u!==null&&(u.childLanes|=o)):u!==null&&(u.childLanes&o)!==o&&(u.childLanes|=o),i===l)break;i=i.return}}function ag(i,o,l,u){var h=i.child;for(h!==null&&(h.return=i);h!==null;){var m=h.dependencies;if(m!==null){var x=h.child;m=m.firstContext;e:for(;m!==null;){var O=m;m=h;for(var z=0;z<o.length;z++)if(O.context===o[z]){m.lanes|=l,O=m.alternate,O!==null&&(O.lanes|=l),og(m.return,l,i),u||(x=null);break e}m=O.next}}else if(h.tag===18){if(x=h.return,x===null)throw Error(r(341));x.lanes|=l,m=x.alternate,m!==null&&(m.lanes|=l),og(x,l,i),x=null}else x=h.child;if(x!==null)x.return=h;else for(x=h;x!==null;){if(x===i){x=null;break}if(h=x.sibling,h!==null){h.return=x.return,x=h;break}x=x.return}h=x}}function Ll(i,o,l,u){i=null;for(var h=o,m=!1;h!==null;){if(!m){if((h.flags&524288)!==0)m=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var x=h.alternate;if(x===null)throw Error(r(387));if(x=x.memoizedProps,x!==null){var O=h.type;er(h.pendingProps.value,x.value)||(i!==null?i.push(O):i=[O])}}else if(h===ge.current){if(x=h.alternate,x===null)throw Error(r(387));x.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(i!==null?i.push(lc):i=[lc])}h=h.return}i!==null&&ag(o,i,l,u),o.flags|=262144}function nf(i){for(i=i.firstContext;i!==null;){if(!er(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Gs(i){Ks=i,_i=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Cn(i){return Cw(Ks,i)}function rf(i,o){return Ks===null&&Gs(i),Cw(i,o)}function Cw(i,o){var l=o._currentValue;if(o={context:o,memoizedValue:l,next:null},_i===null){if(i===null)throw Error(r(308));_i=o,i.dependencies={lanes:0,firstContext:o},i.flags|=524288}else _i=_i.next=o;return l}var w5=typeof AbortController<"u"?AbortController:function(){var i=[],o=this.signal={aborted:!1,addEventListener:function(l,u){i.push(u)}};this.abort=function(){o.aborted=!0,i.forEach(function(l){return l()})}},S5=t.unstable_scheduleCallback,E5=t.unstable_NormalPriority,tn={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function lg(){return{controller:new w5,data:new Map,refCount:0}}function Nl(i){i.refCount--,i.refCount===0&&S5(E5,function(){i.controller.abort()})}var Bl=null,cg=0,Xo=0,Wo=null;function x5(i,o){if(Bl===null){var l=Bl=[];cg=0,Xo=fm(),Wo={status:"pending",value:void 0,then:function(u){l.push(u)}}}return cg++,o.then(Aw,Aw),o}function Aw(){if(--cg===0&&Bl!==null){Wo!==null&&(Wo.status="fulfilled");var i=Bl;Bl=null,Xo=0,Wo=null;for(var o=0;o<i.length;o++)(0,i[o])()}}function C5(i,o){var l=[],u={status:"pending",value:null,reason:null,then:function(h){l.push(h)}};return i.then(function(){u.status="fulfilled",u.value=o;for(var h=0;h<l.length;h++)(0,l[h])(o)},function(h){for(u.status="rejected",u.reason=h,h=0;h<l.length;h++)(0,l[h])(void 0)}),u}var _w=M.S;M.S=function(i,o){typeof o=="object"&&o!==null&&typeof o.then=="function"&&x5(i,o),_w!==null&&_w(i,o)};var Ys=H(null);function ug(){var i=Ys.current;return i!==null?i:Ct.pooledCache}function sf(i,o){o===null?te(Ys,Ys.current):te(Ys,o.pool)}function Tw(){var i=ug();return i===null?null:{parent:tn._currentValue,pool:i}}var Il=Error(r(460)),Rw=Error(r(474)),of=Error(r(542)),fg={then:function(){}};function Ow(i){return i=i.status,i==="fulfilled"||i==="rejected"}function af(){}function Mw(i,o,l){switch(l=i[l],l===void 0?i.push(o):l!==o&&(o.then(af,af),o=l),o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,kw(i),i;default:if(typeof o.status=="string")o.then(af,af);else{if(i=Ct,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=o,i.status="pending",i.then(function(u){if(o.status==="pending"){var h=o;h.status="fulfilled",h.value=u}},function(u){if(o.status==="pending"){var h=o;h.status="rejected",h.reason=u}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,kw(i),i}throw Pl=o,Il}}var Pl=null;function Dw(){if(Pl===null)throw Error(r(459));var i=Pl;return Pl=null,i}function kw(i){if(i===Il||i===of)throw Error(r(483))}var Wi=!1;function dg(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function hg(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Qi(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Zi(i,o,l){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,(it&2)!==0){var h=u.pending;return h===null?o.next=o:(o.next=h.next,h.next=o),u.pending=o,o=Zu(i),bw(i,null,l),o}return Qu(i,u,o,l),Zu(i)}function $l(i,o,l){if(o=o.updateQueue,o!==null&&(o=o.shared,(l&4194048)!==0)){var u=o.lanes;u&=i.pendingLanes,l|=u,o.lanes=l,Pu(i,l)}}function pg(i,o){var l=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var h=null,m=null;if(l=l.firstBaseUpdate,l!==null){do{var x={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};m===null?h=m=x:m=m.next=x,l=l.next}while(l!==null);m===null?h=m=o:m=m.next=o}else h=m=o;l={baseState:u.baseState,firstBaseUpdate:h,lastBaseUpdate:m,shared:u.shared,callbacks:u.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=o:i.next=o,l.lastBaseUpdate=o}var gg=!1;function Ul(){if(gg){var i=Wo;if(i!==null)throw i}}function zl(i,o,l,u){gg=!1;var h=i.updateQueue;Wi=!1;var m=h.firstBaseUpdate,x=h.lastBaseUpdate,O=h.shared.pending;if(O!==null){h.shared.pending=null;var z=O,Z=z.next;z.next=null,x===null?m=Z:x.next=Z,x=z;var ie=i.alternate;ie!==null&&(ie=ie.updateQueue,O=ie.lastBaseUpdate,O!==x&&(O===null?ie.firstBaseUpdate=Z:O.next=Z,ie.lastBaseUpdate=z))}if(m!==null){var ce=h.baseState;x=0,ie=Z=z=null,O=m;do{var J=O.lane&-536870913,ee=J!==O.lane;if(ee?(qe&J)===J:(u&J)===J){J!==0&&J===Xo&&(gg=!0),ie!==null&&(ie=ie.next={lane:0,tag:O.tag,payload:O.payload,callback:null,next:null});e:{var Re=i,Ce=O;J=o;var gt=l;switch(Ce.tag){case 1:if(Re=Ce.payload,typeof Re=="function"){ce=Re.call(gt,ce,J);break e}ce=Re;break e;case 3:Re.flags=Re.flags&-65537|128;case 0:if(Re=Ce.payload,J=typeof Re=="function"?Re.call(gt,ce,J):Re,J==null)break e;ce=g({},ce,J);break e;case 2:Wi=!0}}J=O.callback,J!==null&&(i.flags|=64,ee&&(i.flags|=8192),ee=h.callbacks,ee===null?h.callbacks=[J]:ee.push(J))}else ee={lane:J,tag:O.tag,payload:O.payload,callback:O.callback,next:null},ie===null?(Z=ie=ee,z=ce):ie=ie.next=ee,x|=J;if(O=O.next,O===null){if(O=h.shared.pending,O===null)break;ee=O,O=ee.next,ee.next=null,h.lastBaseUpdate=ee,h.shared.pending=null}}while(!0);ie===null&&(z=ce),h.baseState=z,h.firstBaseUpdate=Z,h.lastBaseUpdate=ie,m===null&&(h.shared.lanes=0),os|=x,i.lanes=x,i.memoizedState=ce}}function Lw(i,o){if(typeof i!="function")throw Error(r(191,i));i.call(o)}function Nw(i,o){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)Lw(l[i],o)}var Qo=H(null),lf=H(0);function Bw(i,o){i=Ni,te(lf,i),te(Qo,o),Ni=i|o.baseLanes}function mg(){te(lf,Ni),te(Qo,Qo.current)}function yg(){Ni=lf.current,Q(Qo),Q(lf)}var Ji=0,Be=null,ht=null,Qt=null,cf=!1,Zo=!1,Xs=!1,uf=0,Fl=0,Jo=null,A5=0;function Vt(){throw Error(r(321))}function bg(i,o){if(o===null)return!1;for(var l=0;l<o.length&&l<i.length;l++)if(!er(i[l],o[l]))return!1;return!0}function vg(i,o,l,u,h,m){return Ji=m,Be=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,M.H=i===null||i.memoizedState===null?b1:v1,Xs=!1,m=l(u,h),Xs=!1,Zo&&(m=Pw(o,l,u,h)),Iw(i),m}function Iw(i){M.H=mf;var o=ht!==null&&ht.next!==null;if(Ji=0,Qt=ht=Be=null,cf=!1,Fl=0,Jo=null,o)throw Error(r(300));i===null||an||(i=i.dependencies,i!==null&&nf(i)&&(an=!0))}function Pw(i,o,l,u){Be=i;var h=0;do{if(Zo&&(Jo=null),Fl=0,Zo=!1,25<=h)throw Error(r(301));if(h+=1,Qt=ht=null,i.updateQueue!=null){var m=i.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}M.H=k5,m=o(l,u)}while(Zo);return m}function _5(){var i=M.H,o=i.useState()[0];return o=typeof o.then=="function"?ql(o):o,i=i.useState()[0],(ht!==null?ht.memoizedState:null)!==i&&(Be.flags|=1024),o}function wg(){var i=uf!==0;return uf=0,i}function Sg(i,o,l){o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~l}function Eg(i){if(cf){for(i=i.memoizedState;i!==null;){var o=i.queue;o!==null&&(o.pending=null),i=i.next}cf=!1}Ji=0,Qt=ht=Be=null,Zo=!1,Fl=uf=0,Jo=null}function Hn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qt===null?Be.memoizedState=Qt=i:Qt=Qt.next=i,Qt}function Zt(){if(ht===null){var i=Be.alternate;i=i!==null?i.memoizedState:null}else i=ht.next;var o=Qt===null?Be.memoizedState:Qt.next;if(o!==null)Qt=o,ht=i;else{if(i===null)throw Be.alternate===null?Error(r(467)):Error(r(310));ht=i,i={memoizedState:ht.memoizedState,baseState:ht.baseState,baseQueue:ht.baseQueue,queue:ht.queue,next:null},Qt===null?Be.memoizedState=Qt=i:Qt=Qt.next=i}return Qt}function xg(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ql(i){var o=Fl;return Fl+=1,Jo===null&&(Jo=[]),i=Mw(Jo,i,o),o=Be,(Qt===null?o.memoizedState:Qt.next)===null&&(o=o.alternate,M.H=o===null||o.memoizedState===null?b1:v1),i}function ff(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return ql(i);if(i.$$typeof===A)return Cn(i)}throw Error(r(438,String(i)))}function Cg(i){var o=null,l=Be.updateQueue;if(l!==null&&(o=l.memoCache),o==null){var u=Be.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(o={data:u.data.map(function(h){return h.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),l===null&&(l=xg(),Be.updateQueue=l),l.memoCache=o,l=o.data[o.index],l===void 0)for(l=o.data[o.index]=Array(i),u=0;u<i;u++)l[u]=G;return o.index++,l}function Ri(i,o){return typeof o=="function"?o(i):o}function df(i){var o=Zt();return Ag(o,ht,i)}function Ag(i,o,l){var u=i.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=l;var h=i.baseQueue,m=u.pending;if(m!==null){if(h!==null){var x=h.next;h.next=m.next,m.next=x}o.baseQueue=h=m,u.pending=null}if(m=i.baseState,h===null)i.memoizedState=m;else{o=h.next;var O=x=null,z=null,Z=o,ie=!1;do{var ce=Z.lane&-536870913;if(ce!==Z.lane?(qe&ce)===ce:(Ji&ce)===ce){var J=Z.revertLane;if(J===0)z!==null&&(z=z.next={lane:0,revertLane:0,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),ce===Xo&&(ie=!0);else if((Ji&J)===J){Z=Z.next,J===Xo&&(ie=!0);continue}else ce={lane:0,revertLane:Z.revertLane,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},z===null?(O=z=ce,x=m):z=z.next=ce,Be.lanes|=J,os|=J;ce=Z.action,Xs&&l(m,ce),m=Z.hasEagerState?Z.eagerState:l(m,ce)}else J={lane:ce,revertLane:Z.revertLane,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},z===null?(O=z=J,x=m):z=z.next=J,Be.lanes|=ce,os|=ce;Z=Z.next}while(Z!==null&&Z!==o);if(z===null?x=m:z.next=O,!er(m,i.memoizedState)&&(an=!0,ie&&(l=Wo,l!==null)))throw l;i.memoizedState=m,i.baseState=x,i.baseQueue=z,u.lastRenderedState=m}return h===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function _g(i){var o=Zt(),l=o.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=i;var u=l.dispatch,h=l.pending,m=o.memoizedState;if(h!==null){l.pending=null;var x=h=h.next;do m=i(m,x.action),x=x.next;while(x!==h);er(m,o.memoizedState)||(an=!0),o.memoizedState=m,o.baseQueue===null&&(o.baseState=m),l.lastRenderedState=m}return[m,u]}function $w(i,o,l){var u=Be,h=Zt(),m=Xe;if(m){if(l===void 0)throw Error(r(407));l=l()}else l=o();var x=!er((ht||h).memoizedState,l);x&&(h.memoizedState=l,an=!0),h=h.queue;var O=Fw.bind(null,u,h,i);if(Hl(2048,8,O,[i]),h.getSnapshot!==o||x||Qt!==null&&Qt.memoizedState.tag&1){if(u.flags|=2048,ea(9,hf(),zw.bind(null,u,h,l,o),null),Ct===null)throw Error(r(349));m||(Ji&124)!==0||Uw(u,o,l)}return l}function Uw(i,o,l){i.flags|=16384,i={getSnapshot:o,value:l},o=Be.updateQueue,o===null?(o=xg(),Be.updateQueue=o,o.stores=[i]):(l=o.stores,l===null?o.stores=[i]:l.push(i))}function zw(i,o,l,u){o.value=l,o.getSnapshot=u,qw(o)&&Hw(i)}function Fw(i,o,l){return l(function(){qw(o)&&Hw(i)})}function qw(i){var o=i.getSnapshot;i=i.value;try{var l=o();return!er(i,l)}catch{return!0}}function Hw(i){var o=Vo(i,2);o!==null&&or(o,i,2)}function Tg(i){var o=Hn();if(typeof i=="function"){var l=i;if(i=l(),Xs){sn(!0);try{l()}finally{sn(!1)}}}return o.memoizedState=o.baseState=i,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:i},o}function jw(i,o,l,u){return i.baseState=l,Ag(i,ht,typeof u=="function"?u:Ri)}function T5(i,o,l,u,h){if(gf(i))throw Error(r(485));if(i=o.action,i!==null){var m={payload:h,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){m.listeners.push(x)}};M.T!==null?l(!0):m.isTransition=!1,u(m),l=o.pending,l===null?(m.next=o.pending=m,Vw(o,m)):(m.next=l.next,o.pending=l.next=m)}}function Vw(i,o){var l=o.action,u=o.payload,h=i.state;if(o.isTransition){var m=M.T,x={};M.T=x;try{var O=l(h,u),z=M.S;z!==null&&z(x,O),Kw(i,o,O)}catch(Z){Rg(i,o,Z)}finally{M.T=m}}else try{m=l(h,u),Kw(i,o,m)}catch(Z){Rg(i,o,Z)}}function Kw(i,o,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(u){Gw(i,o,u)},function(u){return Rg(i,o,u)}):Gw(i,o,l)}function Gw(i,o,l){o.status="fulfilled",o.value=l,Yw(o),i.state=l,o=i.pending,o!==null&&(l=o.next,l===o?i.pending=null:(l=l.next,o.next=l,Vw(i,l)))}function Rg(i,o,l){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do o.status="rejected",o.reason=l,Yw(o),o=o.next;while(o!==u)}i.action=null}function Yw(i){i=i.listeners;for(var o=0;o<i.length;o++)(0,i[o])()}function Xw(i,o){return o}function Ww(i,o){if(Xe){var l=Ct.formState;if(l!==null){e:{var u=Be;if(Xe){if(Pt){t:{for(var h=Pt,m=Qr;h.nodeType!==8;){if(!m){h=null;break t}if(h=$r(h.nextSibling),h===null){h=null;break t}}m=h.data,h=m==="F!"||m==="F"?h:null}if(h){Pt=$r(h.nextSibling),u=h.data==="F!";break e}}Vs(u)}u=!1}u&&(o=l[0])}}return l=Hn(),l.memoizedState=l.baseState=o,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xw,lastRenderedState:o},l.queue=u,l=g1.bind(null,Be,u),u.dispatch=l,u=Tg(!1),m=Lg.bind(null,Be,!1,u.queue),u=Hn(),h={state:o,dispatch:null,action:i,pending:null},u.queue=h,l=T5.bind(null,Be,h,m,l),h.dispatch=l,u.memoizedState=i,[o,l,!1]}function Qw(i){var o=Zt();return Zw(o,ht,i)}function Zw(i,o,l){if(o=Ag(i,o,Xw)[0],i=df(Ri)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var u=ql(o)}catch(x){throw x===Il?of:x}else u=o;o=Zt();var h=o.queue,m=h.dispatch;return l!==o.memoizedState&&(Be.flags|=2048,ea(9,hf(),R5.bind(null,h,l),null)),[u,m,i]}function R5(i,o){i.action=o}function Jw(i){var o=Zt(),l=ht;if(l!==null)return Zw(o,l,i);Zt(),o=o.memoizedState,l=Zt();var u=l.queue.dispatch;return l.memoizedState=i,[o,u,!1]}function ea(i,o,l,u){return i={tag:i,create:l,deps:u,inst:o,next:null},o=Be.updateQueue,o===null&&(o=xg(),Be.updateQueue=o),l=o.lastEffect,l===null?o.lastEffect=i.next=i:(u=l.next,l.next=i,i.next=u,o.lastEffect=i),i}function hf(){return{destroy:void 0,resource:void 0}}function e1(){return Zt().memoizedState}function pf(i,o,l,u){var h=Hn();u=u===void 0?null:u,Be.flags|=i,h.memoizedState=ea(1|o,hf(),l,u)}function Hl(i,o,l,u){var h=Zt();u=u===void 0?null:u;var m=h.memoizedState.inst;ht!==null&&u!==null&&bg(u,ht.memoizedState.deps)?h.memoizedState=ea(o,m,l,u):(Be.flags|=i,h.memoizedState=ea(1|o,m,l,u))}function t1(i,o){pf(8390656,8,i,o)}function n1(i,o){Hl(2048,8,i,o)}function r1(i,o){return Hl(4,2,i,o)}function i1(i,o){return Hl(4,4,i,o)}function s1(i,o){if(typeof o=="function"){i=i();var l=o(i);return function(){typeof l=="function"?l():o(null)}}if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function o1(i,o,l){l=l!=null?l.concat([i]):null,Hl(4,4,s1.bind(null,o,i),l)}function Og(){}function a1(i,o){var l=Zt();o=o===void 0?null:o;var u=l.memoizedState;return o!==null&&bg(o,u[1])?u[0]:(l.memoizedState=[i,o],i)}function l1(i,o){var l=Zt();o=o===void 0?null:o;var u=l.memoizedState;if(o!==null&&bg(o,u[1]))return u[0];if(u=i(),Xs){sn(!0);try{i()}finally{sn(!1)}}return l.memoizedState=[u,o],u}function Mg(i,o,l){return l===void 0||(Ji&1073741824)!==0?i.memoizedState=o:(i.memoizedState=l,i=fS(),Be.lanes|=i,os|=i,l)}function c1(i,o,l,u){return er(l,o)?l:Qo.current!==null?(i=Mg(i,l,u),er(i,o)||(an=!0),i):(Ji&42)===0?(an=!0,i.memoizedState=l):(i=fS(),Be.lanes|=i,os|=i,o)}function u1(i,o,l,u,h){var m=q.p;q.p=m!==0&&8>m?m:8;var x=M.T,O={};M.T=O,Lg(i,!1,o,l);try{var z=h(),Z=M.S;if(Z!==null&&Z(O,z),z!==null&&typeof z=="object"&&typeof z.then=="function"){var ie=C5(z,u);jl(i,o,ie,sr(i))}else jl(i,o,u,sr(i))}catch(ce){jl(i,o,{then:function(){},status:"rejected",reason:ce},sr())}finally{q.p=m,M.T=x}}function O5(){}function Dg(i,o,l,u){if(i.tag!==5)throw Error(r(476));var h=f1(i).queue;u1(i,h,o,K,l===null?O5:function(){return d1(i),l(u)})}function f1(i){var o=i.memoizedState;if(o!==null)return o;o={memoizedState:K,baseState:K,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:K},next:null};var l={};return o.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:l},next:null},i.memoizedState=o,i=i.alternate,i!==null&&(i.memoizedState=o),o}function d1(i){var o=f1(i).next.queue;jl(i,o,{},sr())}function kg(){return Cn(lc)}function h1(){return Zt().memoizedState}function p1(){return Zt().memoizedState}function M5(i){for(var o=i.return;o!==null;){switch(o.tag){case 24:case 3:var l=sr();i=Qi(l);var u=Zi(o,i,l);u!==null&&(or(u,o,l),$l(u,o,l)),o={cache:lg()},i.payload=o;return}o=o.return}}function D5(i,o,l){var u=sr();l={lane:u,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},gf(i)?m1(o,l):(l=Zp(i,o,l,u),l!==null&&(or(l,i,u),y1(l,o,u)))}function g1(i,o,l){var u=sr();jl(i,o,l,u)}function jl(i,o,l,u){var h={lane:u,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(gf(i))m1(o,h);else{var m=i.alternate;if(i.lanes===0&&(m===null||m.lanes===0)&&(m=o.lastRenderedReducer,m!==null))try{var x=o.lastRenderedState,O=m(x,l);if(h.hasEagerState=!0,h.eagerState=O,er(O,x))return Qu(i,o,h,0),Ct===null&&Wu(),!1}catch{}finally{}if(l=Zp(i,o,h,u),l!==null)return or(l,i,u),y1(l,o,u),!0}return!1}function Lg(i,o,l,u){if(u={lane:2,revertLane:fm(),action:u,hasEagerState:!1,eagerState:null,next:null},gf(i)){if(o)throw Error(r(479))}else o=Zp(i,l,u,2),o!==null&&or(o,i,2)}function gf(i){var o=i.alternate;return i===Be||o!==null&&o===Be}function m1(i,o){Zo=cf=!0;var l=i.pending;l===null?o.next=o:(o.next=l.next,l.next=o),i.pending=o}function y1(i,o,l){if((l&4194048)!==0){var u=o.lanes;u&=i.pendingLanes,l|=u,o.lanes=l,Pu(i,l)}}var mf={readContext:Cn,use:ff,useCallback:Vt,useContext:Vt,useEffect:Vt,useImperativeHandle:Vt,useLayoutEffect:Vt,useInsertionEffect:Vt,useMemo:Vt,useReducer:Vt,useRef:Vt,useState:Vt,useDebugValue:Vt,useDeferredValue:Vt,useTransition:Vt,useSyncExternalStore:Vt,useId:Vt,useHostTransitionStatus:Vt,useFormState:Vt,useActionState:Vt,useOptimistic:Vt,useMemoCache:Vt,useCacheRefresh:Vt},b1={readContext:Cn,use:ff,useCallback:function(i,o){return Hn().memoizedState=[i,o===void 0?null:o],i},useContext:Cn,useEffect:t1,useImperativeHandle:function(i,o,l){l=l!=null?l.concat([i]):null,pf(4194308,4,s1.bind(null,o,i),l)},useLayoutEffect:function(i,o){return pf(4194308,4,i,o)},useInsertionEffect:function(i,o){pf(4,2,i,o)},useMemo:function(i,o){var l=Hn();o=o===void 0?null:o;var u=i();if(Xs){sn(!0);try{i()}finally{sn(!1)}}return l.memoizedState=[u,o],u},useReducer:function(i,o,l){var u=Hn();if(l!==void 0){var h=l(o);if(Xs){sn(!0);try{l(o)}finally{sn(!1)}}}else h=o;return u.memoizedState=u.baseState=h,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:h},u.queue=i,i=i.dispatch=D5.bind(null,Be,i),[u.memoizedState,i]},useRef:function(i){var o=Hn();return i={current:i},o.memoizedState=i},useState:function(i){i=Tg(i);var o=i.queue,l=g1.bind(null,Be,o);return o.dispatch=l,[i.memoizedState,l]},useDebugValue:Og,useDeferredValue:function(i,o){var l=Hn();return Mg(l,i,o)},useTransition:function(){var i=Tg(!1);return i=u1.bind(null,Be,i.queue,!0,!1),Hn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,o,l){var u=Be,h=Hn();if(Xe){if(l===void 0)throw Error(r(407));l=l()}else{if(l=o(),Ct===null)throw Error(r(349));(qe&124)!==0||Uw(u,o,l)}h.memoizedState=l;var m={value:l,getSnapshot:o};return h.queue=m,t1(Fw.bind(null,u,m,i),[i]),u.flags|=2048,ea(9,hf(),zw.bind(null,u,m,l,o),null),l},useId:function(){var i=Hn(),o=Ct.identifierPrefix;if(Xe){var l=Ai,u=Ci;l=(u&~(1<<32-It(u)-1)).toString(32)+l,o=""+o+"R"+l,l=uf++,0<l&&(o+="H"+l.toString(32)),o+=""}else l=A5++,o=""+o+"r"+l.toString(32)+"";return i.memoizedState=o},useHostTransitionStatus:kg,useFormState:Ww,useActionState:Ww,useOptimistic:function(i){var o=Hn();o.memoizedState=o.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=l,o=Lg.bind(null,Be,!0,l),l.dispatch=o,[i,o]},useMemoCache:Cg,useCacheRefresh:function(){return Hn().memoizedState=M5.bind(null,Be)}},v1={readContext:Cn,use:ff,useCallback:a1,useContext:Cn,useEffect:n1,useImperativeHandle:o1,useInsertionEffect:r1,useLayoutEffect:i1,useMemo:l1,useReducer:df,useRef:e1,useState:function(){return df(Ri)},useDebugValue:Og,useDeferredValue:function(i,o){var l=Zt();return c1(l,ht.memoizedState,i,o)},useTransition:function(){var i=df(Ri)[0],o=Zt().memoizedState;return[typeof i=="boolean"?i:ql(i),o]},useSyncExternalStore:$w,useId:h1,useHostTransitionStatus:kg,useFormState:Qw,useActionState:Qw,useOptimistic:function(i,o){var l=Zt();return jw(l,ht,i,o)},useMemoCache:Cg,useCacheRefresh:p1},k5={readContext:Cn,use:ff,useCallback:a1,useContext:Cn,useEffect:n1,useImperativeHandle:o1,useInsertionEffect:r1,useLayoutEffect:i1,useMemo:l1,useReducer:_g,useRef:e1,useState:function(){return _g(Ri)},useDebugValue:Og,useDeferredValue:function(i,o){var l=Zt();return ht===null?Mg(l,i,o):c1(l,ht.memoizedState,i,o)},useTransition:function(){var i=_g(Ri)[0],o=Zt().memoizedState;return[typeof i=="boolean"?i:ql(i),o]},useSyncExternalStore:$w,useId:h1,useHostTransitionStatus:kg,useFormState:Jw,useActionState:Jw,useOptimistic:function(i,o){var l=Zt();return ht!==null?jw(l,ht,i,o):(l.baseState=i,[i,l.queue.dispatch])},useMemoCache:Cg,useCacheRefresh:p1},ta=null,Vl=0;function yf(i){var o=Vl;return Vl+=1,ta===null&&(ta=[]),Mw(ta,i,o)}function Kl(i,o){o=o.props.ref,i.ref=o!==void 0?o:null}function bf(i,o){throw o.$$typeof===y?Error(r(525)):(i=Object.prototype.toString.call(o),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i)))}function w1(i){var o=i._init;return o(i._payload)}function S1(i){function o(Y,V){if(i){var X=Y.deletions;X===null?(Y.deletions=[V],Y.flags|=16):X.push(V)}}function l(Y,V){if(!i)return null;for(;V!==null;)o(Y,V),V=V.sibling;return null}function u(Y){for(var V=new Map;Y!==null;)Y.key!==null?V.set(Y.key,Y):V.set(Y.index,Y),Y=Y.sibling;return V}function h(Y,V){return Y=xi(Y,V),Y.index=0,Y.sibling=null,Y}function m(Y,V,X){return Y.index=X,i?(X=Y.alternate,X!==null?(X=X.index,X<V?(Y.flags|=67108866,V):X):(Y.flags|=67108866,V)):(Y.flags|=1048576,V)}function x(Y){return i&&Y.alternate===null&&(Y.flags|=67108866),Y}function O(Y,V,X,oe){return V===null||V.tag!==6?(V=eg(X,Y.mode,oe),V.return=Y,V):(V=h(V,X),V.return=Y,V)}function z(Y,V,X,oe){var ye=X.type;return ye===v?ie(Y,V,X.props.children,oe,X.key):V!==null&&(V.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===j&&w1(ye)===V.type)?(V=h(V,X.props),Kl(V,X),V.return=Y,V):(V=Ju(X.type,X.key,X.props,null,Y.mode,oe),Kl(V,X),V.return=Y,V)}function Z(Y,V,X,oe){return V===null||V.tag!==4||V.stateNode.containerInfo!==X.containerInfo||V.stateNode.implementation!==X.implementation?(V=tg(X,Y.mode,oe),V.return=Y,V):(V=h(V,X.children||[]),V.return=Y,V)}function ie(Y,V,X,oe,ye){return V===null||V.tag!==7?(V=Fs(X,Y.mode,oe,ye),V.return=Y,V):(V=h(V,X),V.return=Y,V)}function ce(Y,V,X){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=eg(""+V,Y.mode,X),V.return=Y,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case b:return X=Ju(V.type,V.key,V.props,null,Y.mode,X),Kl(X,V),X.return=Y,X;case w:return V=tg(V,Y.mode,X),V.return=Y,V;case j:var oe=V._init;return V=oe(V._payload),ce(Y,V,X)}if(N(V)||_(V))return V=Fs(V,Y.mode,X,null),V.return=Y,V;if(typeof V.then=="function")return ce(Y,yf(V),X);if(V.$$typeof===A)return ce(Y,rf(Y,V),X);bf(Y,V)}return null}function J(Y,V,X,oe){var ye=V!==null?V.key:null;if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return ye!==null?null:O(Y,V,""+X,oe);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case b:return X.key===ye?z(Y,V,X,oe):null;case w:return X.key===ye?Z(Y,V,X,oe):null;case j:return ye=X._init,X=ye(X._payload),J(Y,V,X,oe)}if(N(X)||_(X))return ye!==null?null:ie(Y,V,X,oe,null);if(typeof X.then=="function")return J(Y,V,yf(X),oe);if(X.$$typeof===A)return J(Y,V,rf(Y,X),oe);bf(Y,X)}return null}function ee(Y,V,X,oe,ye){if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return Y=Y.get(X)||null,O(V,Y,""+oe,ye);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case b:return Y=Y.get(oe.key===null?X:oe.key)||null,z(V,Y,oe,ye);case w:return Y=Y.get(oe.key===null?X:oe.key)||null,Z(V,Y,oe,ye);case j:var Ie=oe._init;return oe=Ie(oe._payload),ee(Y,V,X,oe,ye)}if(N(oe)||_(oe))return Y=Y.get(X)||null,ie(V,Y,oe,ye,null);if(typeof oe.then=="function")return ee(Y,V,X,yf(oe),ye);if(oe.$$typeof===A)return ee(Y,V,X,rf(V,oe),ye);bf(V,oe)}return null}function Re(Y,V,X,oe){for(var ye=null,Ie=null,we=V,Ae=V=0,cn=null;we!==null&&Ae<X.length;Ae++){we.index>Ae?(cn=we,we=null):cn=we.sibling;var Ve=J(Y,we,X[Ae],oe);if(Ve===null){we===null&&(we=cn);break}i&&we&&Ve.alternate===null&&o(Y,we),V=m(Ve,V,Ae),Ie===null?ye=Ve:Ie.sibling=Ve,Ie=Ve,we=cn}if(Ae===X.length)return l(Y,we),Xe&&Hs(Y,Ae),ye;if(we===null){for(;Ae<X.length;Ae++)we=ce(Y,X[Ae],oe),we!==null&&(V=m(we,V,Ae),Ie===null?ye=we:Ie.sibling=we,Ie=we);return Xe&&Hs(Y,Ae),ye}for(we=u(we);Ae<X.length;Ae++)cn=ee(we,Y,Ae,X[Ae],oe),cn!==null&&(i&&cn.alternate!==null&&we.delete(cn.key===null?Ae:cn.key),V=m(cn,V,Ae),Ie===null?ye=cn:Ie.sibling=cn,Ie=cn);return i&&we.forEach(function(gs){return o(Y,gs)}),Xe&&Hs(Y,Ae),ye}function Ce(Y,V,X,oe){if(X==null)throw Error(r(151));for(var ye=null,Ie=null,we=V,Ae=V=0,cn=null,Ve=X.next();we!==null&&!Ve.done;Ae++,Ve=X.next()){we.index>Ae?(cn=we,we=null):cn=we.sibling;var gs=J(Y,we,Ve.value,oe);if(gs===null){we===null&&(we=cn);break}i&&we&&gs.alternate===null&&o(Y,we),V=m(gs,V,Ae),Ie===null?ye=gs:Ie.sibling=gs,Ie=gs,we=cn}if(Ve.done)return l(Y,we),Xe&&Hs(Y,Ae),ye;if(we===null){for(;!Ve.done;Ae++,Ve=X.next())Ve=ce(Y,Ve.value,oe),Ve!==null&&(V=m(Ve,V,Ae),Ie===null?ye=Ve:Ie.sibling=Ve,Ie=Ve);return Xe&&Hs(Y,Ae),ye}for(we=u(we);!Ve.done;Ae++,Ve=X.next())Ve=ee(we,Y,Ae,Ve.value,oe),Ve!==null&&(i&&Ve.alternate!==null&&we.delete(Ve.key===null?Ae:Ve.key),V=m(Ve,V,Ae),Ie===null?ye=Ve:Ie.sibling=Ve,Ie=Ve);return i&&we.forEach(function(LR){return o(Y,LR)}),Xe&&Hs(Y,Ae),ye}function gt(Y,V,X,oe){if(typeof X=="object"&&X!==null&&X.type===v&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case b:e:{for(var ye=X.key;V!==null;){if(V.key===ye){if(ye=X.type,ye===v){if(V.tag===7){l(Y,V.sibling),oe=h(V,X.props.children),oe.return=Y,Y=oe;break e}}else if(V.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===j&&w1(ye)===V.type){l(Y,V.sibling),oe=h(V,X.props),Kl(oe,X),oe.return=Y,Y=oe;break e}l(Y,V);break}else o(Y,V);V=V.sibling}X.type===v?(oe=Fs(X.props.children,Y.mode,oe,X.key),oe.return=Y,Y=oe):(oe=Ju(X.type,X.key,X.props,null,Y.mode,oe),Kl(oe,X),oe.return=Y,Y=oe)}return x(Y);case w:e:{for(ye=X.key;V!==null;){if(V.key===ye)if(V.tag===4&&V.stateNode.containerInfo===X.containerInfo&&V.stateNode.implementation===X.implementation){l(Y,V.sibling),oe=h(V,X.children||[]),oe.return=Y,Y=oe;break e}else{l(Y,V);break}else o(Y,V);V=V.sibling}oe=tg(X,Y.mode,oe),oe.return=Y,Y=oe}return x(Y);case j:return ye=X._init,X=ye(X._payload),gt(Y,V,X,oe)}if(N(X))return Re(Y,V,X,oe);if(_(X)){if(ye=_(X),typeof ye!="function")throw Error(r(150));return X=ye.call(X),Ce(Y,V,X,oe)}if(typeof X.then=="function")return gt(Y,V,yf(X),oe);if(X.$$typeof===A)return gt(Y,V,rf(Y,X),oe);bf(Y,X)}return typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint"?(X=""+X,V!==null&&V.tag===6?(l(Y,V.sibling),oe=h(V,X),oe.return=Y,Y=oe):(l(Y,V),oe=eg(X,Y.mode,oe),oe.return=Y,Y=oe),x(Y)):l(Y,V)}return function(Y,V,X,oe){try{Vl=0;var ye=gt(Y,V,X,oe);return ta=null,ye}catch(we){if(we===Il||we===of)throw we;var Ie=tr(29,we,null,Y.mode);return Ie.lanes=oe,Ie.return=Y,Ie}finally{}}}var na=S1(!0),E1=S1(!1),yr=H(null),Zr=null;function es(i){var o=i.alternate;te(nn,nn.current&1),te(yr,i),Zr===null&&(o===null||Qo.current!==null||o.memoizedState!==null)&&(Zr=i)}function x1(i){if(i.tag===22){if(te(nn,nn.current),te(yr,i),Zr===null){var o=i.alternate;o!==null&&o.memoizedState!==null&&(Zr=i)}}else ts()}function ts(){te(nn,nn.current),te(yr,yr.current)}function Oi(i){Q(yr),Zr===i&&(Zr=null),Q(nn)}var nn=H(0);function vf(i){for(var o=i;o!==null;){if(o.tag===13){var l=o.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||xm(l)))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}function Ng(i,o,l,u){o=i.memoizedState,l=l(u,o),l=l==null?o:g({},o,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var Bg={enqueueSetState:function(i,o,l){i=i._reactInternals;var u=sr(),h=Qi(u);h.payload=o,l!=null&&(h.callback=l),o=Zi(i,h,u),o!==null&&(or(o,i,u),$l(o,i,u))},enqueueReplaceState:function(i,o,l){i=i._reactInternals;var u=sr(),h=Qi(u);h.tag=1,h.payload=o,l!=null&&(h.callback=l),o=Zi(i,h,u),o!==null&&(or(o,i,u),$l(o,i,u))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var l=sr(),u=Qi(l);u.tag=2,o!=null&&(u.callback=o),o=Zi(i,u,l),o!==null&&(or(o,i,l),$l(o,i,l))}};function C1(i,o,l,u,h,m,x){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,m,x):o.prototype&&o.prototype.isPureReactComponent?!Rl(l,u)||!Rl(h,m):!0}function A1(i,o,l,u){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(l,u),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(l,u),o.state!==i&&Bg.enqueueReplaceState(o,o.state,null)}function Ws(i,o){var l=o;if("ref"in o){l={};for(var u in o)u!=="ref"&&(l[u]=o[u])}if(i=i.defaultProps){l===o&&(l=g({},l));for(var h in i)l[h]===void 0&&(l[h]=i[h])}return l}var wf=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function _1(i){wf(i)}function T1(i){console.error(i)}function R1(i){wf(i)}function Sf(i,o){try{var l=i.onUncaughtError;l(o.value,{componentStack:o.stack})}catch(u){setTimeout(function(){throw u})}}function O1(i,o,l){try{var u=i.onCaughtError;u(l.value,{componentStack:l.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Ig(i,o,l){return l=Qi(l),l.tag=3,l.payload={element:null},l.callback=function(){Sf(i,o)},l}function M1(i){return i=Qi(i),i.tag=3,i}function D1(i,o,l,u){var h=l.type.getDerivedStateFromError;if(typeof h=="function"){var m=u.value;i.payload=function(){return h(m)},i.callback=function(){O1(o,l,u)}}var x=l.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(i.callback=function(){O1(o,l,u),typeof h!="function"&&(as===null?as=new Set([this]):as.add(this));var O=u.stack;this.componentDidCatch(u.value,{componentStack:O!==null?O:""})})}function L5(i,o,l,u,h){if(l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(o=l.alternate,o!==null&&Ll(o,l,h,!0),l=yr.current,l!==null){switch(l.tag){case 13:return Zr===null?om():l.alternate===null&&$t===0&&($t=3),l.flags&=-257,l.flags|=65536,l.lanes=h,u===fg?l.flags|=16384:(o=l.updateQueue,o===null?l.updateQueue=new Set([u]):o.add(u),lm(i,u,h)),!1;case 22:return l.flags|=65536,u===fg?l.flags|=16384:(o=l.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([u])},l.updateQueue=o):(l=o.retryQueue,l===null?o.retryQueue=new Set([u]):l.add(u)),lm(i,u,h)),!1}throw Error(r(435,l.tag))}return lm(i,u,h),om(),!1}if(Xe)return o=yr.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=h,u!==ig&&(i=Error(r(422),{cause:u}),kl(hr(i,l)))):(u!==ig&&(o=Error(r(423),{cause:u}),kl(hr(o,l))),i=i.current.alternate,i.flags|=65536,h&=-h,i.lanes|=h,u=hr(u,l),h=Ig(i.stateNode,u,h),pg(i,h),$t!==4&&($t=2)),!1;var m=Error(r(520),{cause:u});if(m=hr(m,l),Jl===null?Jl=[m]:Jl.push(m),$t!==4&&($t=2),o===null)return!0;u=hr(u,l),l=o;do{switch(l.tag){case 3:return l.flags|=65536,i=h&-h,l.lanes|=i,i=Ig(l.stateNode,u,i),pg(l,i),!1;case 1:if(o=l.type,m=l.stateNode,(l.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(as===null||!as.has(m))))return l.flags|=65536,h&=-h,l.lanes|=h,h=M1(h),D1(h,i,l,u),pg(l,h),!1}l=l.return}while(l!==null);return!1}var k1=Error(r(461)),an=!1;function hn(i,o,l,u){o.child=i===null?E1(o,null,l,u):na(o,i.child,l,u)}function L1(i,o,l,u,h){l=l.render;var m=o.ref;if("ref"in u){var x={};for(var O in u)O!=="ref"&&(x[O]=u[O])}else x=u;return Gs(o),u=vg(i,o,l,x,m,h),O=wg(),i!==null&&!an?(Sg(i,o,h),Mi(i,o,h)):(Xe&&O&&ng(o),o.flags|=1,hn(i,o,u,h),o.child)}function N1(i,o,l,u,h){if(i===null){var m=l.type;return typeof m=="function"&&!Jp(m)&&m.defaultProps===void 0&&l.compare===null?(o.tag=15,o.type=m,B1(i,o,m,u,h)):(i=Ju(l.type,null,u,o,o.mode,h),i.ref=o.ref,i.return=o,o.child=i)}if(m=i.child,!jg(i,h)){var x=m.memoizedProps;if(l=l.compare,l=l!==null?l:Rl,l(x,u)&&i.ref===o.ref)return Mi(i,o,h)}return o.flags|=1,i=xi(m,u),i.ref=o.ref,i.return=o,o.child=i}function B1(i,o,l,u,h){if(i!==null){var m=i.memoizedProps;if(Rl(m,u)&&i.ref===o.ref)if(an=!1,o.pendingProps=u=m,jg(i,h))(i.flags&131072)!==0&&(an=!0);else return o.lanes=i.lanes,Mi(i,o,h)}return Pg(i,o,l,u,h)}function I1(i,o,l){var u=o.pendingProps,h=u.children,m=i!==null?i.memoizedState:null;if(u.mode==="hidden"){if((o.flags&128)!==0){if(u=m!==null?m.baseLanes|l:l,i!==null){for(h=o.child=i.child,m=0;h!==null;)m=m|h.lanes|h.childLanes,h=h.sibling;o.childLanes=m&~u}else o.childLanes=0,o.child=null;return P1(i,o,u,l)}if((l&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},i!==null&&sf(o,m!==null?m.cachePool:null),m!==null?Bw(o,m):mg(),x1(o);else return o.lanes=o.childLanes=536870912,P1(i,o,m!==null?m.baseLanes|l:l,l)}else m!==null?(sf(o,m.cachePool),Bw(o,m),ts(),o.memoizedState=null):(i!==null&&sf(o,null),mg(),ts());return hn(i,o,h,l),o.child}function P1(i,o,l,u){var h=ug();return h=h===null?null:{parent:tn._currentValue,pool:h},o.memoizedState={baseLanes:l,cachePool:h},i!==null&&sf(o,null),mg(),x1(o),i!==null&&Ll(i,o,u,!0),null}function Ef(i,o){var l=o.ref;if(l===null)i!==null&&i.ref!==null&&(o.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(i===null||i.ref!==l)&&(o.flags|=4194816)}}function Pg(i,o,l,u,h){return Gs(o),l=vg(i,o,l,u,void 0,h),u=wg(),i!==null&&!an?(Sg(i,o,h),Mi(i,o,h)):(Xe&&u&&ng(o),o.flags|=1,hn(i,o,l,h),o.child)}function $1(i,o,l,u,h,m){return Gs(o),o.updateQueue=null,l=Pw(o,u,l,h),Iw(i),u=wg(),i!==null&&!an?(Sg(i,o,m),Mi(i,o,m)):(Xe&&u&&ng(o),o.flags|=1,hn(i,o,l,m),o.child)}function U1(i,o,l,u,h){if(Gs(o),o.stateNode===null){var m=Ko,x=l.contextType;typeof x=="object"&&x!==null&&(m=Cn(x)),m=new l(u,m),o.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Bg,o.stateNode=m,m._reactInternals=o,m=o.stateNode,m.props=u,m.state=o.memoizedState,m.refs={},dg(o),x=l.contextType,m.context=typeof x=="object"&&x!==null?Cn(x):Ko,m.state=o.memoizedState,x=l.getDerivedStateFromProps,typeof x=="function"&&(Ng(o,l,x,u),m.state=o.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(x=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),x!==m.state&&Bg.enqueueReplaceState(m,m.state,null),zl(o,u,m,h),Ul(),m.state=o.memoizedState),typeof m.componentDidMount=="function"&&(o.flags|=4194308),u=!0}else if(i===null){m=o.stateNode;var O=o.memoizedProps,z=Ws(l,O);m.props=z;var Z=m.context,ie=l.contextType;x=Ko,typeof ie=="object"&&ie!==null&&(x=Cn(ie));var ce=l.getDerivedStateFromProps;ie=typeof ce=="function"||typeof m.getSnapshotBeforeUpdate=="function",O=o.pendingProps!==O,ie||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(O||Z!==x)&&A1(o,m,u,x),Wi=!1;var J=o.memoizedState;m.state=J,zl(o,u,m,h),Ul(),Z=o.memoizedState,O||J!==Z||Wi?(typeof ce=="function"&&(Ng(o,l,ce,u),Z=o.memoizedState),(z=Wi||C1(o,l,z,u,J,Z,x))?(ie||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(o.flags|=4194308)):(typeof m.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=u,o.memoizedState=Z),m.props=u,m.state=Z,m.context=x,u=z):(typeof m.componentDidMount=="function"&&(o.flags|=4194308),u=!1)}else{m=o.stateNode,hg(i,o),x=o.memoizedProps,ie=Ws(l,x),m.props=ie,ce=o.pendingProps,J=m.context,Z=l.contextType,z=Ko,typeof Z=="object"&&Z!==null&&(z=Cn(Z)),O=l.getDerivedStateFromProps,(Z=typeof O=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(x!==ce||J!==z)&&A1(o,m,u,z),Wi=!1,J=o.memoizedState,m.state=J,zl(o,u,m,h),Ul();var ee=o.memoizedState;x!==ce||J!==ee||Wi||i!==null&&i.dependencies!==null&&nf(i.dependencies)?(typeof O=="function"&&(Ng(o,l,O,u),ee=o.memoizedState),(ie=Wi||C1(o,l,ie,u,J,ee,z)||i!==null&&i.dependencies!==null&&nf(i.dependencies))?(Z||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(u,ee,z),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(u,ee,z)),typeof m.componentDidUpdate=="function"&&(o.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof m.componentDidUpdate!="function"||x===i.memoizedProps&&J===i.memoizedState||(o.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||x===i.memoizedProps&&J===i.memoizedState||(o.flags|=1024),o.memoizedProps=u,o.memoizedState=ee),m.props=u,m.state=ee,m.context=z,u=ie):(typeof m.componentDidUpdate!="function"||x===i.memoizedProps&&J===i.memoizedState||(o.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||x===i.memoizedProps&&J===i.memoizedState||(o.flags|=1024),u=!1)}return m=u,Ef(i,o),u=(o.flags&128)!==0,m||u?(m=o.stateNode,l=u&&typeof l.getDerivedStateFromError!="function"?null:m.render(),o.flags|=1,i!==null&&u?(o.child=na(o,i.child,null,h),o.child=na(o,null,l,h)):hn(i,o,l,h),o.memoizedState=m.state,i=o.child):i=Mi(i,o,h),i}function z1(i,o,l,u){return Dl(),o.flags|=256,hn(i,o,l,u),o.child}var $g={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ug(i){return{baseLanes:i,cachePool:Tw()}}function zg(i,o,l){return i=i!==null?i.childLanes&~l:0,o&&(i|=br),i}function F1(i,o,l){var u=o.pendingProps,h=!1,m=(o.flags&128)!==0,x;if((x=m)||(x=i!==null&&i.memoizedState===null?!1:(nn.current&2)!==0),x&&(h=!0,o.flags&=-129),x=(o.flags&32)!==0,o.flags&=-33,i===null){if(Xe){if(h?es(o):ts(),Xe){var O=Pt,z;if(z=O){e:{for(z=O,O=Qr;z.nodeType!==8;){if(!O){O=null;break e}if(z=$r(z.nextSibling),z===null){O=null;break e}}O=z}O!==null?(o.memoizedState={dehydrated:O,treeContext:qs!==null?{id:Ci,overflow:Ai}:null,retryLane:536870912,hydrationErrors:null},z=tr(18,null,null,0),z.stateNode=O,z.return=o,o.child=z,Bn=o,Pt=null,z=!0):z=!1}z||Vs(o)}if(O=o.memoizedState,O!==null&&(O=O.dehydrated,O!==null))return xm(O)?o.lanes=32:o.lanes=536870912,null;Oi(o)}return O=u.children,u=u.fallback,h?(ts(),h=o.mode,O=xf({mode:"hidden",children:O},h),u=Fs(u,h,l,null),O.return=o,u.return=o,O.sibling=u,o.child=O,h=o.child,h.memoizedState=Ug(l),h.childLanes=zg(i,x,l),o.memoizedState=$g,u):(es(o),Fg(o,O))}if(z=i.memoizedState,z!==null&&(O=z.dehydrated,O!==null)){if(m)o.flags&256?(es(o),o.flags&=-257,o=qg(i,o,l)):o.memoizedState!==null?(ts(),o.child=i.child,o.flags|=128,o=null):(ts(),h=u.fallback,O=o.mode,u=xf({mode:"visible",children:u.children},O),h=Fs(h,O,l,null),h.flags|=2,u.return=o,h.return=o,u.sibling=h,o.child=u,na(o,i.child,null,l),u=o.child,u.memoizedState=Ug(l),u.childLanes=zg(i,x,l),o.memoizedState=$g,o=h);else if(es(o),xm(O)){if(x=O.nextSibling&&O.nextSibling.dataset,x)var Z=x.dgst;x=Z,u=Error(r(419)),u.stack="",u.digest=x,kl({value:u,source:null,stack:null}),o=qg(i,o,l)}else if(an||Ll(i,o,l,!1),x=(l&i.childLanes)!==0,an||x){if(x=Ct,x!==null&&(u=l&-l,u=(u&42)!==0?1:yl(u),u=(u&(x.suspendedLanes|l))!==0?0:u,u!==0&&u!==z.retryLane))throw z.retryLane=u,Vo(i,u),or(x,i,u),k1;O.data==="$?"||om(),o=qg(i,o,l)}else O.data==="$?"?(o.flags|=192,o.child=i.child,o=null):(i=z.treeContext,Pt=$r(O.nextSibling),Bn=o,Xe=!0,js=null,Qr=!1,i!==null&&(gr[mr++]=Ci,gr[mr++]=Ai,gr[mr++]=qs,Ci=i.id,Ai=i.overflow,qs=o),o=Fg(o,u.children),o.flags|=4096);return o}return h?(ts(),h=u.fallback,O=o.mode,z=i.child,Z=z.sibling,u=xi(z,{mode:"hidden",children:u.children}),u.subtreeFlags=z.subtreeFlags&65011712,Z!==null?h=xi(Z,h):(h=Fs(h,O,l,null),h.flags|=2),h.return=o,u.return=o,u.sibling=h,o.child=u,u=h,h=o.child,O=i.child.memoizedState,O===null?O=Ug(l):(z=O.cachePool,z!==null?(Z=tn._currentValue,z=z.parent!==Z?{parent:Z,pool:Z}:z):z=Tw(),O={baseLanes:O.baseLanes|l,cachePool:z}),h.memoizedState=O,h.childLanes=zg(i,x,l),o.memoizedState=$g,u):(es(o),l=i.child,i=l.sibling,l=xi(l,{mode:"visible",children:u.children}),l.return=o,l.sibling=null,i!==null&&(x=o.deletions,x===null?(o.deletions=[i],o.flags|=16):x.push(i)),o.child=l,o.memoizedState=null,l)}function Fg(i,o){return o=xf({mode:"visible",children:o},i.mode),o.return=i,i.child=o}function xf(i,o){return i=tr(22,i,null,o),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function qg(i,o,l){return na(o,i.child,null,l),i=Fg(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function q1(i,o,l){i.lanes|=o;var u=i.alternate;u!==null&&(u.lanes|=o),og(i.return,o,l)}function Hg(i,o,l,u,h){var m=i.memoizedState;m===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:h}:(m.isBackwards=o,m.rendering=null,m.renderingStartTime=0,m.last=u,m.tail=l,m.tailMode=h)}function H1(i,o,l){var u=o.pendingProps,h=u.revealOrder,m=u.tail;if(hn(i,o,u.children,l),u=nn.current,(u&2)!==0)u=u&1|2,o.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&q1(i,l,o);else if(i.tag===19)q1(i,l,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}u&=1}switch(te(nn,u),h){case"forwards":for(l=o.child,h=null;l!==null;)i=l.alternate,i!==null&&vf(i)===null&&(h=l),l=l.sibling;l=h,l===null?(h=o.child,o.child=null):(h=l.sibling,l.sibling=null),Hg(o,!1,h,l,m);break;case"backwards":for(l=null,h=o.child,o.child=null;h!==null;){if(i=h.alternate,i!==null&&vf(i)===null){o.child=h;break}i=h.sibling,h.sibling=l,l=h,h=i}Hg(o,!0,l,null,m);break;case"together":Hg(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Mi(i,o,l){if(i!==null&&(o.dependencies=i.dependencies),os|=o.lanes,(l&o.childLanes)===0)if(i!==null){if(Ll(i,o,l,!1),(l&o.childLanes)===0)return null}else return null;if(i!==null&&o.child!==i.child)throw Error(r(153));if(o.child!==null){for(i=o.child,l=xi(i,i.pendingProps),o.child=l,l.return=o;i.sibling!==null;)i=i.sibling,l=l.sibling=xi(i,i.pendingProps),l.return=o;l.sibling=null}return o.child}function jg(i,o){return(i.lanes&o)!==0?!0:(i=i.dependencies,!!(i!==null&&nf(i)))}function N5(i,o,l){switch(o.tag){case 3:he(o,o.stateNode.containerInfo),Xi(o,tn,i.memoizedState.cache),Dl();break;case 27:case 5:de(o);break;case 4:he(o,o.stateNode.containerInfo);break;case 10:Xi(o,o.type,o.memoizedProps.value);break;case 13:var u=o.memoizedState;if(u!==null)return u.dehydrated!==null?(es(o),o.flags|=128,null):(l&o.child.childLanes)!==0?F1(i,o,l):(es(o),i=Mi(i,o,l),i!==null?i.sibling:null);es(o);break;case 19:var h=(i.flags&128)!==0;if(u=(l&o.childLanes)!==0,u||(Ll(i,o,l,!1),u=(l&o.childLanes)!==0),h){if(u)return H1(i,o,l);o.flags|=128}if(h=o.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),te(nn,nn.current),u)break;return null;case 22:case 23:return o.lanes=0,I1(i,o,l);case 24:Xi(o,tn,i.memoizedState.cache)}return Mi(i,o,l)}function j1(i,o,l){if(i!==null)if(i.memoizedProps!==o.pendingProps)an=!0;else{if(!jg(i,l)&&(o.flags&128)===0)return an=!1,N5(i,o,l);an=(i.flags&131072)!==0}else an=!1,Xe&&(o.flags&1048576)!==0&&ww(o,tf,o.index);switch(o.lanes=0,o.tag){case 16:e:{i=o.pendingProps;var u=o.elementType,h=u._init;if(u=h(u._payload),o.type=u,typeof u=="function")Jp(u)?(i=Ws(u,i),o.tag=1,o=U1(null,o,u,i,l)):(o.tag=0,o=Pg(null,o,u,i,l));else{if(u!=null){if(h=u.$$typeof,h===T){o.tag=11,o=L1(null,o,u,i,l);break e}else if(h===$){o.tag=14,o=N1(null,o,u,i,l);break e}}throw o=L(u)||u,Error(r(306,o,""))}}return o;case 0:return Pg(i,o,o.type,o.pendingProps,l);case 1:return u=o.type,h=Ws(u,o.pendingProps),U1(i,o,u,h,l);case 3:e:{if(he(o,o.stateNode.containerInfo),i===null)throw Error(r(387));u=o.pendingProps;var m=o.memoizedState;h=m.element,hg(i,o),zl(o,u,null,l);var x=o.memoizedState;if(u=x.cache,Xi(o,tn,u),u!==m.cache&&ag(o,[tn],l,!0),Ul(),u=x.element,m.isDehydrated)if(m={element:u,isDehydrated:!1,cache:x.cache},o.updateQueue.baseState=m,o.memoizedState=m,o.flags&256){o=z1(i,o,u,l);break e}else if(u!==h){h=hr(Error(r(424)),o),kl(h),o=z1(i,o,u,l);break e}else{switch(i=o.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(Pt=$r(i.firstChild),Bn=o,Xe=!0,js=null,Qr=!0,l=E1(o,null,u,l),o.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Dl(),u===h){o=Mi(i,o,l);break e}hn(i,o,u,l)}o=o.child}return o;case 26:return Ef(i,o),i===null?(l=YS(o.type,null,o.pendingProps,null))?o.memoizedState=l:Xe||(l=o.type,i=o.pendingProps,u=Pf(le.current).createElement(l),u[Oe]=o,u[Me]=i,gn(u,l,i),on(u),o.stateNode=u):o.memoizedState=YS(o.type,i.memoizedProps,o.pendingProps,i.memoizedState),null;case 27:return de(o),i===null&&Xe&&(u=o.stateNode=VS(o.type,o.pendingProps,le.current),Bn=o,Qr=!0,h=Pt,us(o.type)?(Cm=h,Pt=$r(u.firstChild)):Pt=h),hn(i,o,o.pendingProps.children,l),Ef(i,o),i===null&&(o.flags|=4194304),o.child;case 5:return i===null&&Xe&&((h=u=Pt)&&(u=lR(u,o.type,o.pendingProps,Qr),u!==null?(o.stateNode=u,Bn=o,Pt=$r(u.firstChild),Qr=!1,h=!0):h=!1),h||Vs(o)),de(o),h=o.type,m=o.pendingProps,x=i!==null?i.memoizedProps:null,u=m.children,wm(h,m)?u=null:x!==null&&wm(h,x)&&(o.flags|=32),o.memoizedState!==null&&(h=vg(i,o,_5,null,null,l),lc._currentValue=h),Ef(i,o),hn(i,o,u,l),o.child;case 6:return i===null&&Xe&&((i=l=Pt)&&(l=cR(l,o.pendingProps,Qr),l!==null?(o.stateNode=l,Bn=o,Pt=null,i=!0):i=!1),i||Vs(o)),null;case 13:return F1(i,o,l);case 4:return he(o,o.stateNode.containerInfo),u=o.pendingProps,i===null?o.child=na(o,null,u,l):hn(i,o,u,l),o.child;case 11:return L1(i,o,o.type,o.pendingProps,l);case 7:return hn(i,o,o.pendingProps,l),o.child;case 8:return hn(i,o,o.pendingProps.children,l),o.child;case 12:return hn(i,o,o.pendingProps.children,l),o.child;case 10:return u=o.pendingProps,Xi(o,o.type,u.value),hn(i,o,u.children,l),o.child;case 9:return h=o.type._context,u=o.pendingProps.children,Gs(o),h=Cn(h),u=u(h),o.flags|=1,hn(i,o,u,l),o.child;case 14:return N1(i,o,o.type,o.pendingProps,l);case 15:return B1(i,o,o.type,o.pendingProps,l);case 19:return H1(i,o,l);case 31:return u=o.pendingProps,l=o.mode,u={mode:u.mode,children:u.children},i===null?(l=xf(u,l),l.ref=o.ref,o.child=l,l.return=o,o=l):(l=xi(i.child,u),l.ref=o.ref,o.child=l,l.return=o,o=l),o;case 22:return I1(i,o,l);case 24:return Gs(o),u=Cn(tn),i===null?(h=ug(),h===null&&(h=Ct,m=lg(),h.pooledCache=m,m.refCount++,m!==null&&(h.pooledCacheLanes|=l),h=m),o.memoizedState={parent:u,cache:h},dg(o),Xi(o,tn,h)):((i.lanes&l)!==0&&(hg(i,o),zl(o,null,null,l),Ul()),h=i.memoizedState,m=o.memoizedState,h.parent!==u?(h={parent:u,cache:u},o.memoizedState=h,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=h),Xi(o,tn,u)):(u=m.cache,Xi(o,tn,u),u!==h.cache&&ag(o,[tn],l,!0))),hn(i,o,o.pendingProps.children,l),o.child;case 29:throw o.pendingProps}throw Error(r(156,o.tag))}function Di(i){i.flags|=4}function V1(i,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!JS(o)){if(o=yr.current,o!==null&&((qe&4194048)===qe?Zr!==null:(qe&62914560)!==qe&&(qe&536870912)===0||o!==Zr))throw Pl=fg,Rw;i.flags|=8192}}function Cf(i,o){o!==null&&(i.flags|=4),i.flags&16384&&(o=i.tag!==22?Bu():536870912,i.lanes|=o,oa|=o)}function Gl(i,o){if(!Xe)switch(i.tailMode){case"hidden":o=i.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function Dt(i){var o=i.alternate!==null&&i.alternate.child===i.child,l=0,u=0;if(o)for(var h=i.child;h!==null;)l|=h.lanes|h.childLanes,u|=h.subtreeFlags&65011712,u|=h.flags&65011712,h.return=i,h=h.sibling;else for(h=i.child;h!==null;)l|=h.lanes|h.childLanes,u|=h.subtreeFlags,u|=h.flags,h.return=i,h=h.sibling;return i.subtreeFlags|=u,i.childLanes=l,o}function B5(i,o,l){var u=o.pendingProps;switch(rg(o),o.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dt(o),null;case 1:return Dt(o),null;case 3:return l=o.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),o.memoizedState.cache!==u&&(o.flags|=2048),Ti(tn),fe(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(Ml(o)?Di(o):i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,xw())),Dt(o),null;case 26:return l=o.memoizedState,i===null?(Di(o),l!==null?(Dt(o),V1(o,l)):(Dt(o),o.flags&=-16777217)):l?l!==i.memoizedState?(Di(o),Dt(o),V1(o,l)):(Dt(o),o.flags&=-16777217):(i.memoizedProps!==u&&Di(o),Dt(o),o.flags&=-16777217),null;case 27:De(o),l=le.current;var h=o.type;if(i!==null&&o.stateNode!=null)i.memoizedProps!==u&&Di(o);else{if(!u){if(o.stateNode===null)throw Error(r(166));return Dt(o),null}i=ae.current,Ml(o)?Sw(o):(i=VS(h,u,l),o.stateNode=i,Di(o))}return Dt(o),null;case 5:if(De(o),l=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==u&&Di(o);else{if(!u){if(o.stateNode===null)throw Error(r(166));return Dt(o),null}if(i=ae.current,Ml(o))Sw(o);else{switch(h=Pf(le.current),i){case 1:i=h.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:i=h.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":i=h.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":i=h.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":i=h.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof u.is=="string"?h.createElement("select",{is:u.is}):h.createElement("select"),u.multiple?i.multiple=!0:u.size&&(i.size=u.size);break;default:i=typeof u.is=="string"?h.createElement(l,{is:u.is}):h.createElement(l)}}i[Oe]=o,i[Me]=u;e:for(h=o.child;h!==null;){if(h.tag===5||h.tag===6)i.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===o)break e;for(;h.sibling===null;){if(h.return===null||h.return===o)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}o.stateNode=i;e:switch(gn(i,l,u),l){case"button":case"input":case"select":case"textarea":i=!!u.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Di(o)}}return Dt(o),o.flags&=-16777217,null;case 6:if(i&&o.stateNode!=null)i.memoizedProps!==u&&Di(o);else{if(typeof u!="string"&&o.stateNode===null)throw Error(r(166));if(i=le.current,Ml(o)){if(i=o.stateNode,l=o.memoizedProps,u=null,h=Bn,h!==null)switch(h.tag){case 27:case 5:u=h.memoizedProps}i[Oe]=o,i=!!(i.nodeValue===l||u!==null&&u.suppressHydrationWarning===!0||$S(i.nodeValue,l)),i||Vs(o)}else i=Pf(i).createTextNode(u),i[Oe]=o,o.stateNode=i}return Dt(o),null;case 13:if(u=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(h=Ml(o),u!==null&&u.dehydrated!==null){if(i===null){if(!h)throw Error(r(318));if(h=o.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[Oe]=o}else Dl(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Dt(o),h=!1}else h=xw(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=h),h=!0;if(!h)return o.flags&256?(Oi(o),o):(Oi(o),null)}if(Oi(o),(o.flags&128)!==0)return o.lanes=l,o;if(l=u!==null,i=i!==null&&i.memoizedState!==null,l){u=o.child,h=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(h=u.alternate.memoizedState.cachePool.pool);var m=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(m=u.memoizedState.cachePool.pool),m!==h&&(u.flags|=2048)}return l!==i&&l&&(o.child.flags|=8192),Cf(o,o.updateQueue),Dt(o),null;case 4:return fe(),i===null&&gm(o.stateNode.containerInfo),Dt(o),null;case 10:return Ti(o.type),Dt(o),null;case 19:if(Q(nn),h=o.memoizedState,h===null)return Dt(o),null;if(u=(o.flags&128)!==0,m=h.rendering,m===null)if(u)Gl(h,!1);else{if($t!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(m=vf(i),m!==null){for(o.flags|=128,Gl(h,!1),i=m.updateQueue,o.updateQueue=i,Cf(o,i),o.subtreeFlags=0,i=l,l=o.child;l!==null;)vw(l,i),l=l.sibling;return te(nn,nn.current&1|2),o.child}i=i.sibling}h.tail!==null&&ze()>Tf&&(o.flags|=128,u=!0,Gl(h,!1),o.lanes=4194304)}else{if(!u)if(i=vf(m),i!==null){if(o.flags|=128,u=!0,i=i.updateQueue,o.updateQueue=i,Cf(o,i),Gl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!m.alternate&&!Xe)return Dt(o),null}else 2*ze()-h.renderingStartTime>Tf&&l!==536870912&&(o.flags|=128,u=!0,Gl(h,!1),o.lanes=4194304);h.isBackwards?(m.sibling=o.child,o.child=m):(i=h.last,i!==null?i.sibling=m:o.child=m,h.last=m)}return h.tail!==null?(o=h.tail,h.rendering=o,h.tail=o.sibling,h.renderingStartTime=ze(),o.sibling=null,i=nn.current,te(nn,u?i&1|2:i&1),o):(Dt(o),null);case 22:case 23:return Oi(o),yg(),u=o.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(o.flags|=8192):u&&(o.flags|=8192),u?(l&536870912)!==0&&(o.flags&128)===0&&(Dt(o),o.subtreeFlags&6&&(o.flags|=8192)):Dt(o),l=o.updateQueue,l!==null&&Cf(o,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),u=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(u=o.memoizedState.cachePool.pool),u!==l&&(o.flags|=2048),i!==null&&Q(Ys),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),o.memoizedState.cache!==l&&(o.flags|=2048),Ti(tn),Dt(o),null;case 25:return null;case 30:return null}throw Error(r(156,o.tag))}function I5(i,o){switch(rg(o),o.tag){case 1:return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return Ti(tn),fe(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 26:case 27:case 5:return De(o),null;case 13:if(Oi(o),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(r(340));Dl()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return Q(nn),null;case 4:return fe(),null;case 10:return Ti(o.type),null;case 22:case 23:return Oi(o),yg(),i!==null&&Q(Ys),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 24:return Ti(tn),null;case 25:return null;default:return null}}function K1(i,o){switch(rg(o),o.tag){case 3:Ti(tn),fe();break;case 26:case 27:case 5:De(o);break;case 4:fe();break;case 13:Oi(o);break;case 19:Q(nn);break;case 10:Ti(o.type);break;case 22:case 23:Oi(o),yg(),i!==null&&Q(Ys);break;case 24:Ti(tn)}}function Yl(i,o){try{var l=o.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var h=u.next;l=h;do{if((l.tag&i)===i){u=void 0;var m=l.create,x=l.inst;u=m(),x.destroy=u}l=l.next}while(l!==h)}}catch(O){Et(o,o.return,O)}}function ns(i,o,l){try{var u=o.updateQueue,h=u!==null?u.lastEffect:null;if(h!==null){var m=h.next;u=m;do{if((u.tag&i)===i){var x=u.inst,O=x.destroy;if(O!==void 0){x.destroy=void 0,h=o;var z=l,Z=O;try{Z()}catch(ie){Et(h,z,ie)}}}u=u.next}while(u!==m)}}catch(ie){Et(o,o.return,ie)}}function G1(i){var o=i.updateQueue;if(o!==null){var l=i.stateNode;try{Nw(o,l)}catch(u){Et(i,i.return,u)}}}function Y1(i,o,l){l.props=Ws(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(u){Et(i,o,u)}}function Xl(i,o){try{var l=i.ref;if(l!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof l=="function"?i.refCleanup=l(u):l.current=u}}catch(h){Et(i,o,h)}}function Jr(i,o){var l=i.ref,u=i.refCleanup;if(l!==null)if(typeof u=="function")try{u()}catch(h){Et(i,o,h)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(h){Et(i,o,h)}else l.current=null}function X1(i){var o=i.type,l=i.memoizedProps,u=i.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":l.autoFocus&&u.focus();break e;case"img":l.src?u.src=l.src:l.srcSet&&(u.srcset=l.srcSet)}}catch(h){Et(i,i.return,h)}}function Vg(i,o,l){try{var u=i.stateNode;rR(u,i.type,l,o),u[Me]=o}catch(h){Et(i,i.return,h)}}function W1(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&us(i.type)||i.tag===4}function Kg(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||W1(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&us(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Gg(i,o,l){var u=i.tag;if(u===5||u===6)i=i.stateNode,o?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(i,o):(o=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,o.appendChild(i),l=l._reactRootContainer,l!=null||o.onclick!==null||(o.onclick=If));else if(u!==4&&(u===27&&us(i.type)&&(l=i.stateNode,o=null),i=i.child,i!==null))for(Gg(i,o,l),i=i.sibling;i!==null;)Gg(i,o,l),i=i.sibling}function Af(i,o,l){var u=i.tag;if(u===5||u===6)i=i.stateNode,o?l.insertBefore(i,o):l.appendChild(i);else if(u!==4&&(u===27&&us(i.type)&&(l=i.stateNode),i=i.child,i!==null))for(Af(i,o,l),i=i.sibling;i!==null;)Af(i,o,l),i=i.sibling}function Q1(i){var o=i.stateNode,l=i.memoizedProps;try{for(var u=i.type,h=o.attributes;h.length;)o.removeAttributeNode(h[0]);gn(o,u,l),o[Oe]=i,o[Me]=l}catch(m){Et(i,i.return,m)}}var ki=!1,Kt=!1,Yg=!1,Z1=typeof WeakSet=="function"?WeakSet:Set,ln=null;function P5(i,o){if(i=i.containerInfo,bm=Hf,i=cw(i),Kp(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var h=u.anchorOffset,m=u.focusNode;u=u.focusOffset;try{l.nodeType,m.nodeType}catch{l=null;break e}var x=0,O=-1,z=-1,Z=0,ie=0,ce=i,J=null;t:for(;;){for(var ee;ce!==l||h!==0&&ce.nodeType!==3||(O=x+h),ce!==m||u!==0&&ce.nodeType!==3||(z=x+u),ce.nodeType===3&&(x+=ce.nodeValue.length),(ee=ce.firstChild)!==null;)J=ce,ce=ee;for(;;){if(ce===i)break t;if(J===l&&++Z===h&&(O=x),J===m&&++ie===u&&(z=x),(ee=ce.nextSibling)!==null)break;ce=J,J=ce.parentNode}ce=ee}l=O===-1||z===-1?null:{start:O,end:z}}else l=null}l=l||{start:0,end:0}}else l=null;for(vm={focusedElem:i,selectionRange:l},Hf=!1,ln=o;ln!==null;)if(o=ln,i=o.child,(o.subtreeFlags&1024)!==0&&i!==null)i.return=o,ln=i;else for(;ln!==null;){switch(o=ln,m=o.alternate,i=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&m!==null){i=void 0,l=o,h=m.memoizedProps,m=m.memoizedState,u=l.stateNode;try{var Re=Ws(l.type,h,l.elementType===l.type);i=u.getSnapshotBeforeUpdate(Re,m),u.__reactInternalSnapshotBeforeUpdate=i}catch(Ce){Et(l,l.return,Ce)}}break;case 3:if((i&1024)!==0){if(i=o.stateNode.containerInfo,l=i.nodeType,l===9)Em(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Em(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=o.sibling,i!==null){i.return=o.return,ln=i;break}ln=o.return}}function J1(i,o,l){var u=l.flags;switch(l.tag){case 0:case 11:case 15:rs(i,l),u&4&&Yl(5,l);break;case 1:if(rs(i,l),u&4)if(i=l.stateNode,o===null)try{i.componentDidMount()}catch(x){Et(l,l.return,x)}else{var h=Ws(l.type,o.memoizedProps);o=o.memoizedState;try{i.componentDidUpdate(h,o,i.__reactInternalSnapshotBeforeUpdate)}catch(x){Et(l,l.return,x)}}u&64&&G1(l),u&512&&Xl(l,l.return);break;case 3:if(rs(i,l),u&64&&(i=l.updateQueue,i!==null)){if(o=null,l.child!==null)switch(l.child.tag){case 27:case 5:o=l.child.stateNode;break;case 1:o=l.child.stateNode}try{Nw(i,o)}catch(x){Et(l,l.return,x)}}break;case 27:o===null&&u&4&&Q1(l);case 26:case 5:rs(i,l),o===null&&u&4&&X1(l),u&512&&Xl(l,l.return);break;case 12:rs(i,l);break;case 13:rs(i,l),u&4&&nS(i,l),u&64&&(i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(l=K5.bind(null,l),uR(i,l))));break;case 22:if(u=l.memoizedState!==null||ki,!u){o=o!==null&&o.memoizedState!==null||Kt,h=ki;var m=Kt;ki=u,(Kt=o)&&!m?is(i,l,(l.subtreeFlags&8772)!==0):rs(i,l),ki=h,Kt=m}break;case 30:break;default:rs(i,l)}}function eS(i){var o=i.alternate;o!==null&&(i.alternate=null,eS(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&Tp(o)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Tt=null,jn=!1;function Li(i,o,l){for(l=l.child;l!==null;)tS(i,o,l),l=l.sibling}function tS(i,o,l){if(jt&&typeof jt.onCommitFiberUnmount=="function")try{jt.onCommitFiberUnmount(Zn,l)}catch{}switch(l.tag){case 26:Kt||Jr(l,o),Li(i,o,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Kt||Jr(l,o);var u=Tt,h=jn;us(l.type)&&(Tt=l.stateNode,jn=!1),Li(i,o,l),ic(l.stateNode),Tt=u,jn=h;break;case 5:Kt||Jr(l,o);case 6:if(u=Tt,h=jn,Tt=null,Li(i,o,l),Tt=u,jn=h,Tt!==null)if(jn)try{(Tt.nodeType===9?Tt.body:Tt.nodeName==="HTML"?Tt.ownerDocument.body:Tt).removeChild(l.stateNode)}catch(m){Et(l,o,m)}else try{Tt.removeChild(l.stateNode)}catch(m){Et(l,o,m)}break;case 18:Tt!==null&&(jn?(i=Tt,HS(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,l.stateNode),dc(i)):HS(Tt,l.stateNode));break;case 4:u=Tt,h=jn,Tt=l.stateNode.containerInfo,jn=!0,Li(i,o,l),Tt=u,jn=h;break;case 0:case 11:case 14:case 15:Kt||ns(2,l,o),Kt||ns(4,l,o),Li(i,o,l);break;case 1:Kt||(Jr(l,o),u=l.stateNode,typeof u.componentWillUnmount=="function"&&Y1(l,o,u)),Li(i,o,l);break;case 21:Li(i,o,l);break;case 22:Kt=(u=Kt)||l.memoizedState!==null,Li(i,o,l),Kt=u;break;default:Li(i,o,l)}}function nS(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{dc(i)}catch(l){Et(o,o.return,l)}}function $5(i){switch(i.tag){case 13:case 19:var o=i.stateNode;return o===null&&(o=i.stateNode=new Z1),o;case 22:return i=i.stateNode,o=i._retryCache,o===null&&(o=i._retryCache=new Z1),o;default:throw Error(r(435,i.tag))}}function Xg(i,o){var l=$5(i);o.forEach(function(u){var h=G5.bind(null,i,u);l.has(u)||(l.add(u),u.then(h,h))})}function nr(i,o){var l=o.deletions;if(l!==null)for(var u=0;u<l.length;u++){var h=l[u],m=i,x=o,O=x;e:for(;O!==null;){switch(O.tag){case 27:if(us(O.type)){Tt=O.stateNode,jn=!1;break e}break;case 5:Tt=O.stateNode,jn=!1;break e;case 3:case 4:Tt=O.stateNode.containerInfo,jn=!0;break e}O=O.return}if(Tt===null)throw Error(r(160));tS(m,x,h),Tt=null,jn=!1,m=h.alternate,m!==null&&(m.return=null),h.return=null}if(o.subtreeFlags&13878)for(o=o.child;o!==null;)rS(o,i),o=o.sibling}var Pr=null;function rS(i,o){var l=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:nr(o,i),rr(i),u&4&&(ns(3,i,i.return),Yl(3,i),ns(5,i,i.return));break;case 1:nr(o,i),rr(i),u&512&&(Kt||l===null||Jr(l,l.return)),u&64&&ki&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?u:l.concat(u))));break;case 26:var h=Pr;if(nr(o,i),rr(i),u&512&&(Kt||l===null||Jr(l,l.return)),u&4){var m=l!==null?l.memoizedState:null;if(u=i.memoizedState,l===null)if(u===null)if(i.stateNode===null){e:{u=i.type,l=i.memoizedProps,h=h.ownerDocument||h;t:switch(u){case"title":m=h.getElementsByTagName("title")[0],(!m||m[wi]||m[Oe]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=h.createElement(u),h.head.insertBefore(m,h.querySelector("head > title"))),gn(m,u,l),m[Oe]=i,on(m),u=m;break e;case"link":var x=QS("link","href",h).get(u+(l.href||""));if(x){for(var O=0;O<x.length;O++)if(m=x[O],m.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&m.getAttribute("rel")===(l.rel==null?null:l.rel)&&m.getAttribute("title")===(l.title==null?null:l.title)&&m.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){x.splice(O,1);break t}}m=h.createElement(u),gn(m,u,l),h.head.appendChild(m);break;case"meta":if(x=QS("meta","content",h).get(u+(l.content||""))){for(O=0;O<x.length;O++)if(m=x[O],m.getAttribute("content")===(l.content==null?null:""+l.content)&&m.getAttribute("name")===(l.name==null?null:l.name)&&m.getAttribute("property")===(l.property==null?null:l.property)&&m.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&m.getAttribute("charset")===(l.charSet==null?null:l.charSet)){x.splice(O,1);break t}}m=h.createElement(u),gn(m,u,l),h.head.appendChild(m);break;default:throw Error(r(468,u))}m[Oe]=i,on(m),u=m}i.stateNode=u}else ZS(h,i.type,i.stateNode);else i.stateNode=WS(h,u,i.memoizedProps);else m!==u?(m===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):m.count--,u===null?ZS(h,i.type,i.stateNode):WS(h,u,i.memoizedProps)):u===null&&i.stateNode!==null&&Vg(i,i.memoizedProps,l.memoizedProps)}break;case 27:nr(o,i),rr(i),u&512&&(Kt||l===null||Jr(l,l.return)),l!==null&&u&4&&Vg(i,i.memoizedProps,l.memoizedProps);break;case 5:if(nr(o,i),rr(i),u&512&&(Kt||l===null||Jr(l,l.return)),i.flags&32){h=i.stateNode;try{$o(h,"")}catch(ee){Et(i,i.return,ee)}}u&4&&i.stateNode!=null&&(h=i.memoizedProps,Vg(i,h,l!==null?l.memoizedProps:h)),u&1024&&(Yg=!0);break;case 6:if(nr(o,i),rr(i),u&4){if(i.stateNode===null)throw Error(r(162));u=i.memoizedProps,l=i.stateNode;try{l.nodeValue=u}catch(ee){Et(i,i.return,ee)}}break;case 3:if(zf=null,h=Pr,Pr=$f(o.containerInfo),nr(o,i),Pr=h,rr(i),u&4&&l!==null&&l.memoizedState.isDehydrated)try{dc(o.containerInfo)}catch(ee){Et(i,i.return,ee)}Yg&&(Yg=!1,iS(i));break;case 4:u=Pr,Pr=$f(i.stateNode.containerInfo),nr(o,i),rr(i),Pr=u;break;case 12:nr(o,i),rr(i);break;case 13:nr(o,i),rr(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(tm=ze()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Xg(i,u)));break;case 22:h=i.memoizedState!==null;var z=l!==null&&l.memoizedState!==null,Z=ki,ie=Kt;if(ki=Z||h,Kt=ie||z,nr(o,i),Kt=ie,ki=Z,rr(i),u&8192)e:for(o=i.stateNode,o._visibility=h?o._visibility&-2:o._visibility|1,h&&(l===null||z||ki||Kt||Qs(i)),l=null,o=i;;){if(o.tag===5||o.tag===26){if(l===null){z=l=o;try{if(m=z.stateNode,h)x=m.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none";else{O=z.stateNode;var ce=z.memoizedProps.style,J=ce!=null&&ce.hasOwnProperty("display")?ce.display:null;O.style.display=J==null||typeof J=="boolean"?"":(""+J).trim()}}catch(ee){Et(z,z.return,ee)}}}else if(o.tag===6){if(l===null){z=o;try{z.stateNode.nodeValue=h?"":z.memoizedProps}catch(ee){Et(z,z.return,ee)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===i)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break e;for(;o.sibling===null;){if(o.return===null||o.return===i)break e;l===o&&(l=null),o=o.return}l===o&&(l=null),o.sibling.return=o.return,o=o.sibling}u&4&&(u=i.updateQueue,u!==null&&(l=u.retryQueue,l!==null&&(u.retryQueue=null,Xg(i,l))));break;case 19:nr(o,i),rr(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Xg(i,u)));break;case 30:break;case 21:break;default:nr(o,i),rr(i)}}function rr(i){var o=i.flags;if(o&2){try{for(var l,u=i.return;u!==null;){if(W1(u)){l=u;break}u=u.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var h=l.stateNode,m=Kg(i);Af(i,m,h);break;case 5:var x=l.stateNode;l.flags&32&&($o(x,""),l.flags&=-33);var O=Kg(i);Af(i,O,x);break;case 3:case 4:var z=l.stateNode.containerInfo,Z=Kg(i);Gg(i,Z,z);break;default:throw Error(r(161))}}catch(ie){Et(i,i.return,ie)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function iS(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var o=i;iS(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),i=i.sibling}}function rs(i,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)J1(i,o.alternate,o),o=o.sibling}function Qs(i){for(i=i.child;i!==null;){var o=i;switch(o.tag){case 0:case 11:case 14:case 15:ns(4,o,o.return),Qs(o);break;case 1:Jr(o,o.return);var l=o.stateNode;typeof l.componentWillUnmount=="function"&&Y1(o,o.return,l),Qs(o);break;case 27:ic(o.stateNode);case 26:case 5:Jr(o,o.return),Qs(o);break;case 22:o.memoizedState===null&&Qs(o);break;case 30:Qs(o);break;default:Qs(o)}i=i.sibling}}function is(i,o,l){for(l=l&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var u=o.alternate,h=i,m=o,x=m.flags;switch(m.tag){case 0:case 11:case 15:is(h,m,l),Yl(4,m);break;case 1:if(is(h,m,l),u=m,h=u.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(Z){Et(u,u.return,Z)}if(u=m,h=u.updateQueue,h!==null){var O=u.stateNode;try{var z=h.shared.hiddenCallbacks;if(z!==null)for(h.shared.hiddenCallbacks=null,h=0;h<z.length;h++)Lw(z[h],O)}catch(Z){Et(u,u.return,Z)}}l&&x&64&&G1(m),Xl(m,m.return);break;case 27:Q1(m);case 26:case 5:is(h,m,l),l&&u===null&&x&4&&X1(m),Xl(m,m.return);break;case 12:is(h,m,l);break;case 13:is(h,m,l),l&&x&4&&nS(h,m);break;case 22:m.memoizedState===null&&is(h,m,l),Xl(m,m.return);break;case 30:break;default:is(h,m,l)}o=o.sibling}}function Wg(i,o){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(i=o.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&Nl(l))}function Qg(i,o){i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&Nl(i))}function ei(i,o,l,u){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)sS(i,o,l,u),o=o.sibling}function sS(i,o,l,u){var h=o.flags;switch(o.tag){case 0:case 11:case 15:ei(i,o,l,u),h&2048&&Yl(9,o);break;case 1:ei(i,o,l,u);break;case 3:ei(i,o,l,u),h&2048&&(i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&Nl(i)));break;case 12:if(h&2048){ei(i,o,l,u),i=o.stateNode;try{var m=o.memoizedProps,x=m.id,O=m.onPostCommit;typeof O=="function"&&O(x,o.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(z){Et(o,o.return,z)}}else ei(i,o,l,u);break;case 13:ei(i,o,l,u);break;case 23:break;case 22:m=o.stateNode,x=o.alternate,o.memoizedState!==null?m._visibility&2?ei(i,o,l,u):Wl(i,o):m._visibility&2?ei(i,o,l,u):(m._visibility|=2,ra(i,o,l,u,(o.subtreeFlags&10256)!==0)),h&2048&&Wg(x,o);break;case 24:ei(i,o,l,u),h&2048&&Qg(o.alternate,o);break;default:ei(i,o,l,u)}}function ra(i,o,l,u,h){for(h=h&&(o.subtreeFlags&10256)!==0,o=o.child;o!==null;){var m=i,x=o,O=l,z=u,Z=x.flags;switch(x.tag){case 0:case 11:case 15:ra(m,x,O,z,h),Yl(8,x);break;case 23:break;case 22:var ie=x.stateNode;x.memoizedState!==null?ie._visibility&2?ra(m,x,O,z,h):Wl(m,x):(ie._visibility|=2,ra(m,x,O,z,h)),h&&Z&2048&&Wg(x.alternate,x);break;case 24:ra(m,x,O,z,h),h&&Z&2048&&Qg(x.alternate,x);break;default:ra(m,x,O,z,h)}o=o.sibling}}function Wl(i,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var l=i,u=o,h=u.flags;switch(u.tag){case 22:Wl(l,u),h&2048&&Wg(u.alternate,u);break;case 24:Wl(l,u),h&2048&&Qg(u.alternate,u);break;default:Wl(l,u)}o=o.sibling}}var Ql=8192;function ia(i){if(i.subtreeFlags&Ql)for(i=i.child;i!==null;)oS(i),i=i.sibling}function oS(i){switch(i.tag){case 26:ia(i),i.flags&Ql&&i.memoizedState!==null&&xR(Pr,i.memoizedState,i.memoizedProps);break;case 5:ia(i);break;case 3:case 4:var o=Pr;Pr=$f(i.stateNode.containerInfo),ia(i),Pr=o;break;case 22:i.memoizedState===null&&(o=i.alternate,o!==null&&o.memoizedState!==null?(o=Ql,Ql=16777216,ia(i),Ql=o):ia(i));break;default:ia(i)}}function aS(i){var o=i.alternate;if(o!==null&&(i=o.child,i!==null)){o.child=null;do o=i.sibling,i.sibling=null,i=o;while(i!==null)}}function Zl(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var l=0;l<o.length;l++){var u=o[l];ln=u,cS(u,i)}aS(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)lS(i),i=i.sibling}function lS(i){switch(i.tag){case 0:case 11:case 15:Zl(i),i.flags&2048&&ns(9,i,i.return);break;case 3:Zl(i);break;case 12:Zl(i);break;case 22:var o=i.stateNode;i.memoizedState!==null&&o._visibility&2&&(i.return===null||i.return.tag!==13)?(o._visibility&=-3,_f(i)):Zl(i);break;default:Zl(i)}}function _f(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var l=0;l<o.length;l++){var u=o[l];ln=u,cS(u,i)}aS(i)}for(i=i.child;i!==null;){switch(o=i,o.tag){case 0:case 11:case 15:ns(8,o,o.return),_f(o);break;case 22:l=o.stateNode,l._visibility&2&&(l._visibility&=-3,_f(o));break;default:_f(o)}i=i.sibling}}function cS(i,o){for(;ln!==null;){var l=ln;switch(l.tag){case 0:case 11:case 15:ns(8,l,o);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var u=l.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Nl(l.memoizedState.cache)}if(u=l.child,u!==null)u.return=l,ln=u;else e:for(l=i;ln!==null;){u=ln;var h=u.sibling,m=u.return;if(eS(u),u===l){ln=null;break e}if(h!==null){h.return=m,ln=h;break e}ln=m}}}var U5={getCacheForType:function(i){var o=Cn(tn),l=o.data.get(i);return l===void 0&&(l=i(),o.data.set(i,l)),l}},z5=typeof WeakMap=="function"?WeakMap:Map,it=0,Ct=null,$e=null,qe=0,st=0,ir=null,ss=!1,sa=!1,Zg=!1,Ni=0,$t=0,os=0,Zs=0,Jg=0,br=0,oa=0,Jl=null,Vn=null,em=!1,tm=0,Tf=1/0,Rf=null,as=null,pn=0,ls=null,aa=null,la=0,nm=0,rm=null,uS=null,ec=0,im=null;function sr(){if((it&2)!==0&&qe!==0)return qe&-qe;if(M.T!==null){var i=Xo;return i!==0?i:fm()}return $u()}function fS(){br===0&&(br=(qe&536870912)===0||Xe?Wr():536870912);var i=yr.current;return i!==null&&(i.flags|=32),br}function or(i,o,l){(i===Ct&&(st===2||st===9)||i.cancelPendingCommit!==null)&&(ca(i,0),cs(i,qe,br,!1)),bi(i,l),((it&2)===0||i!==Ct)&&(i===Ct&&((it&2)===0&&(Zs|=l),$t===4&&cs(i,qe,br,!1)),ti(i))}function dS(i,o,l){if((it&6)!==0)throw Error(r(327));var u=!l&&(o&124)===0&&(o&i.expiredLanes)===0||At(i,o),h=u?H5(i,o):am(i,o,!0),m=u;do{if(h===0){sa&&!u&&cs(i,o,0,!1);break}else{if(l=i.current.alternate,m&&!F5(l)){h=am(i,o,!1),m=!1;continue}if(h===2){if(m=o,i.errorRecoveryDisabledLanes&m)var x=0;else x=i.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){o=x;e:{var O=i;h=Jl;var z=O.current.memoizedState.isDehydrated;if(z&&(ca(O,x).flags|=256),x=am(O,x,!1),x!==2){if(Zg&&!z){O.errorRecoveryDisabledLanes|=m,Zs|=m,h=4;break e}m=Vn,Vn=h,m!==null&&(Vn===null?Vn=m:Vn.push.apply(Vn,m))}h=x}if(m=!1,h!==2)continue}}if(h===1){ca(i,0),cs(i,o,0,!0);break}e:{switch(u=i,m=h,m){case 0:case 1:throw Error(r(345));case 4:if((o&4194048)!==o)break;case 6:cs(u,o,br,!ss);break e;case 2:Vn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((o&62914560)===o&&(h=tm+300-ze(),10<h)){if(cs(u,o,br,!ss),je(u,0,!0)!==0)break e;u.timeoutHandle=FS(hS.bind(null,u,l,Vn,Rf,em,o,br,Zs,oa,ss,m,2,-0,0),h);break e}hS(u,l,Vn,Rf,em,o,br,Zs,oa,ss,m,0,-0,0)}}break}while(!0);ti(i)}function hS(i,o,l,u,h,m,x,O,z,Z,ie,ce,J,ee){if(i.timeoutHandle=-1,ce=o.subtreeFlags,(ce&8192||(ce&16785408)===16785408)&&(ac={stylesheets:null,count:0,unsuspend:ER},oS(o),ce=CR(),ce!==null)){i.cancelPendingCommit=ce(wS.bind(null,i,o,m,l,u,h,x,O,z,ie,1,J,ee)),cs(i,m,x,!Z);return}wS(i,o,m,l,u,h,x,O,z)}function F5(i){for(var o=i;;){var l=o.tag;if((l===0||l===11||l===15)&&o.flags&16384&&(l=o.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var u=0;u<l.length;u++){var h=l[u],m=h.getSnapshot;h=h.value;try{if(!er(m(),h))return!1}catch{return!1}}if(l=o.child,o.subtreeFlags&16384&&l!==null)l.return=o,o=l;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function cs(i,o,l,u){o&=~Jg,o&=~Zs,i.suspendedLanes|=o,i.pingedLanes&=~o,u&&(i.warmLanes|=o),u=i.expirationTimes;for(var h=o;0<h;){var m=31-It(h),x=1<<m;u[m]=-1,h&=~x}l!==0&&Iu(i,l,o)}function Of(){return(it&6)===0?(tc(0),!1):!0}function sm(){if($e!==null){if(st===0)var i=$e.return;else i=$e,_i=Ks=null,Eg(i),ta=null,Vl=0,i=$e;for(;i!==null;)K1(i.alternate,i),i=i.return;$e=null}}function ca(i,o){var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,sR(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),sm(),Ct=i,$e=l=xi(i.current,null),qe=o,st=0,ir=null,ss=!1,sa=At(i,o),Zg=!1,oa=br=Jg=Zs=os=$t=0,Vn=Jl=null,em=!1,(o&8)!==0&&(o|=o&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=o;0<u;){var h=31-It(u),m=1<<h;o|=i[h],u&=~m}return Ni=o,Wu(),l}function pS(i,o){Be=null,M.H=mf,o===Il||o===of?(o=Dw(),st=3):o===Rw?(o=Dw(),st=4):st=o===k1?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,ir=o,$e===null&&($t=1,Sf(i,hr(o,i.current)))}function gS(){var i=M.H;return M.H=mf,i===null?mf:i}function mS(){var i=M.A;return M.A=U5,i}function om(){$t=4,ss||(qe&4194048)!==qe&&yr.current!==null||(sa=!0),(os&134217727)===0&&(Zs&134217727)===0||Ct===null||cs(Ct,qe,br,!1)}function am(i,o,l){var u=it;it|=2;var h=gS(),m=mS();(Ct!==i||qe!==o)&&(Rf=null,ca(i,o)),o=!1;var x=$t;e:do try{if(st!==0&&$e!==null){var O=$e,z=ir;switch(st){case 8:sm(),x=6;break e;case 3:case 2:case 9:case 6:yr.current===null&&(o=!0);var Z=st;if(st=0,ir=null,ua(i,O,z,Z),l&&sa){x=0;break e}break;default:Z=st,st=0,ir=null,ua(i,O,z,Z)}}q5(),x=$t;break}catch(ie){pS(i,ie)}while(!0);return o&&i.shellSuspendCounter++,_i=Ks=null,it=u,M.H=h,M.A=m,$e===null&&(Ct=null,qe=0,Wu()),x}function q5(){for(;$e!==null;)yS($e)}function H5(i,o){var l=it;it|=2;var u=gS(),h=mS();Ct!==i||qe!==o?(Rf=null,Tf=ze()+500,ca(i,o)):sa=At(i,o);e:do try{if(st!==0&&$e!==null){o=$e;var m=ir;t:switch(st){case 1:st=0,ir=null,ua(i,o,m,1);break;case 2:case 9:if(Ow(m)){st=0,ir=null,bS(o);break}o=function(){st!==2&&st!==9||Ct!==i||(st=7),ti(i)},m.then(o,o);break e;case 3:st=7;break e;case 4:st=5;break e;case 7:Ow(m)?(st=0,ir=null,bS(o)):(st=0,ir=null,ua(i,o,m,7));break;case 5:var x=null;switch($e.tag){case 26:x=$e.memoizedState;case 5:case 27:var O=$e;if(!x||JS(x)){st=0,ir=null;var z=O.sibling;if(z!==null)$e=z;else{var Z=O.return;Z!==null?($e=Z,Mf(Z)):$e=null}break t}}st=0,ir=null,ua(i,o,m,5);break;case 6:st=0,ir=null,ua(i,o,m,6);break;case 8:sm(),$t=6;break e;default:throw Error(r(462))}}j5();break}catch(ie){pS(i,ie)}while(!0);return _i=Ks=null,M.H=u,M.A=h,it=l,$e!==null?0:(Ct=null,qe=0,Wu(),$t)}function j5(){for(;$e!==null&&!Ye();)yS($e)}function yS(i){var o=j1(i.alternate,i,Ni);i.memoizedProps=i.pendingProps,o===null?Mf(i):$e=o}function bS(i){var o=i,l=o.alternate;switch(o.tag){case 15:case 0:o=$1(l,o,o.pendingProps,o.type,void 0,qe);break;case 11:o=$1(l,o,o.pendingProps,o.type.render,o.ref,qe);break;case 5:Eg(o);default:K1(l,o),o=$e=vw(o,Ni),o=j1(l,o,Ni)}i.memoizedProps=i.pendingProps,o===null?Mf(i):$e=o}function ua(i,o,l,u){_i=Ks=null,Eg(o),ta=null,Vl=0;var h=o.return;try{if(L5(i,h,o,l,qe)){$t=1,Sf(i,hr(l,i.current)),$e=null;return}}catch(m){if(h!==null)throw $e=h,m;$t=1,Sf(i,hr(l,i.current)),$e=null;return}o.flags&32768?(Xe||u===1?i=!0:sa||(qe&536870912)!==0?i=!1:(ss=i=!0,(u===2||u===9||u===3||u===6)&&(u=yr.current,u!==null&&u.tag===13&&(u.flags|=16384))),vS(o,i)):Mf(o)}function Mf(i){var o=i;do{if((o.flags&32768)!==0){vS(o,ss);return}i=o.return;var l=B5(o.alternate,o,Ni);if(l!==null){$e=l;return}if(o=o.sibling,o!==null){$e=o;return}$e=o=i}while(o!==null);$t===0&&($t=5)}function vS(i,o){do{var l=I5(i.alternate,i);if(l!==null){l.flags&=32767,$e=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!o&&(i=i.sibling,i!==null)){$e=i;return}$e=i=l}while(i!==null);$t=6,$e=null}function wS(i,o,l,u,h,m,x,O,z){i.cancelPendingCommit=null;do Df();while(pn!==0);if((it&6)!==0)throw Error(r(327));if(o!==null){if(o===i.current)throw Error(r(177));if(m=o.lanes|o.childLanes,m|=Qp,_p(i,l,m,x,O,z),i===Ct&&($e=Ct=null,qe=0),aa=o,ls=i,la=l,nm=m,rm=h,uS=u,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,Y5(Ze,function(){return AS(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||u){u=M.T,M.T=null,h=q.p,q.p=2,x=it,it|=4;try{P5(i,o,l)}finally{it=x,q.p=h,M.T=u}}pn=1,SS(),ES(),xS()}}function SS(){if(pn===1){pn=0;var i=ls,o=aa,l=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||l){l=M.T,M.T=null;var u=q.p;q.p=2;var h=it;it|=4;try{rS(o,i);var m=vm,x=cw(i.containerInfo),O=m.focusedElem,z=m.selectionRange;if(x!==O&&O&&O.ownerDocument&&lw(O.ownerDocument.documentElement,O)){if(z!==null&&Kp(O)){var Z=z.start,ie=z.end;if(ie===void 0&&(ie=Z),"selectionStart"in O)O.selectionStart=Z,O.selectionEnd=Math.min(ie,O.value.length);else{var ce=O.ownerDocument||document,J=ce&&ce.defaultView||window;if(J.getSelection){var ee=J.getSelection(),Re=O.textContent.length,Ce=Math.min(z.start,Re),gt=z.end===void 0?Ce:Math.min(z.end,Re);!ee.extend&&Ce>gt&&(x=gt,gt=Ce,Ce=x);var Y=aw(O,Ce),V=aw(O,gt);if(Y&&V&&(ee.rangeCount!==1||ee.anchorNode!==Y.node||ee.anchorOffset!==Y.offset||ee.focusNode!==V.node||ee.focusOffset!==V.offset)){var X=ce.createRange();X.setStart(Y.node,Y.offset),ee.removeAllRanges(),Ce>gt?(ee.addRange(X),ee.extend(V.node,V.offset)):(X.setEnd(V.node,V.offset),ee.addRange(X))}}}}for(ce=[],ee=O;ee=ee.parentNode;)ee.nodeType===1&&ce.push({element:ee,left:ee.scrollLeft,top:ee.scrollTop});for(typeof O.focus=="function"&&O.focus(),O=0;O<ce.length;O++){var oe=ce[O];oe.element.scrollLeft=oe.left,oe.element.scrollTop=oe.top}}Hf=!!bm,vm=bm=null}finally{it=h,q.p=u,M.T=l}}i.current=o,pn=2}}function ES(){if(pn===2){pn=0;var i=ls,o=aa,l=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||l){l=M.T,M.T=null;var u=q.p;q.p=2;var h=it;it|=4;try{J1(i,o.alternate,o)}finally{it=h,q.p=u,M.T=l}}pn=3}}function xS(){if(pn===4||pn===3){pn=0,rn();var i=ls,o=aa,l=la,u=uS;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?pn=5:(pn=0,aa=ls=null,CS(i,i.pendingLanes));var h=i.pendingLanes;if(h===0&&(as=null),bl(l),o=o.stateNode,jt&&typeof jt.onCommitFiberRoot=="function")try{jt.onCommitFiberRoot(Zn,o,void 0,(o.current.flags&128)===128)}catch{}if(u!==null){o=M.T,h=q.p,q.p=2,M.T=null;try{for(var m=i.onRecoverableError,x=0;x<u.length;x++){var O=u[x];m(O.value,{componentStack:O.stack})}}finally{M.T=o,q.p=h}}(la&3)!==0&&Df(),ti(i),h=i.pendingLanes,(l&4194090)!==0&&(h&42)!==0?i===im?ec++:(ec=0,im=i):ec=0,tc(0)}}function CS(i,o){(i.pooledCacheLanes&=o)===0&&(o=i.pooledCache,o!=null&&(i.pooledCache=null,Nl(o)))}function Df(i){return SS(),ES(),xS(),AS()}function AS(){if(pn!==5)return!1;var i=ls,o=nm;nm=0;var l=bl(la),u=M.T,h=q.p;try{q.p=32>l?32:l,M.T=null,l=rm,rm=null;var m=ls,x=la;if(pn=0,aa=ls=null,la=0,(it&6)!==0)throw Error(r(331));var O=it;if(it|=4,lS(m.current),sS(m,m.current,x,l),it=O,tc(0,!1),jt&&typeof jt.onPostCommitFiberRoot=="function")try{jt.onPostCommitFiberRoot(Zn,m)}catch{}return!0}finally{q.p=h,M.T=u,CS(i,o)}}function _S(i,o,l){o=hr(l,o),o=Ig(i.stateNode,o,2),i=Zi(i,o,2),i!==null&&(bi(i,2),ti(i))}function Et(i,o,l){if(i.tag===3)_S(i,i,l);else for(;o!==null;){if(o.tag===3){_S(o,i,l);break}else if(o.tag===1){var u=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(as===null||!as.has(u))){i=hr(l,i),l=M1(2),u=Zi(o,l,2),u!==null&&(D1(l,u,o,i),bi(u,2),ti(u));break}}o=o.return}}function lm(i,o,l){var u=i.pingCache;if(u===null){u=i.pingCache=new z5;var h=new Set;u.set(o,h)}else h=u.get(o),h===void 0&&(h=new Set,u.set(o,h));h.has(l)||(Zg=!0,h.add(l),i=V5.bind(null,i,o,l),o.then(i,i))}function V5(i,o,l){var u=i.pingCache;u!==null&&u.delete(o),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,Ct===i&&(qe&l)===l&&($t===4||$t===3&&(qe&62914560)===qe&&300>ze()-tm?(it&2)===0&&ca(i,0):Jg|=l,oa===qe&&(oa=0)),ti(i)}function TS(i,o){o===0&&(o=Bu()),i=Vo(i,o),i!==null&&(bi(i,o),ti(i))}function K5(i){var o=i.memoizedState,l=0;o!==null&&(l=o.retryLane),TS(i,l)}function G5(i,o){var l=0;switch(i.tag){case 13:var u=i.stateNode,h=i.memoizedState;h!==null&&(l=h.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(r(314))}u!==null&&u.delete(o),TS(i,l)}function Y5(i,o){return wt(i,o)}var kf=null,fa=null,cm=!1,Lf=!1,um=!1,Js=0;function ti(i){i!==fa&&i.next===null&&(fa===null?kf=fa=i:fa=fa.next=i),Lf=!0,cm||(cm=!0,W5())}function tc(i,o){if(!um&&Lf){um=!0;do for(var l=!1,u=kf;u!==null;){if(i!==0){var h=u.pendingLanes;if(h===0)var m=0;else{var x=u.suspendedLanes,O=u.pingedLanes;m=(1<<31-It(42|i)+1)-1,m&=h&~(x&~O),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(l=!0,DS(u,m))}else m=qe,m=je(u,u===Ct?m:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(m&3)===0||At(u,m)||(l=!0,DS(u,m));u=u.next}while(l);um=!1}}function X5(){RS()}function RS(){Lf=cm=!1;var i=0;Js!==0&&(iR()&&(i=Js),Js=0);for(var o=ze(),l=null,u=kf;u!==null;){var h=u.next,m=OS(u,o);m===0?(u.next=null,l===null?kf=h:l.next=h,h===null&&(fa=l)):(l=u,(i!==0||(m&3)!==0)&&(Lf=!0)),u=h}tc(i)}function OS(i,o){for(var l=i.suspendedLanes,u=i.pingedLanes,h=i.expirationTimes,m=i.pendingLanes&-62914561;0<m;){var x=31-It(m),O=1<<x,z=h[x];z===-1?((O&l)===0||(O&u)!==0)&&(h[x]=Br(O,o)):z<=o&&(i.expiredLanes|=O),m&=~O}if(o=Ct,l=qe,l=je(i,i===o?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,l===0||i===o&&(st===2||st===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&ke(u),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||At(i,l)){if(o=l&-l,o===i.callbackPriority)return o;switch(u!==null&&ke(u),bl(l)){case 2:case 8:l=Ht;break;case 32:l=Ze;break;case 268435456:l=zn;break;default:l=Ze}return u=MS.bind(null,i),l=wt(l,u),i.callbackPriority=o,i.callbackNode=l,o}return u!==null&&u!==null&&ke(u),i.callbackPriority=2,i.callbackNode=null,2}function MS(i,o){if(pn!==0&&pn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var l=i.callbackNode;if(Df()&&i.callbackNode!==l)return null;var u=qe;return u=je(i,i===Ct?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(dS(i,u,o),OS(i,ze()),i.callbackNode!=null&&i.callbackNode===l?MS.bind(null,i):null)}function DS(i,o){if(Df())return null;dS(i,o,!0)}function W5(){oR(function(){(it&6)!==0?wt(Wt,X5):RS()})}function fm(){return Js===0&&(Js=Wr()),Js}function kS(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Hu(""+i)}function LS(i,o){var l=o.ownerDocument.createElement("input");return l.name=o.name,l.value=o.value,i.id&&l.setAttribute("form",i.id),o.parentNode.insertBefore(l,o),i=new FormData(i),l.parentNode.removeChild(l),i}function Q5(i,o,l,u,h){if(o==="submit"&&l&&l.stateNode===h){var m=kS((h[Me]||null).action),x=u.submitter;x&&(o=(o=x[Me]||null)?kS(o.formAction):x.getAttribute("formAction"),o!==null&&(m=o,x=null));var O=new Gu("action","action",null,u,h);i.push({event:O,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Js!==0){var z=x?LS(h,x):new FormData(h);Dg(l,{pending:!0,data:z,method:h.method,action:m},null,z)}}else typeof m=="function"&&(O.preventDefault(),z=x?LS(h,x):new FormData(h),Dg(l,{pending:!0,data:z,method:h.method,action:m},m,z))},currentTarget:h}]})}}for(var dm=0;dm<Wp.length;dm++){var hm=Wp[dm],Z5=hm.toLowerCase(),J5=hm[0].toUpperCase()+hm.slice(1);Ir(Z5,"on"+J5)}Ir(dw,"onAnimationEnd"),Ir(hw,"onAnimationIteration"),Ir(pw,"onAnimationStart"),Ir("dblclick","onDoubleClick"),Ir("focusin","onFocus"),Ir("focusout","onBlur"),Ir(m5,"onTransitionRun"),Ir(y5,"onTransitionStart"),Ir(b5,"onTransitionCancel"),Ir(gw,"onTransitionEnd"),Bo("onMouseEnter",["mouseout","mouseover"]),Bo("onMouseLeave",["mouseout","mouseover"]),Bo("onPointerEnter",["pointerout","pointerover"]),Bo("onPointerLeave",["pointerout","pointerover"]),Ps("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ps("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ps("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ps("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ps("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ps("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),eR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(nc));function NS(i,o){o=(o&4)!==0;for(var l=0;l<i.length;l++){var u=i[l],h=u.event;u=u.listeners;e:{var m=void 0;if(o)for(var x=u.length-1;0<=x;x--){var O=u[x],z=O.instance,Z=O.currentTarget;if(O=O.listener,z!==m&&h.isPropagationStopped())break e;m=O,h.currentTarget=Z;try{m(h)}catch(ie){wf(ie)}h.currentTarget=null,m=z}else for(x=0;x<u.length;x++){if(O=u[x],z=O.instance,Z=O.currentTarget,O=O.listener,z!==m&&h.isPropagationStopped())break e;m=O,h.currentTarget=Z;try{m(h)}catch(ie){wf(ie)}h.currentTarget=null,m=z}}}}function Ue(i,o){var l=o[Fn];l===void 0&&(l=o[Fn]=new Set);var u=i+"__bubble";l.has(u)||(BS(o,i,2,!1),l.add(u))}function pm(i,o,l){var u=0;o&&(u|=4),BS(l,i,u,o)}var Nf="_reactListening"+Math.random().toString(36).slice(2);function gm(i){if(!i[Nf]){i[Nf]=!0,Rv.forEach(function(l){l!=="selectionchange"&&(eR.has(l)||pm(l,!1,i),pm(l,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[Nf]||(o[Nf]=!0,pm("selectionchange",!1,o))}}function BS(i,o,l,u){switch(sE(o)){case 2:var h=TR;break;case 8:h=RR;break;default:h=Om}l=h.bind(null,o,l,i),h=void 0,!Pp||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(h=!0),u?h!==void 0?i.addEventListener(o,l,{capture:!0,passive:h}):i.addEventListener(o,l,!0):h!==void 0?i.addEventListener(o,l,{passive:h}):i.addEventListener(o,l,!1)}function mm(i,o,l,u,h){var m=u;if((o&1)===0&&(o&2)===0&&u!==null)e:for(;;){if(u===null)return;var x=u.tag;if(x===3||x===4){var O=u.stateNode.containerInfo;if(O===h)break;if(x===4)for(x=u.return;x!==null;){var z=x.tag;if((z===3||z===4)&&x.stateNode.containerInfo===h)return;x=x.return}for(;O!==null;){if(x=ko(O),x===null)return;if(z=x.tag,z===5||z===6||z===26||z===27){u=m=x;continue e}O=O.parentNode}}u=u.return}qv(function(){var Z=m,ie=Bp(l),ce=[];e:{var J=mw.get(i);if(J!==void 0){var ee=Gu,Re=i;switch(i){case"keypress":if(Vu(l)===0)break e;case"keydown":case"keyup":ee=Y6;break;case"focusin":Re="focus",ee=Fp;break;case"focusout":Re="blur",ee=Fp;break;case"beforeblur":case"afterblur":ee=Fp;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ee=Vv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ee=I6;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ee=Q6;break;case dw:case hw:case pw:ee=U6;break;case gw:ee=J6;break;case"scroll":case"scrollend":ee=N6;break;case"wheel":ee=t5;break;case"copy":case"cut":case"paste":ee=F6;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ee=Gv;break;case"toggle":case"beforetoggle":ee=r5}var Ce=(o&4)!==0,gt=!Ce&&(i==="scroll"||i==="scrollend"),Y=Ce?J!==null?J+"Capture":null:J;Ce=[];for(var V=Z,X;V!==null;){var oe=V;if(X=oe.stateNode,oe=oe.tag,oe!==5&&oe!==26&&oe!==27||X===null||Y===null||(oe=Sl(V,Y),oe!=null&&Ce.push(rc(V,oe,X))),gt)break;V=V.return}0<Ce.length&&(J=new ee(J,Re,null,l,ie),ce.push({event:J,listeners:Ce}))}}if((o&7)===0){e:{if(J=i==="mouseover"||i==="pointerover",ee=i==="mouseout"||i==="pointerout",J&&l!==Np&&(Re=l.relatedTarget||l.fromElement)&&(ko(Re)||Re[St]))break e;if((ee||J)&&(J=ie.window===ie?ie:(J=ie.ownerDocument)?J.defaultView||J.parentWindow:window,ee?(Re=l.relatedTarget||l.toElement,ee=Z,Re=Re?ko(Re):null,Re!==null&&(gt=a(Re),Ce=Re.tag,Re!==gt||Ce!==5&&Ce!==27&&Ce!==6)&&(Re=null)):(ee=null,Re=Z),ee!==Re)){if(Ce=Vv,oe="onMouseLeave",Y="onMouseEnter",V="mouse",(i==="pointerout"||i==="pointerover")&&(Ce=Gv,oe="onPointerLeave",Y="onPointerEnter",V="pointer"),gt=ee==null?J:wl(ee),X=Re==null?J:wl(Re),J=new Ce(oe,V+"leave",ee,l,ie),J.target=gt,J.relatedTarget=X,oe=null,ko(ie)===Z&&(Ce=new Ce(Y,V+"enter",Re,l,ie),Ce.target=X,Ce.relatedTarget=gt,oe=Ce),gt=oe,ee&&Re)t:{for(Ce=ee,Y=Re,V=0,X=Ce;X;X=da(X))V++;for(X=0,oe=Y;oe;oe=da(oe))X++;for(;0<V-X;)Ce=da(Ce),V--;for(;0<X-V;)Y=da(Y),X--;for(;V--;){if(Ce===Y||Y!==null&&Ce===Y.alternate)break t;Ce=da(Ce),Y=da(Y)}Ce=null}else Ce=null;ee!==null&&IS(ce,J,ee,Ce,!1),Re!==null&&gt!==null&&IS(ce,gt,Re,Ce,!0)}}e:{if(J=Z?wl(Z):window,ee=J.nodeName&&J.nodeName.toLowerCase(),ee==="select"||ee==="input"&&J.type==="file")var ye=tw;else if(Jv(J))if(nw)ye=h5;else{ye=f5;var Ie=u5}else ee=J.nodeName,!ee||ee.toLowerCase()!=="input"||J.type!=="checkbox"&&J.type!=="radio"?Z&&Lp(Z.elementType)&&(ye=tw):ye=d5;if(ye&&(ye=ye(i,Z))){ew(ce,ye,l,ie);break e}Ie&&Ie(i,J,Z),i==="focusout"&&Z&&J.type==="number"&&Z.memoizedProps.value!=null&&kp(J,"number",J.value)}switch(Ie=Z?wl(Z):window,i){case"focusin":(Jv(Ie)||Ie.contentEditable==="true")&&(qo=Ie,Gp=Z,Ol=null);break;case"focusout":Ol=Gp=qo=null;break;case"mousedown":Yp=!0;break;case"contextmenu":case"mouseup":case"dragend":Yp=!1,uw(ce,l,ie);break;case"selectionchange":if(g5)break;case"keydown":case"keyup":uw(ce,l,ie)}var we;if(Hp)e:{switch(i){case"compositionstart":var Ae="onCompositionStart";break e;case"compositionend":Ae="onCompositionEnd";break e;case"compositionupdate":Ae="onCompositionUpdate";break e}Ae=void 0}else Fo?Qv(i,l)&&(Ae="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(Ae="onCompositionStart");Ae&&(Yv&&l.locale!=="ko"&&(Fo||Ae!=="onCompositionStart"?Ae==="onCompositionEnd"&&Fo&&(we=Hv()):(Yi=ie,$p="value"in Yi?Yi.value:Yi.textContent,Fo=!0)),Ie=Bf(Z,Ae),0<Ie.length&&(Ae=new Kv(Ae,i,null,l,ie),ce.push({event:Ae,listeners:Ie}),we?Ae.data=we:(we=Zv(l),we!==null&&(Ae.data=we)))),(we=s5?o5(i,l):a5(i,l))&&(Ae=Bf(Z,"onBeforeInput"),0<Ae.length&&(Ie=new Kv("onBeforeInput","beforeinput",null,l,ie),ce.push({event:Ie,listeners:Ae}),Ie.data=we)),Q5(ce,i,Z,l,ie)}NS(ce,o)})}function rc(i,o,l){return{instance:i,listener:o,currentTarget:l}}function Bf(i,o){for(var l=o+"Capture",u=[];i!==null;){var h=i,m=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||m===null||(h=Sl(i,l),h!=null&&u.unshift(rc(i,h,m)),h=Sl(i,o),h!=null&&u.push(rc(i,h,m))),i.tag===3)return u;i=i.return}return[]}function da(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function IS(i,o,l,u,h){for(var m=o._reactName,x=[];l!==null&&l!==u;){var O=l,z=O.alternate,Z=O.stateNode;if(O=O.tag,z!==null&&z===u)break;O!==5&&O!==26&&O!==27||Z===null||(z=Z,h?(Z=Sl(l,m),Z!=null&&x.unshift(rc(l,Z,z))):h||(Z=Sl(l,m),Z!=null&&x.push(rc(l,Z,z)))),l=l.return}x.length!==0&&i.push({event:o,listeners:x})}var tR=/\r\n?/g,nR=/\u0000|\uFFFD/g;function PS(i){return(typeof i=="string"?i:""+i).replace(tR,`
`).replace(nR,"")}function $S(i,o){return o=PS(o),PS(i)===o}function If(){}function pt(i,o,l,u,h,m){switch(l){case"children":typeof u=="string"?o==="body"||o==="textarea"&&u===""||$o(i,u):(typeof u=="number"||typeof u=="bigint")&&o!=="body"&&$o(i,""+u);break;case"className":zu(i,"class",u);break;case"tabIndex":zu(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":zu(i,l,u);break;case"style":zv(i,u,m);break;case"data":if(o!=="object"){zu(i,"data",u);break}case"src":case"href":if(u===""&&(o!=="a"||l!=="href")){i.removeAttribute(l);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(l);break}u=Hu(""+u),i.setAttribute(l,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(l==="formAction"?(o!=="input"&&pt(i,o,"name",h.name,h,null),pt(i,o,"formEncType",h.formEncType,h,null),pt(i,o,"formMethod",h.formMethod,h,null),pt(i,o,"formTarget",h.formTarget,h,null)):(pt(i,o,"encType",h.encType,h,null),pt(i,o,"method",h.method,h,null),pt(i,o,"target",h.target,h,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(l);break}u=Hu(""+u),i.setAttribute(l,u);break;case"onClick":u!=null&&(i.onclick=If);break;case"onScroll":u!=null&&Ue("scroll",i);break;case"onScrollEnd":u!=null&&Ue("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(l=u.__html,l!=null){if(h.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}l=Hu(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(l,""+u):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":u===!0?i.setAttribute(l,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(l,u):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(l,u):i.removeAttribute(l);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(l):i.setAttribute(l,u);break;case"popover":Ue("beforetoggle",i),Ue("toggle",i),Uu(i,"popover",u);break;case"xlinkActuate":Si(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Si(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Si(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Si(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Si(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Si(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Si(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Si(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Si(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Uu(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=k6.get(l)||l,Uu(i,l,u))}}function ym(i,o,l,u,h,m){switch(l){case"style":zv(i,u,m);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(l=u.__html,l!=null){if(h.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"children":typeof u=="string"?$o(i,u):(typeof u=="number"||typeof u=="bigint")&&$o(i,""+u);break;case"onScroll":u!=null&&Ue("scroll",i);break;case"onScrollEnd":u!=null&&Ue("scrollend",i);break;case"onClick":u!=null&&(i.onclick=If);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ov.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(h=l.endsWith("Capture"),o=l.slice(2,h?l.length-7:void 0),m=i[Me]||null,m=m!=null?m[l]:null,typeof m=="function"&&i.removeEventListener(o,m,h),typeof u=="function")){typeof m!="function"&&m!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(o,u,h);break e}l in i?i[l]=u:u===!0?i.setAttribute(l,""):Uu(i,l,u)}}}function gn(i,o,l){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ue("error",i),Ue("load",i);var u=!1,h=!1,m;for(m in l)if(l.hasOwnProperty(m)){var x=l[m];if(x!=null)switch(m){case"src":u=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:pt(i,o,m,x,l,null)}}h&&pt(i,o,"srcSet",l.srcSet,l,null),u&&pt(i,o,"src",l.src,l,null);return;case"input":Ue("invalid",i);var O=m=x=h=null,z=null,Z=null;for(u in l)if(l.hasOwnProperty(u)){var ie=l[u];if(ie!=null)switch(u){case"name":h=ie;break;case"type":x=ie;break;case"checked":z=ie;break;case"defaultChecked":Z=ie;break;case"value":m=ie;break;case"defaultValue":O=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(r(137,o));break;default:pt(i,o,u,ie,l,null)}}Iv(i,m,O,z,Z,x,h,!1),Fu(i);return;case"select":Ue("invalid",i),u=x=m=null;for(h in l)if(l.hasOwnProperty(h)&&(O=l[h],O!=null))switch(h){case"value":m=O;break;case"defaultValue":x=O;break;case"multiple":u=O;default:pt(i,o,h,O,l,null)}o=m,l=x,i.multiple=!!u,o!=null?Po(i,!!u,o,!1):l!=null&&Po(i,!!u,l,!0);return;case"textarea":Ue("invalid",i),m=h=u=null;for(x in l)if(l.hasOwnProperty(x)&&(O=l[x],O!=null))switch(x){case"value":u=O;break;case"defaultValue":h=O;break;case"children":m=O;break;case"dangerouslySetInnerHTML":if(O!=null)throw Error(r(91));break;default:pt(i,o,x,O,l,null)}$v(i,u,h,m),Fu(i);return;case"option":for(z in l)if(l.hasOwnProperty(z)&&(u=l[z],u!=null))switch(z){case"selected":i.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:pt(i,o,z,u,l,null)}return;case"dialog":Ue("beforetoggle",i),Ue("toggle",i),Ue("cancel",i),Ue("close",i);break;case"iframe":case"object":Ue("load",i);break;case"video":case"audio":for(u=0;u<nc.length;u++)Ue(nc[u],i);break;case"image":Ue("error",i),Ue("load",i);break;case"details":Ue("toggle",i);break;case"embed":case"source":case"link":Ue("error",i),Ue("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Z in l)if(l.hasOwnProperty(Z)&&(u=l[Z],u!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:pt(i,o,Z,u,l,null)}return;default:if(Lp(o)){for(ie in l)l.hasOwnProperty(ie)&&(u=l[ie],u!==void 0&&ym(i,o,ie,u,l,void 0));return}}for(O in l)l.hasOwnProperty(O)&&(u=l[O],u!=null&&pt(i,o,O,u,l,null))}function rR(i,o,l,u){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,m=null,x=null,O=null,z=null,Z=null,ie=null;for(ee in l){var ce=l[ee];if(l.hasOwnProperty(ee)&&ce!=null)switch(ee){case"checked":break;case"value":break;case"defaultValue":z=ce;default:u.hasOwnProperty(ee)||pt(i,o,ee,null,u,ce)}}for(var J in u){var ee=u[J];if(ce=l[J],u.hasOwnProperty(J)&&(ee!=null||ce!=null))switch(J){case"type":m=ee;break;case"name":h=ee;break;case"checked":Z=ee;break;case"defaultChecked":ie=ee;break;case"value":x=ee;break;case"defaultValue":O=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(r(137,o));break;default:ee!==ce&&pt(i,o,J,ee,u,ce)}}Dp(i,x,O,z,Z,ie,m,h);return;case"select":ee=x=O=J=null;for(m in l)if(z=l[m],l.hasOwnProperty(m)&&z!=null)switch(m){case"value":break;case"multiple":ee=z;default:u.hasOwnProperty(m)||pt(i,o,m,null,u,z)}for(h in u)if(m=u[h],z=l[h],u.hasOwnProperty(h)&&(m!=null||z!=null))switch(h){case"value":J=m;break;case"defaultValue":O=m;break;case"multiple":x=m;default:m!==z&&pt(i,o,h,m,u,z)}o=O,l=x,u=ee,J!=null?Po(i,!!l,J,!1):!!u!=!!l&&(o!=null?Po(i,!!l,o,!0):Po(i,!!l,l?[]:"",!1));return;case"textarea":ee=J=null;for(O in l)if(h=l[O],l.hasOwnProperty(O)&&h!=null&&!u.hasOwnProperty(O))switch(O){case"value":break;case"children":break;default:pt(i,o,O,null,u,h)}for(x in u)if(h=u[x],m=l[x],u.hasOwnProperty(x)&&(h!=null||m!=null))switch(x){case"value":J=h;break;case"defaultValue":ee=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==m&&pt(i,o,x,h,u,m)}Pv(i,J,ee);return;case"option":for(var Re in l)if(J=l[Re],l.hasOwnProperty(Re)&&J!=null&&!u.hasOwnProperty(Re))switch(Re){case"selected":i.selected=!1;break;default:pt(i,o,Re,null,u,J)}for(z in u)if(J=u[z],ee=l[z],u.hasOwnProperty(z)&&J!==ee&&(J!=null||ee!=null))switch(z){case"selected":i.selected=J&&typeof J!="function"&&typeof J!="symbol";break;default:pt(i,o,z,J,u,ee)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ce in l)J=l[Ce],l.hasOwnProperty(Ce)&&J!=null&&!u.hasOwnProperty(Ce)&&pt(i,o,Ce,null,u,J);for(Z in u)if(J=u[Z],ee=l[Z],u.hasOwnProperty(Z)&&J!==ee&&(J!=null||ee!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(r(137,o));break;default:pt(i,o,Z,J,u,ee)}return;default:if(Lp(o)){for(var gt in l)J=l[gt],l.hasOwnProperty(gt)&&J!==void 0&&!u.hasOwnProperty(gt)&&ym(i,o,gt,void 0,u,J);for(ie in u)J=u[ie],ee=l[ie],!u.hasOwnProperty(ie)||J===ee||J===void 0&&ee===void 0||ym(i,o,ie,J,u,ee);return}}for(var Y in l)J=l[Y],l.hasOwnProperty(Y)&&J!=null&&!u.hasOwnProperty(Y)&&pt(i,o,Y,null,u,J);for(ce in u)J=u[ce],ee=l[ce],!u.hasOwnProperty(ce)||J===ee||J==null&&ee==null||pt(i,o,ce,J,u,ee)}var bm=null,vm=null;function Pf(i){return i.nodeType===9?i:i.ownerDocument}function US(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function zS(i,o){if(i===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&o==="foreignObject"?0:i}function wm(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Sm=null;function iR(){var i=window.event;return i&&i.type==="popstate"?i===Sm?!1:(Sm=i,!0):(Sm=null,!1)}var FS=typeof setTimeout=="function"?setTimeout:void 0,sR=typeof clearTimeout=="function"?clearTimeout:void 0,qS=typeof Promise=="function"?Promise:void 0,oR=typeof queueMicrotask=="function"?queueMicrotask:typeof qS<"u"?function(i){return qS.resolve(null).then(i).catch(aR)}:FS;function aR(i){setTimeout(function(){throw i})}function us(i){return i==="head"}function HS(i,o){var l=o,u=0,h=0;do{var m=l.nextSibling;if(i.removeChild(l),m&&m.nodeType===8)if(l=m.data,l==="/$"){if(0<u&&8>u){l=u;var x=i.ownerDocument;if(l&1&&ic(x.documentElement),l&2&&ic(x.body),l&4)for(l=x.head,ic(l),x=l.firstChild;x;){var O=x.nextSibling,z=x.nodeName;x[wi]||z==="SCRIPT"||z==="STYLE"||z==="LINK"&&x.rel.toLowerCase()==="stylesheet"||l.removeChild(x),x=O}}if(h===0){i.removeChild(m),dc(o);return}h--}else l==="$"||l==="$?"||l==="$!"?h++:u=l.charCodeAt(0)-48;else u=0;l=m}while(l);dc(o)}function Em(i){var o=i.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var l=o;switch(o=o.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Em(l),Tp(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function lR(i,o,l,u){for(;i.nodeType===1;){var h=l;if(i.nodeName.toLowerCase()!==o.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[wi])switch(o){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(m=i.getAttribute("rel"),m==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(m!==h.rel||i.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||i.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||i.getAttribute("title")!==(h.title==null?null:h.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(m=i.getAttribute("src"),(m!==(h.src==null?null:h.src)||i.getAttribute("type")!==(h.type==null?null:h.type)||i.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&m&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(o==="input"&&i.type==="hidden"){var m=h.name==null?null:""+h.name;if(h.type==="hidden"&&i.getAttribute("name")===m)return i}else return i;if(i=$r(i.nextSibling),i===null)break}return null}function cR(i,o,l){if(o==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=$r(i.nextSibling),i===null))return null;return i}function xm(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function uR(i,o){var l=i.ownerDocument;if(i.data!=="$?"||l.readyState==="complete")o();else{var u=function(){o(),l.removeEventListener("DOMContentLoaded",u)};l.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function $r(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?"||o==="F!"||o==="F")break;if(o==="/$")return null}}return i}var Cm=null;function jS(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(o===0)return i;o--}else l==="/$"&&o++}i=i.previousSibling}return null}function VS(i,o,l){switch(o=Pf(l),i){case"html":if(i=o.documentElement,!i)throw Error(r(452));return i;case"head":if(i=o.head,!i)throw Error(r(453));return i;case"body":if(i=o.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function ic(i){for(var o=i.attributes;o.length;)i.removeAttributeNode(o[0]);Tp(i)}var vr=new Map,KS=new Set;function $f(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Bi=q.d;q.d={f:fR,r:dR,D:hR,C:pR,L:gR,m:mR,X:bR,S:yR,M:vR};function fR(){var i=Bi.f(),o=Of();return i||o}function dR(i){var o=Lo(i);o!==null&&o.tag===5&&o.type==="form"?d1(o):Bi.r(i)}var ha=typeof document>"u"?null:document;function GS(i,o,l){var u=ha;if(u&&typeof o=="string"&&o){var h=dr(o);h='link[rel="'+i+'"][href="'+h+'"]',typeof l=="string"&&(h+='[crossorigin="'+l+'"]'),KS.has(h)||(KS.add(h),i={rel:i,crossOrigin:l,href:o},u.querySelector(h)===null&&(o=u.createElement("link"),gn(o,"link",i),on(o),u.head.appendChild(o)))}}function hR(i){Bi.D(i),GS("dns-prefetch",i,null)}function pR(i,o){Bi.C(i,o),GS("preconnect",i,o)}function gR(i,o,l){Bi.L(i,o,l);var u=ha;if(u&&i&&o){var h='link[rel="preload"][as="'+dr(o)+'"]';o==="image"&&l&&l.imageSrcSet?(h+='[imagesrcset="'+dr(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(h+='[imagesizes="'+dr(l.imageSizes)+'"]')):h+='[href="'+dr(i)+'"]';var m=h;switch(o){case"style":m=pa(i);break;case"script":m=ga(i)}vr.has(m)||(i=g({rel:"preload",href:o==="image"&&l&&l.imageSrcSet?void 0:i,as:o},l),vr.set(m,i),u.querySelector(h)!==null||o==="style"&&u.querySelector(sc(m))||o==="script"&&u.querySelector(oc(m))||(o=u.createElement("link"),gn(o,"link",i),on(o),u.head.appendChild(o)))}}function mR(i,o){Bi.m(i,o);var l=ha;if(l&&i){var u=o&&typeof o.as=="string"?o.as:"script",h='link[rel="modulepreload"][as="'+dr(u)+'"][href="'+dr(i)+'"]',m=h;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=ga(i)}if(!vr.has(m)&&(i=g({rel:"modulepreload",href:i},o),vr.set(m,i),l.querySelector(h)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(oc(m)))return}u=l.createElement("link"),gn(u,"link",i),on(u),l.head.appendChild(u)}}}function yR(i,o,l){Bi.S(i,o,l);var u=ha;if(u&&i){var h=No(u).hoistableStyles,m=pa(i);o=o||"default";var x=h.get(m);if(!x){var O={loading:0,preload:null};if(x=u.querySelector(sc(m)))O.loading=5;else{i=g({rel:"stylesheet",href:i,"data-precedence":o},l),(l=vr.get(m))&&Am(i,l);var z=x=u.createElement("link");on(z),gn(z,"link",i),z._p=new Promise(function(Z,ie){z.onload=Z,z.onerror=ie}),z.addEventListener("load",function(){O.loading|=1}),z.addEventListener("error",function(){O.loading|=2}),O.loading|=4,Uf(x,o,u)}x={type:"stylesheet",instance:x,count:1,state:O},h.set(m,x)}}}function bR(i,o){Bi.X(i,o);var l=ha;if(l&&i){var u=No(l).hoistableScripts,h=ga(i),m=u.get(h);m||(m=l.querySelector(oc(h)),m||(i=g({src:i,async:!0},o),(o=vr.get(h))&&_m(i,o),m=l.createElement("script"),on(m),gn(m,"link",i),l.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(h,m))}}function vR(i,o){Bi.M(i,o);var l=ha;if(l&&i){var u=No(l).hoistableScripts,h=ga(i),m=u.get(h);m||(m=l.querySelector(oc(h)),m||(i=g({src:i,async:!0,type:"module"},o),(o=vr.get(h))&&_m(i,o),m=l.createElement("script"),on(m),gn(m,"link",i),l.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(h,m))}}function YS(i,o,l,u){var h=(h=le.current)?$f(h):null;if(!h)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(o=pa(l.href),l=No(h).hoistableStyles,u=l.get(o),u||(u={type:"style",instance:null,count:0,state:null},l.set(o,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=pa(l.href);var m=No(h).hoistableStyles,x=m.get(i);if(x||(h=h.ownerDocument||h,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(i,x),(m=h.querySelector(sc(i)))&&!m._p&&(x.instance=m,x.state.loading=5),vr.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},vr.set(i,l),m||wR(h,i,l,x.state))),o&&u===null)throw Error(r(528,""));return x}if(o&&u!==null)throw Error(r(529,""));return null;case"script":return o=l.async,l=l.src,typeof l=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=ga(l),l=No(h).hoistableScripts,u=l.get(o),u||(u={type:"script",instance:null,count:0,state:null},l.set(o,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function pa(i){return'href="'+dr(i)+'"'}function sc(i){return'link[rel="stylesheet"]['+i+"]"}function XS(i){return g({},i,{"data-precedence":i.precedence,precedence:null})}function wR(i,o,l,u){i.querySelector('link[rel="preload"][as="style"]['+o+"]")?u.loading=1:(o=i.createElement("link"),u.preload=o,o.addEventListener("load",function(){return u.loading|=1}),o.addEventListener("error",function(){return u.loading|=2}),gn(o,"link",l),on(o),i.head.appendChild(o))}function ga(i){return'[src="'+dr(i)+'"]'}function oc(i){return"script[async]"+i}function WS(i,o,l){if(o.count++,o.instance===null)switch(o.type){case"style":var u=i.querySelector('style[data-href~="'+dr(l.href)+'"]');if(u)return o.instance=u,on(u),u;var h=g({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),on(u),gn(u,"style",h),Uf(u,l.precedence,i),o.instance=u;case"stylesheet":h=pa(l.href);var m=i.querySelector(sc(h));if(m)return o.state.loading|=4,o.instance=m,on(m),m;u=XS(l),(h=vr.get(h))&&Am(u,h),m=(i.ownerDocument||i).createElement("link"),on(m);var x=m;return x._p=new Promise(function(O,z){x.onload=O,x.onerror=z}),gn(m,"link",u),o.state.loading|=4,Uf(m,l.precedence,i),o.instance=m;case"script":return m=ga(l.src),(h=i.querySelector(oc(m)))?(o.instance=h,on(h),h):(u=l,(h=vr.get(m))&&(u=g({},l),_m(u,h)),i=i.ownerDocument||i,h=i.createElement("script"),on(h),gn(h,"link",u),i.head.appendChild(h),o.instance=h);case"void":return null;default:throw Error(r(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(u=o.instance,o.state.loading|=4,Uf(u,l.precedence,i));return o.instance}function Uf(i,o,l){for(var u=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=u.length?u[u.length-1]:null,m=h,x=0;x<u.length;x++){var O=u[x];if(O.dataset.precedence===o)m=O;else if(m!==h)break}m?m.parentNode.insertBefore(i,m.nextSibling):(o=l.nodeType===9?l.head:l,o.insertBefore(i,o.firstChild))}function Am(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.title==null&&(i.title=o.title)}function _m(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.integrity==null&&(i.integrity=o.integrity)}var zf=null;function QS(i,o,l){if(zf===null){var u=new Map,h=zf=new Map;h.set(l,u)}else h=zf,u=h.get(l),u||(u=new Map,h.set(l,u));if(u.has(i))return u;for(u.set(i,null),l=l.getElementsByTagName(i),h=0;h<l.length;h++){var m=l[h];if(!(m[wi]||m[Oe]||i==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var x=m.getAttribute(o)||"";x=i+x;var O=u.get(x);O?O.push(m):u.set(x,[m])}}return u}function ZS(i,o,l){i=i.ownerDocument||i,i.head.insertBefore(l,o==="title"?i.querySelector("head > title"):null)}function SR(i,o,l){if(l===1||o.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return i=o.disabled,typeof o.precedence=="string"&&i==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function JS(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var ac=null;function ER(){}function xR(i,o,l){if(ac===null)throw Error(r(475));var u=ac;if(o.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var h=pa(l.href),m=i.querySelector(sc(h));if(m){i=m._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(u.count++,u=Ff.bind(u),i.then(u,u)),o.state.loading|=4,o.instance=m,on(m);return}m=i.ownerDocument||i,l=XS(l),(h=vr.get(h))&&Am(l,h),m=m.createElement("link"),on(m);var x=m;x._p=new Promise(function(O,z){x.onload=O,x.onerror=z}),gn(m,"link",l),o.instance=m}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(o,i),(i=o.state.preload)&&(o.state.loading&3)===0&&(u.count++,o=Ff.bind(u),i.addEventListener("load",o),i.addEventListener("error",o))}}function CR(){if(ac===null)throw Error(r(475));var i=ac;return i.stylesheets&&i.count===0&&Tm(i,i.stylesheets),0<i.count?function(o){var l=setTimeout(function(){if(i.stylesheets&&Tm(i,i.stylesheets),i.unsuspend){var u=i.unsuspend;i.unsuspend=null,u()}},6e4);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(l)}}:null}function Ff(){if(this.count--,this.count===0){if(this.stylesheets)Tm(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var qf=null;function Tm(i,o){i.stylesheets=null,i.unsuspend!==null&&(i.count++,qf=new Map,o.forEach(AR,i),qf=null,Ff.call(i))}function AR(i,o){if(!(o.state.loading&4)){var l=qf.get(i);if(l)var u=l.get(null);else{l=new Map,qf.set(i,l);for(var h=i.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<h.length;m++){var x=h[m];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(l.set(x.dataset.precedence,x),u=x)}u&&l.set(null,u)}h=o.instance,x=h.getAttribute("data-precedence"),m=l.get(x)||u,m===u&&l.set(null,h),l.set(x,h),this.count++,u=Ff.bind(this),h.addEventListener("load",u),h.addEventListener("error",u),m?m.parentNode.insertBefore(h,m.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(h,i.firstChild)),o.state.loading|=4}}var lc={$$typeof:A,Provider:null,Consumer:null,_currentValue:K,_currentValue2:K,_threadCount:0};function _R(i,o,l,u,h,m,x,O){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ml(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ml(0),this.hiddenUpdates=ml(null),this.identifierPrefix=u,this.onUncaughtError=h,this.onCaughtError=m,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function eE(i,o,l,u,h,m,x,O,z,Z,ie,ce){return i=new _R(i,o,l,x,O,z,Z,ce),o=1,m===!0&&(o|=24),m=tr(3,null,null,o),i.current=m,m.stateNode=i,o=lg(),o.refCount++,i.pooledCache=o,o.refCount++,m.memoizedState={element:u,isDehydrated:l,cache:o},dg(m),i}function tE(i){return i?(i=Ko,i):Ko}function nE(i,o,l,u,h,m){h=tE(h),u.context===null?u.context=h:u.pendingContext=h,u=Qi(o),u.payload={element:l},m=m===void 0?null:m,m!==null&&(u.callback=m),l=Zi(i,u,o),l!==null&&(or(l,i,o),$l(l,i,o))}function rE(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<o?l:o}}function Rm(i,o){rE(i,o),(i=i.alternate)&&rE(i,o)}function iE(i){if(i.tag===13){var o=Vo(i,67108864);o!==null&&or(o,i,67108864),Rm(i,67108864)}}var Hf=!0;function TR(i,o,l,u){var h=M.T;M.T=null;var m=q.p;try{q.p=2,Om(i,o,l,u)}finally{q.p=m,M.T=h}}function RR(i,o,l,u){var h=M.T;M.T=null;var m=q.p;try{q.p=8,Om(i,o,l,u)}finally{q.p=m,M.T=h}}function Om(i,o,l,u){if(Hf){var h=Mm(u);if(h===null)mm(i,o,u,jf,l),oE(i,u);else if(MR(h,i,o,l,u))u.stopPropagation();else if(oE(i,u),o&4&&-1<OR.indexOf(i)){for(;h!==null;){var m=Lo(h);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var x=be(m.pendingLanes);if(x!==0){var O=m;for(O.pendingLanes|=2,O.entangledLanes|=2;x;){var z=1<<31-It(x);O.entanglements[1]|=z,x&=~z}ti(m),(it&6)===0&&(Tf=ze()+500,tc(0))}}break;case 13:O=Vo(m,2),O!==null&&or(O,m,2),Of(),Rm(m,2)}if(m=Mm(u),m===null&&mm(i,o,u,jf,l),m===h)break;h=m}h!==null&&u.stopPropagation()}else mm(i,o,u,null,l)}}function Mm(i){return i=Bp(i),Dm(i)}var jf=null;function Dm(i){if(jf=null,i=ko(i),i!==null){var o=a(i);if(o===null)i=null;else{var l=o.tag;if(l===13){if(i=c(o),i!==null)return i;i=null}else if(l===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return jf=i,null}function sE(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(dt()){case Wt:return 2;case Ht:return 8;case Ze:case Se:return 32;case zn:return 268435456;default:return 32}default:return 32}}var km=!1,fs=null,ds=null,hs=null,cc=new Map,uc=new Map,ps=[],OR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function oE(i,o){switch(i){case"focusin":case"focusout":fs=null;break;case"dragenter":case"dragleave":ds=null;break;case"mouseover":case"mouseout":hs=null;break;case"pointerover":case"pointerout":cc.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":uc.delete(o.pointerId)}}function fc(i,o,l,u,h,m){return i===null||i.nativeEvent!==m?(i={blockedOn:o,domEventName:l,eventSystemFlags:u,nativeEvent:m,targetContainers:[h]},o!==null&&(o=Lo(o),o!==null&&iE(o)),i):(i.eventSystemFlags|=u,o=i.targetContainers,h!==null&&o.indexOf(h)===-1&&o.push(h),i)}function MR(i,o,l,u,h){switch(o){case"focusin":return fs=fc(fs,i,o,l,u,h),!0;case"dragenter":return ds=fc(ds,i,o,l,u,h),!0;case"mouseover":return hs=fc(hs,i,o,l,u,h),!0;case"pointerover":var m=h.pointerId;return cc.set(m,fc(cc.get(m)||null,i,o,l,u,h)),!0;case"gotpointercapture":return m=h.pointerId,uc.set(m,fc(uc.get(m)||null,i,o,l,u,h)),!0}return!1}function aE(i){var o=ko(i.target);if(o!==null){var l=a(o);if(l!==null){if(o=l.tag,o===13){if(o=c(l),o!==null){i.blockedOn=o,me(i.priority,function(){if(l.tag===13){var u=sr();u=yl(u);var h=Vo(l,u);h!==null&&or(h,l,u),Rm(l,u)}});return}}else if(o===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Vf(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var l=Mm(i.nativeEvent);if(l===null){l=i.nativeEvent;var u=new l.constructor(l.type,l);Np=u,l.target.dispatchEvent(u),Np=null}else return o=Lo(l),o!==null&&iE(o),i.blockedOn=l,!1;o.shift()}return!0}function lE(i,o,l){Vf(i)&&l.delete(o)}function DR(){km=!1,fs!==null&&Vf(fs)&&(fs=null),ds!==null&&Vf(ds)&&(ds=null),hs!==null&&Vf(hs)&&(hs=null),cc.forEach(lE),uc.forEach(lE)}function Kf(i,o){i.blockedOn===o&&(i.blockedOn=null,km||(km=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,DR)))}var Gf=null;function cE(i){Gf!==i&&(Gf=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Gf===i&&(Gf=null);for(var o=0;o<i.length;o+=3){var l=i[o],u=i[o+1],h=i[o+2];if(typeof u!="function"){if(Dm(u||l)===null)continue;break}var m=Lo(l);m!==null&&(i.splice(o,3),o-=3,Dg(m,{pending:!0,data:h,method:l.method,action:u},u,h))}}))}function dc(i){function o(z){return Kf(z,i)}fs!==null&&Kf(fs,i),ds!==null&&Kf(ds,i),hs!==null&&Kf(hs,i),cc.forEach(o),uc.forEach(o);for(var l=0;l<ps.length;l++){var u=ps[l];u.blockedOn===i&&(u.blockedOn=null)}for(;0<ps.length&&(l=ps[0],l.blockedOn===null);)aE(l),l.blockedOn===null&&ps.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(u=0;u<l.length;u+=3){var h=l[u],m=l[u+1],x=h[Me]||null;if(typeof m=="function")x||cE(l);else if(x){var O=null;if(m&&m.hasAttribute("formAction")){if(h=m,x=m[Me]||null)O=x.formAction;else if(Dm(h)!==null)continue}else O=x.action;typeof O=="function"?l[u+1]=O:(l.splice(u,3),u-=3),cE(l)}}}function Lm(i){this._internalRoot=i}Yf.prototype.render=Lm.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(r(409));var l=o.current,u=sr();nE(l,u,i,o,null,null)},Yf.prototype.unmount=Lm.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;nE(i.current,2,null,i,null,null),Of(),o[St]=null}};function Yf(i){this._internalRoot=i}Yf.prototype.unstable_scheduleHydration=function(i){if(i){var o=$u();i={blockedOn:null,target:i,priority:o};for(var l=0;l<ps.length&&o!==0&&o<ps[l].priority;l++);ps.splice(l,0,i),l===0&&aE(i)}};var uE=e.version;if(uE!=="19.1.1")throw Error(r(527,uE,"19.1.1"));q.findDOMNode=function(i){var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=d(o),i=i!==null?p(i):null,i=i===null?null:i.stateNode,i};var kR={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:M,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xf.isDisabled&&Xf.supportsFiber)try{Zn=Xf.inject(kR),jt=Xf}catch{}}return pc.createRoot=function(i,o){if(!s(i))throw Error(r(299));var l=!1,u="",h=_1,m=T1,x=R1,O=null;return o!=null&&(o.unstable_strictMode===!0&&(l=!0),o.identifierPrefix!==void 0&&(u=o.identifierPrefix),o.onUncaughtError!==void 0&&(h=o.onUncaughtError),o.onCaughtError!==void 0&&(m=o.onCaughtError),o.onRecoverableError!==void 0&&(x=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(O=o.unstable_transitionCallbacks)),o=eE(i,1,!1,null,null,l,u,h,m,x,O,null),i[St]=o.current,gm(i),new Lm(o)},pc.hydrateRoot=function(i,o,l){if(!s(i))throw Error(r(299));var u=!1,h="",m=_1,x=T1,O=R1,z=null,Z=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(h=l.identifierPrefix),l.onUncaughtError!==void 0&&(m=l.onUncaughtError),l.onCaughtError!==void 0&&(x=l.onCaughtError),l.onRecoverableError!==void 0&&(O=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(z=l.unstable_transitionCallbacks),l.formState!==void 0&&(Z=l.formState)),o=eE(i,1,!0,o,l??null,u,h,m,x,O,z,Z),o.context=tE(null),l=o.current,u=sr(),u=yl(u),h=Qi(u),h.callback=null,Zi(l,h,u),l=u,o.current.lanes=l,bi(o,l),ti(o),i[St]=o.current,gm(i),new Yf(o)},pc.version="19.1.1",pc}var wE;function qR(){if(wE)return Im.exports;wE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Im.exports=FR(),Im.exports}var HR=qR();const jR=gi(HR),Kc={black:"#000",white:"#fff"},ma={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},ya={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},ba={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},va={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},wa={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},gc={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},VR={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function Vi(t,...e){const n=new URL(`https://mui.com/production-error/?code=${t}`);return e.forEach(r=>n.searchParams.append("args[]",r)),`Minified MUI error #${t}; visit ${n} for the full message.`}const i0="$$material";function zd(){return zd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zd.apply(null,arguments)}function KR(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function GR(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var YR=function(){function t(n){var r=this;this._insertTag=function(s){var a;r.tags.length===0?r.insertionPoint?a=r.insertionPoint.nextSibling:r.prepend?a=r.container.firstChild:a=r.before:a=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(s,a),r.tags.push(s)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(GR(this));var s=this.tags[this.tags.length-1];if(this.isSpeedy){var a=KR(s);try{a.insertRule(r,a.cssRules.length)}catch{}}else s.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var s;return(s=r.parentNode)==null?void 0:s.removeChild(r)}),this.tags=[],this.ctr=0},t}(),Tn="-ms-",Fd="-moz-",We="-webkit-",YC="comm",s0="rule",o0="decl",XR="@import",XC="@keyframes",WR="@layer",QR=Math.abs,Dh=String.fromCharCode,ZR=Object.assign;function JR(t,e){return yn(t,0)^45?(((e<<2^yn(t,0))<<2^yn(t,1))<<2^yn(t,2))<<2^yn(t,3):0}function WC(t){return t.trim()}function e4(t,e){return(t=e.exec(t))?t[0]:t}function Qe(t,e,n){return t.replace(e,n)}function Jy(t,e){return t.indexOf(e)}function yn(t,e){return t.charCodeAt(e)|0}function Gc(t,e,n){return t.slice(e,n)}function si(t){return t.length}function a0(t){return t.length}function Wf(t,e){return e.push(t),t}function t4(t,e){return t.map(e).join("")}var kh=1,ja=1,QC=0,Wn=0,Jt=0,cl="";function Lh(t,e,n,r,s,a,c){return{value:t,root:e,parent:n,type:r,props:s,children:a,line:kh,column:ja,length:c,return:""}}function mc(t,e){return ZR(Lh("",null,null,"",null,null,0),t,{length:-t.length},e)}function n4(){return Jt}function r4(){return Jt=Wn>0?yn(cl,--Wn):0,ja--,Jt===10&&(ja=1,kh--),Jt}function cr(){return Jt=Wn<QC?yn(cl,Wn++):0,ja++,Jt===10&&(ja=1,kh++),Jt}function ci(){return yn(cl,Wn)}function Rd(){return Wn}function fu(t,e){return Gc(cl,t,e)}function Yc(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function ZC(t){return kh=ja=1,QC=si(cl=t),Wn=0,[]}function JC(t){return cl="",t}function Od(t){return WC(fu(Wn-1,eb(t===91?t+2:t===40?t+1:t)))}function i4(t){for(;(Jt=ci())&&Jt<33;)cr();return Yc(t)>2||Yc(Jt)>3?"":" "}function s4(t,e){for(;--e&&cr()&&!(Jt<48||Jt>102||Jt>57&&Jt<65||Jt>70&&Jt<97););return fu(t,Rd()+(e<6&&ci()==32&&cr()==32))}function eb(t){for(;cr();)switch(Jt){case t:return Wn;case 34:case 39:t!==34&&t!==39&&eb(Jt);break;case 40:t===41&&eb(t);break;case 92:cr();break}return Wn}function o4(t,e){for(;cr()&&t+Jt!==57;)if(t+Jt===84&&ci()===47)break;return"/*"+fu(e,Wn-1)+"*"+Dh(t===47?t:cr())}function a4(t){for(;!Yc(ci());)cr();return fu(t,Wn)}function l4(t){return JC(Md("",null,null,null,[""],t=ZC(t),0,[0],t))}function Md(t,e,n,r,s,a,c,f,d){for(var p=0,g=0,y=c,b=0,w=0,v=0,S=1,E=1,C=1,k=0,A="",T=s,R=a,I=r,$=A;E;)switch(v=k,k=cr()){case 40:if(v!=108&&yn($,y-1)==58){Jy($+=Qe(Od(k),"&","&\f"),"&\f")!=-1&&(C=-1);break}case 34:case 39:case 91:$+=Od(k);break;case 9:case 10:case 13:case 32:$+=i4(v);break;case 92:$+=s4(Rd()-1,7);continue;case 47:switch(ci()){case 42:case 47:Wf(c4(o4(cr(),Rd()),e,n),d);break;default:$+="/"}break;case 123*S:f[p++]=si($)*C;case 125*S:case 59:case 0:switch(k){case 0:case 125:E=0;case 59+g:C==-1&&($=Qe($,/\f/g,"")),w>0&&si($)-y&&Wf(w>32?EE($+";",r,n,y-1):EE(Qe($," ","")+";",r,n,y-2),d);break;case 59:$+=";";default:if(Wf(I=SE($,e,n,p,g,s,f,A,T=[],R=[],y),a),k===123)if(g===0)Md($,e,I,I,T,a,y,f,R);else switch(b===99&&yn($,3)===110?100:b){case 100:case 108:case 109:case 115:Md(t,I,I,r&&Wf(SE(t,I,I,0,0,s,f,A,s,T=[],y),R),s,R,y,f,r?T:R);break;default:Md($,I,I,I,[""],R,0,f,R)}}p=g=w=0,S=C=1,A=$="",y=c;break;case 58:y=1+si($),w=v;default:if(S<1){if(k==123)--S;else if(k==125&&S++==0&&r4()==125)continue}switch($+=Dh(k),k*S){case 38:C=g>0?1:($+="\f",-1);break;case 44:f[p++]=(si($)-1)*C,C=1;break;case 64:ci()===45&&($+=Od(cr())),b=ci(),g=y=si(A=$+=a4(Rd())),k++;break;case 45:v===45&&si($)==2&&(S=0)}}return a}function SE(t,e,n,r,s,a,c,f,d,p,g){for(var y=s-1,b=s===0?a:[""],w=a0(b),v=0,S=0,E=0;v<r;++v)for(var C=0,k=Gc(t,y+1,y=QR(S=c[v])),A=t;C<w;++C)(A=WC(S>0?b[C]+" "+k:Qe(k,/&\f/g,b[C])))&&(d[E++]=A);return Lh(t,e,n,s===0?s0:f,d,p,g)}function c4(t,e,n){return Lh(t,e,n,YC,Dh(n4()),Gc(t,2,-2),0)}function EE(t,e,n,r){return Lh(t,e,n,o0,Gc(t,0,r),Gc(t,r+1,-1),r)}function La(t,e){for(var n="",r=a0(t),s=0;s<r;s++)n+=e(t[s],s,t,e)||"";return n}function u4(t,e,n,r){switch(t.type){case WR:if(t.children.length)break;case XR:case o0:return t.return=t.return||t.value;case YC:return"";case XC:return t.return=t.value+"{"+La(t.children,r)+"}";case s0:t.value=t.props.join(",")}return si(n=La(t.children,r))?t.return=t.value+"{"+n+"}":""}function f4(t){var e=a0(t);return function(n,r,s,a){for(var c="",f=0;f<e;f++)c+=t[f](n,r,s,a)||"";return c}}function d4(t){return function(e){e.root||(e=e.return)&&t(e)}}function eA(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var h4=function(e,n,r){for(var s=0,a=0;s=a,a=ci(),s===38&&a===12&&(n[r]=1),!Yc(a);)cr();return fu(e,Wn)},p4=function(e,n){var r=-1,s=44;do switch(Yc(s)){case 0:s===38&&ci()===12&&(n[r]=1),e[r]+=h4(Wn-1,n,r);break;case 2:e[r]+=Od(s);break;case 4:if(s===44){e[++r]=ci()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=Dh(s)}while(s=cr());return e},g4=function(e,n){return JC(p4(ZC(e),n))},xE=new WeakMap,m4=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,s=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!xE.get(r))&&!s){xE.set(e,!0);for(var a=[],c=g4(n,a),f=r.props,d=0,p=0;d<c.length;d++)for(var g=0;g<f.length;g++,p++)e.props[p]=a[d]?c[d].replace(/&\f/g,f[g]):f[g]+" "+c[d]}}},y4=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function tA(t,e){switch(JR(t,e)){case 5103:return We+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return We+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return We+t+Fd+t+Tn+t+t;case 6828:case 4268:return We+t+Tn+t+t;case 6165:return We+t+Tn+"flex-"+t+t;case 5187:return We+t+Qe(t,/(\w+).+(:[^]+)/,We+"box-$1$2"+Tn+"flex-$1$2")+t;case 5443:return We+t+Tn+"flex-item-"+Qe(t,/flex-|-self/,"")+t;case 4675:return We+t+Tn+"flex-line-pack"+Qe(t,/align-content|flex-|-self/,"")+t;case 5548:return We+t+Tn+Qe(t,"shrink","negative")+t;case 5292:return We+t+Tn+Qe(t,"basis","preferred-size")+t;case 6060:return We+"box-"+Qe(t,"-grow","")+We+t+Tn+Qe(t,"grow","positive")+t;case 4554:return We+Qe(t,/([^-])(transform)/g,"$1"+We+"$2")+t;case 6187:return Qe(Qe(Qe(t,/(zoom-|grab)/,We+"$1"),/(image-set)/,We+"$1"),t,"")+t;case 5495:case 3959:return Qe(t,/(image-set\([^]*)/,We+"$1$`$1");case 4968:return Qe(Qe(t,/(.+:)(flex-)?(.*)/,We+"box-pack:$3"+Tn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+We+t+t;case 4095:case 3583:case 4068:case 2532:return Qe(t,/(.+)-inline(.+)/,We+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(si(t)-1-e>6)switch(yn(t,e+1)){case 109:if(yn(t,e+4)!==45)break;case 102:return Qe(t,/(.+:)(.+)-([^]+)/,"$1"+We+"$2-$3$1"+Fd+(yn(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~Jy(t,"stretch")?tA(Qe(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(yn(t,e+1)!==115)break;case 6444:switch(yn(t,si(t)-3-(~Jy(t,"!important")&&10))){case 107:return Qe(t,":",":"+We)+t;case 101:return Qe(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+We+(yn(t,14)===45?"inline-":"")+"box$3$1"+We+"$2$3$1"+Tn+"$2box$3")+t}break;case 5936:switch(yn(t,e+11)){case 114:return We+t+Tn+Qe(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return We+t+Tn+Qe(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return We+t+Tn+Qe(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return We+t+Tn+t+t}return t}var b4=function(e,n,r,s){if(e.length>-1&&!e.return)switch(e.type){case o0:e.return=tA(e.value,e.length);break;case XC:return La([mc(e,{value:Qe(e.value,"@","@"+We)})],s);case s0:if(e.length)return t4(e.props,function(a){switch(e4(a,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return La([mc(e,{props:[Qe(a,/:(read-\w+)/,":"+Fd+"$1")]})],s);case"::placeholder":return La([mc(e,{props:[Qe(a,/:(plac\w+)/,":"+We+"input-$1")]}),mc(e,{props:[Qe(a,/:(plac\w+)/,":"+Fd+"$1")]}),mc(e,{props:[Qe(a,/:(plac\w+)/,Tn+"input-$1")]})],s)}return""})}},v4=[b4],w4=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(S){var E=S.getAttribute("data-emotion");E.indexOf(" ")!==-1&&(document.head.appendChild(S),S.setAttribute("data-s",""))})}var s=e.stylisPlugins||v4,a={},c,f=[];c=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(S){for(var E=S.getAttribute("data-emotion").split(" "),C=1;C<E.length;C++)a[E[C]]=!0;f.push(S)});var d,p=[m4,y4];{var g,y=[u4,d4(function(S){g.insert(S)})],b=f4(p.concat(s,y)),w=function(E){return La(l4(E),b)};d=function(E,C,k,A){g=k,w(E?E+"{"+C.styles+"}":C.styles),A&&(v.inserted[C.name]=!0)}}var v={key:n,sheet:new YR({key:n,container:c,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:a,registered:{},insert:d};return v.sheet.hydrate(f),v},zm={exports:{}},Je={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CE;function S4(){if(CE)return Je;CE=1;var t=typeof Symbol=="function"&&Symbol.for,e=t?Symbol.for("react.element"):60103,n=t?Symbol.for("react.portal"):60106,r=t?Symbol.for("react.fragment"):60107,s=t?Symbol.for("react.strict_mode"):60108,a=t?Symbol.for("react.profiler"):60114,c=t?Symbol.for("react.provider"):60109,f=t?Symbol.for("react.context"):60110,d=t?Symbol.for("react.async_mode"):60111,p=t?Symbol.for("react.concurrent_mode"):60111,g=t?Symbol.for("react.forward_ref"):60112,y=t?Symbol.for("react.suspense"):60113,b=t?Symbol.for("react.suspense_list"):60120,w=t?Symbol.for("react.memo"):60115,v=t?Symbol.for("react.lazy"):60116,S=t?Symbol.for("react.block"):60121,E=t?Symbol.for("react.fundamental"):60117,C=t?Symbol.for("react.responder"):60118,k=t?Symbol.for("react.scope"):60119;function A(R){if(typeof R=="object"&&R!==null){var I=R.$$typeof;switch(I){case e:switch(R=R.type,R){case d:case p:case r:case a:case s:case y:return R;default:switch(R=R&&R.$$typeof,R){case f:case g:case v:case w:case c:return R;default:return I}}case n:return I}}}function T(R){return A(R)===p}return Je.AsyncMode=d,Je.ConcurrentMode=p,Je.ContextConsumer=f,Je.ContextProvider=c,Je.Element=e,Je.ForwardRef=g,Je.Fragment=r,Je.Lazy=v,Je.Memo=w,Je.Portal=n,Je.Profiler=a,Je.StrictMode=s,Je.Suspense=y,Je.isAsyncMode=function(R){return T(R)||A(R)===d},Je.isConcurrentMode=T,Je.isContextConsumer=function(R){return A(R)===f},Je.isContextProvider=function(R){return A(R)===c},Je.isElement=function(R){return typeof R=="object"&&R!==null&&R.$$typeof===e},Je.isForwardRef=function(R){return A(R)===g},Je.isFragment=function(R){return A(R)===r},Je.isLazy=function(R){return A(R)===v},Je.isMemo=function(R){return A(R)===w},Je.isPortal=function(R){return A(R)===n},Je.isProfiler=function(R){return A(R)===a},Je.isStrictMode=function(R){return A(R)===s},Je.isSuspense=function(R){return A(R)===y},Je.isValidElementType=function(R){return typeof R=="string"||typeof R=="function"||R===r||R===p||R===a||R===s||R===y||R===b||typeof R=="object"&&R!==null&&(R.$$typeof===v||R.$$typeof===w||R.$$typeof===c||R.$$typeof===f||R.$$typeof===g||R.$$typeof===E||R.$$typeof===C||R.$$typeof===k||R.$$typeof===S)},Je.typeOf=A,Je}var AE;function E4(){return AE||(AE=1,zm.exports=S4()),zm.exports}var Fm,_E;function x4(){if(_E)return Fm;_E=1;var t=E4(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};a[t.ForwardRef]=r,a[t.Memo]=s;function c(v){return t.isMemo(v)?s:a[v.$$typeof]||e}var f=Object.defineProperty,d=Object.getOwnPropertyNames,p=Object.getOwnPropertySymbols,g=Object.getOwnPropertyDescriptor,y=Object.getPrototypeOf,b=Object.prototype;function w(v,S,E){if(typeof S!="string"){if(b){var C=y(S);C&&C!==b&&w(v,C,E)}var k=d(S);p&&(k=k.concat(p(S)));for(var A=c(v),T=c(S),R=0;R<k.length;++R){var I=k[R];if(!n[I]&&!(E&&E[I])&&!(T&&T[I])&&!(A&&A[I])){var $=g(S,I);try{f(v,I,$)}catch{}}}}return v}return Fm=w,Fm}x4();var C4=!0;function nA(t,e,n){var r="";return n.split(" ").forEach(function(s){t[s]!==void 0?e.push(t[s]+";"):s&&(r+=s+" ")}),r}var l0=function(e,n,r){var s=e.key+"-"+n.name;(r===!1||C4===!1)&&e.registered[s]===void 0&&(e.registered[s]=n.styles)},c0=function(e,n,r){l0(e,n,r);var s=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var a=n;do e.insert(n===a?"."+s:"",a,e.sheet,!0),a=a.next;while(a!==void 0)}};function A4(t){for(var e=0,n,r=0,s=t.length;s>=4;++r,s-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(s){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var _4={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},T4=/[A-Z]|^ms/g,R4=/_EMO_([^_]+?)_([^]*?)_EMO_/g,rA=function(e){return e.charCodeAt(1)===45},TE=function(e){return e!=null&&typeof e!="boolean"},qm=eA(function(t){return rA(t)?t:t.replace(T4,"-$&").toLowerCase()}),RE=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(R4,function(r,s,a){return oi={name:s,styles:a,next:oi},s})}return _4[e]!==1&&!rA(e)&&typeof n=="number"&&n!==0?n+"px":n};function Xc(t,e,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var s=n;if(s.anim===1)return oi={name:s.name,styles:s.styles,next:oi},s.name;var a=n;if(a.styles!==void 0){var c=a.next;if(c!==void 0)for(;c!==void 0;)oi={name:c.name,styles:c.styles,next:oi},c=c.next;var f=a.styles+";";return f}return O4(t,e,n)}case"function":{if(t!==void 0){var d=oi,p=n(t);return oi=d,Xc(t,e,p)}break}}var g=n;if(e==null)return g;var y=e[g];return y!==void 0?y:g}function O4(t,e,n){var r="";if(Array.isArray(n))for(var s=0;s<n.length;s++)r+=Xc(t,e,n[s])+";";else for(var a in n){var c=n[a];if(typeof c!="object"){var f=c;e!=null&&e[f]!==void 0?r+=a+"{"+e[f]+"}":TE(f)&&(r+=qm(a)+":"+RE(a,f)+";")}else if(Array.isArray(c)&&typeof c[0]=="string"&&(e==null||e[c[0]]===void 0))for(var d=0;d<c.length;d++)TE(c[d])&&(r+=qm(a)+":"+RE(a,c[d])+";");else{var p=Xc(t,e,c);switch(a){case"animation":case"animationName":{r+=qm(a)+":"+p+";";break}default:r+=a+"{"+p+"}"}}}return r}var OE=/label:\s*([^\s;{]+)\s*(;|$)/g,oi;function du(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var r=!0,s="";oi=void 0;var a=t[0];if(a==null||a.raw===void 0)r=!1,s+=Xc(n,e,a);else{var c=a;s+=c[0]}for(var f=1;f<t.length;f++)if(s+=Xc(n,e,t[f]),r){var d=a;s+=d[f]}OE.lastIndex=0;for(var p="",g;(g=OE.exec(s))!==null;)p+="-"+g[1];var y=A4(s)+p;return{name:y,styles:s,next:oi}}var M4=function(e){return e()},iA=Zy.useInsertionEffect?Zy.useInsertionEffect:!1,sA=iA||M4,ME=iA||U.useLayoutEffect,oA=U.createContext(typeof HTMLElement<"u"?w4({key:"css"}):null);oA.Provider;var u0=function(e){return U.forwardRef(function(n,r){var s=U.useContext(oA);return e(n,s,r)})},Nh=U.createContext({}),f0={}.hasOwnProperty,tb="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",D4=function(e,n){var r={};for(var s in n)f0.call(n,s)&&(r[s]=n[s]);return r[tb]=e,r},k4=function(e){var n=e.cache,r=e.serialized,s=e.isStringTag;return l0(n,r,s),sA(function(){return c0(n,r,s)}),null},L4=u0(function(t,e,n){var r=t.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var s=t[tb],a=[r],c="";typeof t.className=="string"?c=nA(e.registered,a,t.className):t.className!=null&&(c=t.className+" ");var f=du(a,void 0,U.useContext(Nh));c+=e.key+"-"+f.name;var d={};for(var p in t)f0.call(t,p)&&p!=="css"&&p!==tb&&(d[p]=t[p]);return d.className=c,n&&(d.ref=n),U.createElement(U.Fragment,null,U.createElement(k4,{cache:e,serialized:f,isStringTag:typeof s=="string"}),U.createElement(s,d))}),N4=L4,DE=function(e,n){var r=arguments;if(n==null||!f0.call(n,"css"))return U.createElement.apply(void 0,r);var s=r.length,a=new Array(s);a[0]=N4,a[1]=D4(e,n);for(var c=2;c<s;c++)a[c]=r[c];return U.createElement.apply(null,a)};(function(t){var e;e||(e=t.JSX||(t.JSX={}))})(DE||(DE={}));var B4=u0(function(t,e){var n=t.styles,r=du([n],void 0,U.useContext(Nh)),s=U.useRef();return ME(function(){var a=e.key+"-global",c=new e.sheet.constructor({key:a,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),f=!1,d=document.querySelector('style[data-emotion="'+a+" "+r.name+'"]');return e.sheet.tags.length&&(c.before=e.sheet.tags[0]),d!==null&&(f=!0,d.setAttribute("data-emotion",a),c.hydrate([d])),s.current=[c,f],function(){c.flush()}},[e]),ME(function(){var a=s.current,c=a[0],f=a[1];if(f){a[1]=!1;return}if(r.next!==void 0&&c0(e,r.next,!0),c.tags.length){var d=c.tags[c.tags.length-1].nextElementSibling;c.before=d,c.flush()}e.insert("",r,c,!1)},[e,r.name]),null});function d0(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return du(e)}function hu(){var t=d0.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var I4=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,P4=eA(function(t){return I4.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),$4=P4,U4=function(e){return e!=="theme"},kE=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?$4:U4},LE=function(e,n,r){var s;if(n){var a=n.shouldForwardProp;s=e.__emotion_forwardProp&&a?function(c){return e.__emotion_forwardProp(c)&&a(c)}:a}return typeof s!="function"&&r&&(s=e.__emotion_forwardProp),s},z4=function(e){var n=e.cache,r=e.serialized,s=e.isStringTag;return l0(n,r,s),sA(function(){return c0(n,r,s)}),null},F4=function t(e,n){var r=e.__emotion_real===e,s=r&&e.__emotion_base||e,a,c;n!==void 0&&(a=n.label,c=n.target);var f=LE(e,n,r),d=f||kE(s),p=!d("as");return function(){var g=arguments,y=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(a!==void 0&&y.push("label:"+a+";"),g[0]==null||g[0].raw===void 0)y.push.apply(y,g);else{var b=g[0];y.push(b[0]);for(var w=g.length,v=1;v<w;v++)y.push(g[v],b[v])}var S=u0(function(E,C,k){var A=p&&E.as||s,T="",R=[],I=E;if(E.theme==null){I={};for(var $ in E)I[$]=E[$];I.theme=U.useContext(Nh)}typeof E.className=="string"?T=nA(C.registered,R,E.className):E.className!=null&&(T=E.className+" ");var j=du(y.concat(R),C.registered,I);T+=C.key+"-"+j.name,c!==void 0&&(T+=" "+c);var P=p&&f===void 0?kE(A):d,G={};for(var W in E)p&&W==="as"||P(W)&&(G[W]=E[W]);return G.className=T,k&&(G.ref=k),U.createElement(U.Fragment,null,U.createElement(z4,{cache:C,serialized:j,isStringTag:typeof A=="string"}),U.createElement(A,G))});return S.displayName=a!==void 0?a:"Styled("+(typeof s=="string"?s:s.displayName||s.name||"Component")+")",S.defaultProps=e.defaultProps,S.__emotion_real=S,S.__emotion_base=s,S.__emotion_styles=y,S.__emotion_forwardProp=f,Object.defineProperty(S,"toString",{value:function(){return"."+c}}),S.withComponent=function(E,C){var k=t(E,zd({},n,C,{shouldForwardProp:LE(S,C,!0)}));return k.apply(void 0,y)},S}},q4=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],nb=F4.bind(null);q4.forEach(function(t){nb[t]=nb(t)});function H4(t){return t==null||Object.keys(t).length===0}function j4(t){const{styles:e,defaultTheme:n={}}=t,r=typeof e=="function"?s=>e(H4(s)?n:s):e;return ne.jsx(B4,{styles:r})}function V4(t,e){return nb(t,e)}function K4(t,e){Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))}const NE=[];function As(t){return NE[0]=t,du(NE)}var Hm={exports:{}},mt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BE;function G4(){if(BE)return mt;BE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),b=Symbol.for("react.view_transition"),w=Symbol.for("react.client.reference");function v(S){if(typeof S=="object"&&S!==null){var E=S.$$typeof;switch(E){case t:switch(S=S.type,S){case n:case s:case r:case d:case p:case b:return S;default:switch(S=S&&S.$$typeof,S){case c:case f:case y:case g:return S;case a:return S;default:return E}}case e:return E}}}return mt.ContextConsumer=a,mt.ContextProvider=c,mt.Element=t,mt.ForwardRef=f,mt.Fragment=n,mt.Lazy=y,mt.Memo=g,mt.Portal=e,mt.Profiler=s,mt.StrictMode=r,mt.Suspense=d,mt.SuspenseList=p,mt.isContextConsumer=function(S){return v(S)===a},mt.isContextProvider=function(S){return v(S)===c},mt.isElement=function(S){return typeof S=="object"&&S!==null&&S.$$typeof===t},mt.isForwardRef=function(S){return v(S)===f},mt.isFragment=function(S){return v(S)===n},mt.isLazy=function(S){return v(S)===y},mt.isMemo=function(S){return v(S)===g},mt.isPortal=function(S){return v(S)===e},mt.isProfiler=function(S){return v(S)===s},mt.isStrictMode=function(S){return v(S)===r},mt.isSuspense=function(S){return v(S)===d},mt.isSuspenseList=function(S){return v(S)===p},mt.isValidElementType=function(S){return typeof S=="string"||typeof S=="function"||S===n||S===s||S===r||S===d||S===p||typeof S=="object"&&S!==null&&(S.$$typeof===y||S.$$typeof===g||S.$$typeof===c||S.$$typeof===a||S.$$typeof===f||S.$$typeof===w||S.getModuleId!==void 0)},mt.typeOf=v,mt}var IE;function Y4(){return IE||(IE=1,Hm.exports=G4()),Hm.exports}var aA=Y4();function ai(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function lA(t){if(U.isValidElement(t)||aA.isValidElementType(t)||!ai(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=lA(t[n])}),e}function Nn(t,e,n={clone:!0}){const r=n.clone?{...t}:t;return ai(t)&&ai(e)&&Object.keys(e).forEach(s=>{U.isValidElement(e[s])||aA.isValidElementType(e[s])?r[s]=e[s]:ai(e[s])&&Object.prototype.hasOwnProperty.call(t,s)&&ai(t[s])?r[s]=Nn(t[s],e[s],n):n.clone?r[s]=ai(e[s])?lA(e[s]):e[s]:r[s]=e[s]}),r}const X4=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>({...n,[r.key]:r.val}),{})};function W4(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5,...s}=t,a=X4(e),c=Object.keys(a);function f(b){return`@media (min-width:${typeof e[b]=="number"?e[b]:b}${n})`}function d(b){return`@media (max-width:${(typeof e[b]=="number"?e[b]:b)-r/100}${n})`}function p(b,w){const v=c.indexOf(w);return`@media (min-width:${typeof e[b]=="number"?e[b]:b}${n}) and (max-width:${(v!==-1&&typeof e[c[v]]=="number"?e[c[v]]:w)-r/100}${n})`}function g(b){return c.indexOf(b)+1<c.length?p(b,c[c.indexOf(b)+1]):f(b)}function y(b){const w=c.indexOf(b);return w===0?f(c[1]):w===c.length-1?d(c[w]):p(b,c[c.indexOf(b)+1]).replace("@media","@media not all and")}return{keys:c,values:a,up:f,down:d,between:p,only:g,not:y,unit:n,...s}}function PE(t,e){if(!t.containerQueries)return e;const n=Object.keys(e).filter(r=>r.startsWith("@container")).sort((r,s)=>{const a=/min-width:\s*([0-9.]+)/;return+(r.match(a)?.[1]||0)-+(s.match(a)?.[1]||0)});return n.length?n.reduce((r,s)=>{const a=e[s];return delete r[s],r[s]=a,r},{...e}):e}function Q4(t,e){return e==="@"||e.startsWith("@")&&(t.some(n=>e.startsWith(`@${n}`))||!!e.match(/^@\d/))}function Z4(t,e){const n=e.match(/^@([^/]+)?\/?(.+)?$/);if(!n)return null;const[,r,s]=n,a=Number.isNaN(+r)?r||0:+r;return t.containerQueries(s).up(a)}function J4(t){const e=(a,c)=>a.replace("@media",c?`@container ${c}`:"@container");function n(a,c){a.up=(...f)=>e(t.breakpoints.up(...f),c),a.down=(...f)=>e(t.breakpoints.down(...f),c),a.between=(...f)=>e(t.breakpoints.between(...f),c),a.only=(...f)=>e(t.breakpoints.only(...f),c),a.not=(...f)=>{const d=e(t.breakpoints.not(...f),c);return d.includes("not all and")?d.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):d}}const r={},s=a=>(n(r,a),r);return n(s),{...t,containerQueries:s}}const eO={borderRadius:4};function $c(t,e){return e?Nn(t,e,{clone:!1}):t}const Bh={xs:0,sm:600,md:900,lg:1200,xl:1536},$E={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${Bh[t]}px)`},tO={containerQueries:t=>({up:e=>{let n=typeof e=="number"?e:Bh[e]||e;return typeof n=="number"&&(n=`${n}px`),t?`@container ${t} (min-width:${n})`:`@container (min-width:${n})`}})};function Ki(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const a=r.breakpoints||$E;return e.reduce((c,f,d)=>(c[a.up(a.keys[d])]=n(e[d]),c),{})}if(typeof e=="object"){const a=r.breakpoints||$E;return Object.keys(e).reduce((c,f)=>{if(Q4(a.keys,f)){const d=Z4(r.containerQueries?r:tO,f);d&&(c[d]=n(e[f],f))}else if(Object.keys(a.values||Bh).includes(f)){const d=a.up(f);c[d]=n(e[f],f)}else{const d=f;c[d]=e[d]}return c},{})}return n(e)}function nO(t={}){return t.keys?.reduce((n,r)=>{const s=t.up(r);return n[s]={},n},{})||{}}function UE(t,e){return t.reduce((n,r)=>{const s=n[r];return(!s||Object.keys(s).length===0)&&delete n[r],n},e)}function Ee(t){if(typeof t!="string")throw new Error(Vi(7));return t.charAt(0).toUpperCase()+t.slice(1)}function Ih(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((s,a)=>s&&s[a]?s[a]:null,t);if(r!=null)return r}return e.split(".").reduce((r,s)=>r&&r[s]!=null?r[s]:null,t)}function qd(t,e,n,r=n){let s;return typeof t=="function"?s=t(n):Array.isArray(t)?s=t[n]||r:s=Ih(t,n)||r,e&&(s=e(s,r,t)),s}function Yt(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:s}=t,a=c=>{if(c[e]==null)return null;const f=c[e],d=c.theme,p=Ih(d,r)||{};return Ki(c,f,y=>{let b=qd(p,s,y);return y===b&&typeof y=="string"&&(b=qd(p,s,`${e}${y==="default"?"":Ee(y)}`,y)),n===!1?b:{[n]:b}})};return a.propTypes={},a.filterProps=[e],a}function rO(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const iO={m:"margin",p:"padding"},sO={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},zE={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},oO=rO(t=>{if(t.length>2)if(zE[t])t=zE[t];else return[t];const[e,n]=t.split(""),r=iO[e],s=sO[n]||"";return Array.isArray(s)?s.map(a=>r+a):[r+s]}),h0=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],p0=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...h0,...p0];function pu(t,e,n,r){const s=Ih(t,e,!0)??n;return typeof s=="number"||typeof s=="string"?a=>typeof a=="string"?a:typeof s=="string"?s.startsWith("var(")&&a===0?0:s.startsWith("var(")&&a===1?s:`calc(${a} * ${s})`:s*a:Array.isArray(s)?a=>{if(typeof a=="string")return a;const c=Math.abs(a),f=s[c];return a>=0?f:typeof f=="number"?-f:typeof f=="string"&&f.startsWith("var(")?`calc(-1 * ${f})`:`-${f}`}:typeof s=="function"?s:()=>{}}function g0(t){return pu(t,"spacing",8)}function gu(t,e){return typeof e=="string"||e==null?e:t(e)}function aO(t,e){return n=>t.reduce((r,s)=>(r[s]=gu(e,n),r),{})}function lO(t,e,n,r){if(!e.includes(n))return null;const s=oO(n),a=aO(s,r),c=t[n];return Ki(t,c,a)}function cA(t,e){const n=g0(t.theme);return Object.keys(t).map(r=>lO(t,e,r,n)).reduce($c,{})}function Ut(t){return cA(t,h0)}Ut.propTypes={};Ut.filterProps=h0;function zt(t){return cA(t,p0)}zt.propTypes={};zt.filterProps=p0;function uA(t=8,e=g0({spacing:t})){if(t.mui)return t;const n=(...r)=>(r.length===0?[1]:r).map(a=>{const c=e(a);return typeof c=="number"?`${c}px`:c}).join(" ");return n.mui=!0,n}function Ph(...t){const e=t.reduce((r,s)=>(s.filterProps.forEach(a=>{r[a]=s}),r),{}),n=r=>Object.keys(r).reduce((s,a)=>e[a]?$c(s,e[a](r)):s,{});return n.propTypes={},n.filterProps=t.reduce((r,s)=>r.concat(s.filterProps),[]),n}function Er(t){return typeof t!="number"?t:`${t}px solid`}function Dr(t,e){return Yt({prop:t,themeKey:"borders",transform:e})}const cO=Dr("border",Er),uO=Dr("borderTop",Er),fO=Dr("borderRight",Er),dO=Dr("borderBottom",Er),hO=Dr("borderLeft",Er),pO=Dr("borderColor"),gO=Dr("borderTopColor"),mO=Dr("borderRightColor"),yO=Dr("borderBottomColor"),bO=Dr("borderLeftColor"),vO=Dr("outline",Er),wO=Dr("outlineColor"),$h=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=pu(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:gu(e,r)});return Ki(t,t.borderRadius,n)}return null};$h.propTypes={};$h.filterProps=["borderRadius"];Ph(cO,uO,fO,dO,hO,pO,gO,mO,yO,bO,$h,vO,wO);const Uh=t=>{if(t.gap!==void 0&&t.gap!==null){const e=pu(t.theme,"spacing",8),n=r=>({gap:gu(e,r)});return Ki(t,t.gap,n)}return null};Uh.propTypes={};Uh.filterProps=["gap"];const zh=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=pu(t.theme,"spacing",8),n=r=>({columnGap:gu(e,r)});return Ki(t,t.columnGap,n)}return null};zh.propTypes={};zh.filterProps=["columnGap"];const Fh=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=pu(t.theme,"spacing",8),n=r=>({rowGap:gu(e,r)});return Ki(t,t.rowGap,n)}return null};Fh.propTypes={};Fh.filterProps=["rowGap"];const SO=Yt({prop:"gridColumn"}),EO=Yt({prop:"gridRow"}),xO=Yt({prop:"gridAutoFlow"}),CO=Yt({prop:"gridAutoColumns"}),AO=Yt({prop:"gridAutoRows"}),_O=Yt({prop:"gridTemplateColumns"}),TO=Yt({prop:"gridTemplateRows"}),RO=Yt({prop:"gridTemplateAreas"}),OO=Yt({prop:"gridArea"});Ph(Uh,zh,Fh,SO,EO,xO,CO,AO,_O,TO,RO,OO);function Na(t,e){return e==="grey"?e:t}const MO=Yt({prop:"color",themeKey:"palette",transform:Na}),DO=Yt({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Na}),kO=Yt({prop:"backgroundColor",themeKey:"palette",transform:Na});Ph(MO,DO,kO);function ar(t){return t<=1&&t!==0?`${t*100}%`:t}const LO=Yt({prop:"width",transform:ar}),m0=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{const r=t.theme?.breakpoints?.values?.[n]||Bh[n];return r?t.theme?.breakpoints?.unit!=="px"?{maxWidth:`${r}${t.theme.breakpoints.unit}`}:{maxWidth:r}:{maxWidth:ar(n)}};return Ki(t,t.maxWidth,e)}return null};m0.filterProps=["maxWidth"];const NO=Yt({prop:"minWidth",transform:ar}),BO=Yt({prop:"height",transform:ar}),IO=Yt({prop:"maxHeight",transform:ar}),PO=Yt({prop:"minHeight",transform:ar});Yt({prop:"size",cssProperty:"width",transform:ar});Yt({prop:"size",cssProperty:"height",transform:ar});const $O=Yt({prop:"boxSizing"});Ph(LO,m0,NO,BO,IO,PO,$O);const mu={border:{themeKey:"borders",transform:Er},borderTop:{themeKey:"borders",transform:Er},borderRight:{themeKey:"borders",transform:Er},borderBottom:{themeKey:"borders",transform:Er},borderLeft:{themeKey:"borders",transform:Er},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Er},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:$h},color:{themeKey:"palette",transform:Na},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Na},backgroundColor:{themeKey:"palette",transform:Na},p:{style:zt},pt:{style:zt},pr:{style:zt},pb:{style:zt},pl:{style:zt},px:{style:zt},py:{style:zt},padding:{style:zt},paddingTop:{style:zt},paddingRight:{style:zt},paddingBottom:{style:zt},paddingLeft:{style:zt},paddingX:{style:zt},paddingY:{style:zt},paddingInline:{style:zt},paddingInlineStart:{style:zt},paddingInlineEnd:{style:zt},paddingBlock:{style:zt},paddingBlockStart:{style:zt},paddingBlockEnd:{style:zt},m:{style:Ut},mt:{style:Ut},mr:{style:Ut},mb:{style:Ut},ml:{style:Ut},mx:{style:Ut},my:{style:Ut},margin:{style:Ut},marginTop:{style:Ut},marginRight:{style:Ut},marginBottom:{style:Ut},marginLeft:{style:Ut},marginX:{style:Ut},marginY:{style:Ut},marginInline:{style:Ut},marginInlineStart:{style:Ut},marginInlineEnd:{style:Ut},marginBlock:{style:Ut},marginBlockStart:{style:Ut},marginBlockEnd:{style:Ut},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Uh},rowGap:{style:Fh},columnGap:{style:zh},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:ar},maxWidth:{style:m0},minWidth:{transform:ar},height:{transform:ar},maxHeight:{transform:ar},minHeight:{transform:ar},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function UO(...t){const e=t.reduce((r,s)=>r.concat(Object.keys(s)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function zO(t,e){return typeof t=="function"?t(e):t}function FO(){function t(n,r,s,a){const c={[n]:r,theme:s},f=a[n];if(!f)return{[n]:r};const{cssProperty:d=n,themeKey:p,transform:g,style:y}=f;if(r==null)return null;if(p==="typography"&&r==="inherit")return{[n]:r};const b=Ih(s,p)||{};return y?y(c):Ki(c,r,v=>{let S=qd(b,g,v);return v===S&&typeof v=="string"&&(S=qd(b,g,`${n}${v==="default"?"":Ee(v)}`,v)),d===!1?S:{[d]:S}})}function e(n){const{sx:r,theme:s={},nested:a}=n||{};if(!r)return null;const c=s.unstable_sxConfig??mu;function f(d){let p=d;if(typeof d=="function")p=d(s);else if(typeof d!="object")return d;if(!p)return null;const g=nO(s.breakpoints),y=Object.keys(g);let b=g;return Object.keys(p).forEach(w=>{const v=zO(p[w],s);if(v!=null)if(typeof v=="object")if(c[w])b=$c(b,t(w,v,s,c));else{const S=Ki({theme:s},v,E=>({[w]:E}));UO(S,v)?b[w]=e({sx:v,theme:s,nested:!0}):b=$c(b,S)}else b=$c(b,t(w,v,s,c))}),!a&&s.modularCssLayers?{"@layer sx":PE(s,UE(y,b))}:PE(s,UE(y,b))}return Array.isArray(r)?r.map(f):f(r)}return e}const Va=FO();Va.filterProps=["sx"];function qO(t,e){const n=this;if(n.vars){if(!n.colorSchemes?.[t]||typeof n.getColorSchemeSelector!="function")return{};let r=n.getColorSchemeSelector(t);return r==="&"?e:((r.includes("data-")||r.includes("."))&&(r=`*:where(${r.replace(/\s*&$/,"")}) &`),{[r]:e})}return n.palette.mode===t?e:{}}function qh(t={},...e){const{breakpoints:n={},palette:r={},spacing:s,shape:a={},...c}=t,f=W4(n),d=uA(s);let p=Nn({breakpoints:f,direction:"ltr",components:{},palette:{mode:"light",...r},spacing:d,shape:{...eO,...a}},c);return p=J4(p),p.applyStyles=qO,p=e.reduce((g,y)=>Nn(g,y),p),p.unstable_sxConfig={...mu,...c?.unstable_sxConfig},p.unstable_sx=function(y){return Va({sx:y,theme:this})},p}function HO(t){return Object.keys(t).length===0}function jO(t=null){const e=U.useContext(Nh);return!e||HO(e)?t:e}const VO=qh();function y0(t=VO){return jO(t)}function jm(t){const e=As(t);return t!==e&&e.styles?(e.styles.match(/^@layer\s+[^{]*$/)||(e.styles=`@layer global{${e.styles}}`),e):t}function KO({styles:t,themeId:e,defaultTheme:n={}}){const r=y0(n),s=e&&r[e]||r;let a=typeof t=="function"?t(s):t;return s.modularCssLayers&&(Array.isArray(a)?a=a.map(c=>jm(typeof c=="function"?c(s):c)):a=jm(a)),ne.jsx(j4,{styles:a})}const GO=t=>{const e={systemProps:{},otherProps:{}},n=t?.theme?.unstable_sxConfig??mu;return Object.keys(t).forEach(r=>{n[r]?e.systemProps[r]=t[r]:e.otherProps[r]=t[r]}),e};function YO(t){const{sx:e,...n}=t,{systemProps:r,otherProps:s}=GO(n);let a;return Array.isArray(e)?a=[r,...e]:typeof e=="function"?a=(...c)=>{const f=e(...c);return ai(f)?{...r,...f}:r}:a={...r,...e},{...s,sx:a}}const FE=t=>t,XO=()=>{let t=FE;return{configure(e){t=e},generate(e){return t(e)},reset(){t=FE}}},WO=XO();function fA(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=fA(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function _e(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=fA(t))&&(r&&(r+=" "),r+=e);return r}const QO={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function tt(t,e,n="Mui"){const r=QO[e];return r?`${n}-${r}`:`${WO.generate(t)}-${e}`}function ft(t,e,n="Mui"){const r={};return e.forEach(s=>{r[s]=tt(t,s,n)}),r}function dA(t){const{variants:e,...n}=t,r={variants:e,style:As(n),isProcessed:!0};return r.style===n||e&&e.forEach(s=>{typeof s.style!="function"&&(s.style=As(s.style))}),r}const ZO=qh();function Vm(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}function lo(t,e){return e&&t&&typeof t=="object"&&t.styles&&!t.styles.startsWith("@layer")&&(t.styles=`@layer ${e}{${String(t.styles)}}`),t}function JO(t){return t?(e,n)=>n[t]:null}function eM(t,e,n){t.theme=nM(t.theme)?n:t.theme[e]||t.theme}function Dd(t,e,n){const r=typeof e=="function"?e(t):e;if(Array.isArray(r))return r.flatMap(s=>Dd(t,s,n));if(Array.isArray(r?.variants)){let s;if(r.isProcessed)s=n?lo(r.style,n):r.style;else{const{variants:a,...c}=r;s=n?lo(As(c),n):c}return hA(t,r.variants,[s],n)}return r?.isProcessed?n?lo(As(r.style),n):r.style:n?lo(As(r),n):r}function hA(t,e,n=[],r=void 0){let s;e:for(let a=0;a<e.length;a+=1){const c=e[a];if(typeof c.props=="function"){if(s??={...t,...t.ownerState,ownerState:t.ownerState},!c.props(s))continue}else for(const f in c.props)if(t[f]!==c.props[f]&&t.ownerState?.[f]!==c.props[f])continue e;typeof c.style=="function"?(s??={...t,...t.ownerState,ownerState:t.ownerState},n.push(r?lo(As(c.style(s)),r):c.style(s))):n.push(r?lo(As(c.style),r):c.style)}return n}function pA(t={}){const{themeId:e,defaultTheme:n=ZO,rootShouldForwardProp:r=Vm,slotShouldForwardProp:s=Vm}=t;function a(f){eM(f,e,n)}return(f,d={})=>{K4(f,I=>I.filter($=>$!==Va));const{name:p,slot:g,skipVariantsResolver:y,skipSx:b,overridesResolver:w=JO(iM(g)),...v}=d,S=p&&p.startsWith("Mui")||g?"components":"custom",E=y!==void 0?y:g&&g!=="Root"&&g!=="root"||!1,C=b||!1;let k=Vm;g==="Root"||g==="root"?k=r:g?k=s:rM(f)&&(k=void 0);const A=V4(f,{shouldForwardProp:k,label:tM(),...v}),T=I=>{if(I.__emotion_real===I)return I;if(typeof I=="function")return function(j){return Dd(j,I,j.theme.modularCssLayers?S:void 0)};if(ai(I)){const $=dA(I);return function(P){return $.variants?Dd(P,$,P.theme.modularCssLayers?S:void 0):P.theme.modularCssLayers?lo($.style,S):$.style}}return I},R=(...I)=>{const $=[],j=I.map(T),P=[];if($.push(a),p&&w&&P.push(function(B){const N=B.theme.components?.[p]?.styleOverrides;if(!N)return null;const M={};for(const q in N)M[q]=Dd(B,N[q],B.theme.modularCssLayers?"theme":void 0);return w(B,M)}),p&&!E&&P.push(function(B){const N=B.theme?.components?.[p]?.variants;return N?hA(B,N,[],B.theme.modularCssLayers?"theme":void 0):null}),C||P.push(Va),Array.isArray(j[0])){const _=j.shift(),B=new Array($.length).fill(""),L=new Array(P.length).fill("");let N;N=[...B,..._,...L],N.raw=[...B,..._.raw,...L],$.unshift(N)}const G=[...$,...j,...P],W=A(...G);return f.muiName&&(W.muiName=f.muiName),W};return A.withConfig&&(R.withConfig=A.withConfig),R}}function tM(t,e){return void 0}function nM(t){for(const e in t)return!1;return!0}function rM(t){return typeof t=="string"&&t.charCodeAt(0)>96}function iM(t){return t&&t.charAt(0).toLowerCase()+t.slice(1)}const sM=pA();function Wc(t,e,n=!1){const r={...e};for(const s in t)if(Object.prototype.hasOwnProperty.call(t,s)){const a=s;if(a==="components"||a==="slots")r[a]={...t[a],...r[a]};else if(a==="componentsProps"||a==="slotProps"){const c=t[a],f=e[a];if(!f)r[a]=c||{};else if(!c)r[a]=f;else{r[a]={...f};for(const d in c)if(Object.prototype.hasOwnProperty.call(c,d)){const p=d;r[a][p]=Wc(c[p],f[p],n)}}}else a==="className"&&n&&e.className?r.className=_e(t?.className,e?.className):a==="style"&&n&&e.style?r.style={...t?.style,...e?.style}:r[a]===void 0&&(r[a]=t[a])}return r}function oM(t){const{theme:e,name:n,props:r}=t;return!e||!e.components||!e.components[n]||!e.components[n].defaultProps?r:Wc(e.components[n].defaultProps,r)}function aM({props:t,name:e,defaultTheme:n,themeId:r}){let s=y0(n);return r&&(s=s[r]||s),oM({theme:s,name:e,props:t})}const Ms=typeof window<"u"?U.useLayoutEffect:U.useEffect;function lM(t,e=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(t,n))}function b0(t,e=0,n=1){return lM(t,e,n)}function cM(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,s)=>s<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function Ds(t){if(t.type)return t;if(t.charAt(0)==="#")return Ds(cM(t));const e=t.indexOf("("),n=t.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(n))throw new Error(Vi(9,t));let r=t.substring(e+1,t.length-1),s;if(n==="color"){if(r=r.split(" "),s=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(s))throw new Error(Vi(10,s))}else r=r.split(",");return r=r.map(a=>parseFloat(a)),{type:n,values:r,colorSpace:s}}const uM=t=>{const e=Ds(t);return e.values.slice(0,3).map((n,r)=>e.type.includes("hsl")&&r!==0?`${n}%`:n).join(" ")},Oc=(t,e)=>{try{return uM(t)}catch{return t}};function Hh(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.includes("rgb")?r=r.map((s,a)=>a<3?parseInt(s,10):s):e.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.includes("color")?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function gA(t){t=Ds(t);const{values:e}=t,n=e[0],r=e[1]/100,s=e[2]/100,a=r*Math.min(s,1-s),c=(p,g=(p+n/30)%12)=>s-a*Math.max(Math.min(g-3,9-g,1),-1);let f="rgb";const d=[Math.round(c(0)*255),Math.round(c(8)*255),Math.round(c(4)*255)];return t.type==="hsla"&&(f+="a",d.push(e[3])),Hh({type:f,values:d})}function rb(t){t=Ds(t);let e=t.type==="hsl"||t.type==="hsla"?Ds(gA(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function fM(t,e){const n=rb(t),r=rb(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function Hd(t,e){return t=Ds(t),e=b0(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,Hh(t)}function eo(t,e,n){try{return Hd(t,e)}catch{return t}}function jh(t,e){if(t=Ds(t),e=b0(e),t.type.includes("hsl"))t.values[2]*=1-e;else if(t.type.includes("rgb")||t.type.includes("color"))for(let n=0;n<3;n+=1)t.values[n]*=1-e;return Hh(t)}function ot(t,e,n){try{return jh(t,e)}catch{return t}}function Vh(t,e){if(t=Ds(t),e=b0(e),t.type.includes("hsl"))t.values[2]+=(100-t.values[2])*e;else if(t.type.includes("rgb"))for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.includes("color"))for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return Hh(t)}function at(t,e,n){try{return Vh(t,e)}catch{return t}}function dM(t,e=.15){return rb(t)>.5?jh(t,e):Vh(t,e)}function Qf(t,e,n){try{return dM(t,e)}catch{return t}}const hM=U.createContext(),v0=()=>U.useContext(hM)??!1,pM=U.createContext(void 0);function gM(t){const{theme:e,name:n,props:r}=t;if(!e||!e.components||!e.components[n])return r;const s=e.components[n];return s.defaultProps?Wc(s.defaultProps,r,e.components.mergeClassNameAndStyle):!s.styleOverrides&&!s.variants?Wc(s,r,e.components.mergeClassNameAndStyle):r}function mM({props:t,name:e}){const n=U.useContext(pM);return gM({props:t,name:e,theme:{components:n}})}let qE=0;function yM(t){const[e,n]=U.useState(t),r=t||e;return U.useEffect(()=>{e==null&&(qE+=1,n(`mui-${qE}`))},[e]),r}const bM={...Zy},HE=bM.useId;function w0(t){if(HE!==void 0){const e=HE();return t??e}return yM(t)}const jE={theme:void 0};function vM(t){let e,n;return function(s){let a=e;return(a===void 0||s.theme!==n)&&(jE.theme=s.theme,a=dA(t(jE)),e=a,n=s.theme),a}}function wM(t=""){function e(...r){if(!r.length)return"";const s=r[0];return typeof s=="string"&&!s.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${t?`${t}-`:""}${s}${e(...r.slice(1))})`:`, ${s}`}return(r,...s)=>`var(--${t?`${t}-`:""}${r}${e(...s)})`}const VE=(t,e,n,r=[])=>{let s=t;e.forEach((a,c)=>{c===e.length-1?Array.isArray(s)?s[Number(a)]=n:s&&typeof s=="object"&&(s[a]=n):s&&typeof s=="object"&&(s[a]||(s[a]=r.includes(a)?[]:{}),s=s[a])})},SM=(t,e,n)=>{function r(s,a=[],c=[]){Object.entries(s).forEach(([f,d])=>{(!n||n&&!n([...a,f]))&&d!=null&&(typeof d=="object"&&Object.keys(d).length>0?r(d,[...a,f],Array.isArray(d)?[...c,f]:c):e([...a,f],d,c))})}r(t)},EM=(t,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(r=>t.includes(r))||t[t.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function Km(t,e){const{prefix:n,shouldSkipGeneratingVar:r}=e||{},s={},a={},c={};return SM(t,(f,d,p)=>{if((typeof d=="string"||typeof d=="number")&&(!r||!r(f,d))){const g=`--${n?`${n}-`:""}${f.join("-")}`,y=EM(f,d);Object.assign(s,{[g]:y}),VE(a,f,`var(${g})`,p),VE(c,f,`var(${g}, ${y})`,p)}},f=>f[0]==="vars"),{css:s,vars:a,varsWithDefaults:c}}function xM(t,e={}){const{getSelector:n=C,disableCssColorScheme:r,colorSchemeSelector:s,enableContrastVars:a}=e,{colorSchemes:c={},components:f,defaultColorScheme:d="light",...p}=t,{vars:g,css:y,varsWithDefaults:b}=Km(p,e);let w=b;const v={},{[d]:S,...E}=c;if(Object.entries(E||{}).forEach(([T,R])=>{const{vars:I,css:$,varsWithDefaults:j}=Km(R,e);w=Nn(w,j),v[T]={css:$,vars:I}}),S){const{css:T,vars:R,varsWithDefaults:I}=Km(S,e);w=Nn(w,I),v[d]={css:T,vars:R}}function C(T,R){let I=s;if(s==="class"&&(I=".%s"),s==="data"&&(I="[data-%s]"),s?.startsWith("data-")&&!s.includes("%s")&&(I=`[${s}="%s"]`),T){if(I==="media")return t.defaultColorScheme===T?":root":{[`@media (prefers-color-scheme: ${c[T]?.palette?.mode||T})`]:{":root":R}};if(I)return t.defaultColorScheme===T?`:root, ${I.replace("%s",String(T))}`:I.replace("%s",String(T))}return":root"}return{vars:w,generateThemeVars:()=>{let T={...g};return Object.entries(v).forEach(([,{vars:R}])=>{T=Nn(T,R)}),T},generateStyleSheets:()=>{const T=[],R=t.defaultColorScheme||"light";function I(P,G){Object.keys(G).length&&T.push(typeof P=="string"?{[P]:{...G}}:P)}I(n(void 0,{...y}),y);const{[R]:$,...j}=v;if($){const{css:P}=$,G=c[R]?.palette?.mode,W=!r&&G?{colorScheme:G,...P}:{...P};I(n(R,{...W}),W)}return Object.entries(j).forEach(([P,{css:G}])=>{const W=c[P]?.palette?.mode,_=!r&&W?{colorScheme:W,...G}:{...G};I(n(P,{..._}),_)}),a&&T.push({":root":{"--__l-threshold":"0.7","--__l":"clamp(0, (l / var(--__l-threshold) - 1) * -infinity, 1)","--__a":"clamp(0.87, (l / var(--__l-threshold) - 1) * -infinity, 1)"}}),T}}}function CM(t){return function(n){return t==="media"?`@media (prefers-color-scheme: ${n})`:t?t.startsWith("data-")&&!t.includes("%s")?`[${t}="${n}"] &`:t==="class"?`.${n} &`:t==="data"?`[data-${n}] &`:`${t.replace("%s",n)} &`:"&"}}function nt(t,e,n=void 0){const r={};for(const s in t){const a=t[s];let c="",f=!0;for(let d=0;d<a.length;d+=1){const p=a[d];p&&(c+=(f===!0?"":" ")+e(p),f=!1,n&&n[p]&&(c+=" "+n[p]))}r[s]=c}return r}const AM=qh(),_M=sM("div",{name:"MuiContainer",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`maxWidth${Ee(String(n.maxWidth))}`],n.fixed&&e.fixed,n.disableGutters&&e.disableGutters]}}),TM=t=>aM({props:t,name:"MuiContainer",defaultTheme:AM}),RM=(t,e)=>{const n=d=>tt(e,d),{classes:r,fixed:s,disableGutters:a,maxWidth:c}=t,f={root:["root",c&&`maxWidth${Ee(String(c))}`,s&&"fixed",a&&"disableGutters"]};return nt(f,n,r)};function OM(t={}){const{createStyledComponent:e=_M,useThemeProps:n=TM,componentName:r="MuiContainer"}=t,s=e(({theme:c,ownerState:f})=>({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",...!f.disableGutters&&{paddingLeft:c.spacing(2),paddingRight:c.spacing(2),[c.breakpoints.up("sm")]:{paddingLeft:c.spacing(3),paddingRight:c.spacing(3)}}}),({theme:c,ownerState:f})=>f.fixed&&Object.keys(c.breakpoints.values).reduce((d,p)=>{const g=p,y=c.breakpoints.values[g];return y!==0&&(d[c.breakpoints.up(g)]={maxWidth:`${y}${c.breakpoints.unit}`}),d},{}),({theme:c,ownerState:f})=>({...f.maxWidth==="xs"&&{[c.breakpoints.up("xs")]:{maxWidth:Math.max(c.breakpoints.values.xs,444)}},...f.maxWidth&&f.maxWidth!=="xs"&&{[c.breakpoints.up(f.maxWidth)]:{maxWidth:`${c.breakpoints.values[f.maxWidth]}${c.breakpoints.unit}`}}}));return U.forwardRef(function(f,d){const p=n(f),{className:g,component:y="div",disableGutters:b=!1,fixed:w=!1,maxWidth:v="lg",classes:S,...E}=p,C={...p,component:y,disableGutters:b,fixed:w,maxWidth:v},k=RM(C,r);return ne.jsx(s,{as:y,ownerState:C,className:_e(k.root,g),ref:d,...E})})}function Gm(t,e){return U.isValidElement(t)&&e.indexOf(t.type.muiName??t.type?._payload?.value?.muiName)!==-1}function mA(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Kc.white,default:Kc.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const yA=mA();function bA(){return{text:{primary:Kc.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Kc.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const ib=bA();function KE(t,e,n,r){const s=r.light||r,a=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=Vh(t.main,s):e==="dark"&&(t.dark=jh(t.main,a)))}function GE(t,e,n,r,s){const a=s.light||s,c=s.dark||s*1.5;e[n]||(e.hasOwnProperty(r)?e[n]=e[r]:n==="light"?e.light=`color-mix(in ${t}, ${e.main}, #fff ${(a*100).toFixed(0)}%)`:n==="dark"&&(e.dark=`color-mix(in ${t}, ${e.main}, #000 ${(c*100).toFixed(0)}%)`))}function MM(t="light"){return t==="dark"?{main:ba[200],light:ba[50],dark:ba[400]}:{main:ba[700],light:ba[400],dark:ba[800]}}function DM(t="light"){return t==="dark"?{main:ya[200],light:ya[50],dark:ya[400]}:{main:ya[500],light:ya[300],dark:ya[700]}}function kM(t="light"){return t==="dark"?{main:ma[500],light:ma[300],dark:ma[700]}:{main:ma[700],light:ma[400],dark:ma[800]}}function LM(t="light"){return t==="dark"?{main:va[400],light:va[300],dark:va[700]}:{main:va[700],light:va[500],dark:va[900]}}function NM(t="light"){return t==="dark"?{main:wa[400],light:wa[300],dark:wa[700]}:{main:wa[800],light:wa[500],dark:wa[900]}}function BM(t="light"){return t==="dark"?{main:gc[400],light:gc[300],dark:gc[700]}:{main:"#ed6c02",light:gc[500],dark:gc[900]}}function IM(t){return`oklch(from ${t} var(--__l) 0 h / var(--__a))`}function S0(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2,colorSpace:s,...a}=t,c=t.primary||MM(e),f=t.secondary||DM(e),d=t.error||kM(e),p=t.info||LM(e),g=t.success||NM(e),y=t.warning||BM(e);function b(E){return s?IM(E):fM(E,ib.text.primary)>=n?ib.text.primary:yA.text.primary}const w=({color:E,name:C,mainShade:k=500,lightShade:A=300,darkShade:T=700})=>{if(E={...E},!E.main&&E[k]&&(E.main=E[k]),!E.hasOwnProperty("main"))throw new Error(Vi(11,C?` (${C})`:"",k));if(typeof E.main!="string")throw new Error(Vi(12,C?` (${C})`:"",JSON.stringify(E.main)));return s?(GE(s,E,"light",A,r),GE(s,E,"dark",T,r)):(KE(E,"light",A,r),KE(E,"dark",T,r)),E.contrastText||(E.contrastText=b(E.main)),E};let v;return e==="light"?v=mA():e==="dark"&&(v=bA()),Nn({common:{...Kc},mode:e,primary:w({color:c,name:"primary"}),secondary:w({color:f,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:w({color:d,name:"error"}),warning:w({color:y,name:"warning"}),info:w({color:p,name:"info"}),success:w({color:g,name:"success"}),grey:VR,contrastThreshold:n,getContrastText:b,augmentColor:w,tonalOffset:r,...v},a)}function PM(t){const e={};return Object.entries(t).forEach(r=>{const[s,a]=r;typeof a=="object"&&(e[s]=`${a.fontStyle?`${a.fontStyle} `:""}${a.fontVariant?`${a.fontVariant} `:""}${a.fontWeight?`${a.fontWeight} `:""}${a.fontStretch?`${a.fontStretch} `:""}${a.fontSize||""}${a.lineHeight?`/${a.lineHeight} `:""}${a.fontFamily||""}`)}),e}function $M(t,e){return{toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}},...e}}function UM(t){return Math.round(t*1e5)/1e5}const YE={textTransform:"uppercase"},XE='"Roboto", "Helvetica", "Arial", sans-serif';function zM(t,e){const{fontFamily:n=XE,fontSize:r=14,fontWeightLight:s=300,fontWeightRegular:a=400,fontWeightMedium:c=500,fontWeightBold:f=700,htmlFontSize:d=16,allVariants:p,pxToRem:g,...y}=typeof e=="function"?e(t):e,b=r/14,w=g||(E=>`${E/d*b}rem`),v=(E,C,k,A,T)=>({fontFamily:n,fontWeight:E,fontSize:w(C),lineHeight:k,...n===XE?{letterSpacing:`${UM(A/C)}em`}:{},...T,...p}),S={h1:v(s,96,1.167,-1.5),h2:v(s,60,1.2,-.5),h3:v(a,48,1.167,0),h4:v(a,34,1.235,.25),h5:v(a,24,1.334,0),h6:v(c,20,1.6,.15),subtitle1:v(a,16,1.75,.15),subtitle2:v(c,14,1.57,.1),body1:v(a,16,1.5,.15),body2:v(a,14,1.43,.15),button:v(c,14,1.75,.4,YE),caption:v(a,12,1.66,.4),overline:v(a,12,2.66,1,YE),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Nn({htmlFontSize:d,pxToRem:w,fontFamily:n,fontSize:r,fontWeightLight:s,fontWeightRegular:a,fontWeightMedium:c,fontWeightBold:f,...S},y,{clone:!1})}const FM=.2,qM=.14,HM=.12;function Rt(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${FM})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${qM})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${HM})`].join(",")}const jM=["none",Rt(0,2,1,-1,0,1,1,0,0,1,3,0),Rt(0,3,1,-2,0,2,2,0,0,1,5,0),Rt(0,3,3,-2,0,3,4,0,0,1,8,0),Rt(0,2,4,-1,0,4,5,0,0,1,10,0),Rt(0,3,5,-1,0,5,8,0,0,1,14,0),Rt(0,3,5,-1,0,6,10,0,0,1,18,0),Rt(0,4,5,-2,0,7,10,1,0,2,16,1),Rt(0,5,5,-3,0,8,10,1,0,3,14,2),Rt(0,5,6,-3,0,9,12,1,0,3,16,2),Rt(0,6,6,-3,0,10,14,1,0,4,18,3),Rt(0,6,7,-4,0,11,15,1,0,4,20,3),Rt(0,7,8,-4,0,12,17,2,0,5,22,4),Rt(0,7,8,-4,0,13,19,2,0,5,24,4),Rt(0,7,9,-4,0,14,21,2,0,5,26,4),Rt(0,8,9,-5,0,15,22,2,0,6,28,5),Rt(0,8,10,-5,0,16,24,2,0,6,30,5),Rt(0,8,11,-5,0,17,26,2,0,6,32,5),Rt(0,9,11,-5,0,18,28,2,0,7,34,6),Rt(0,9,12,-6,0,19,29,2,0,7,36,6),Rt(0,10,13,-6,0,20,31,3,0,8,38,7),Rt(0,10,13,-6,0,21,33,3,0,8,40,7),Rt(0,10,14,-6,0,22,35,3,0,8,42,7),Rt(0,11,14,-7,0,23,36,3,0,9,44,8),Rt(0,11,15,-7,0,24,38,3,0,9,46,8)],VM={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},KM={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function WE(t){return`${Math.round(t)}ms`}function GM(t){if(!t)return 0;const e=t/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function YM(t){const e={...VM,...t.easing},n={...KM,...t.duration};return{getAutoHeightDuration:GM,create:(s=["all"],a={})=>{const{duration:c=n.standard,easing:f=e.easeInOut,delay:d=0,...p}=a;return(Array.isArray(s)?s:[s]).map(g=>`${g} ${typeof c=="string"?c:WE(c)} ${f} ${typeof d=="string"?d:WE(d)}`).join(",")},...t,easing:e,duration:n}}const XM={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function WM(t){return ai(t)||typeof t>"u"||typeof t=="string"||typeof t=="boolean"||typeof t=="number"||Array.isArray(t)}function vA(t={}){const e={...t};function n(r){const s=Object.entries(r);for(let a=0;a<s.length;a++){const[c,f]=s[a];!WM(f)||c.startsWith("unstable_")?delete r[c]:ai(f)&&(r[c]={...f},n(r[c]))}}return n(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function QE(t){return typeof t=="number"?`${(t*100).toFixed(0)}%`:`calc((${t}) * 100%)`}const QM=t=>{if(!Number.isNaN(+t))return+t;const e=t.match(/\d*\.?\d+/g);if(!e)return 0;let n=0;for(let r=0;r<e.length;r+=1)n+=+e[r];return n};function ZM(t){Object.assign(t,{alpha(e,n){const r=this||t;return r.colorSpace?`oklch(from ${e} l c h / ${typeof n=="string"?`calc(${n})`:n})`:r.vars?`rgba(${e.replace(/var\(--([^,\s)]+)(?:,[^)]+)?\)+/g,"var(--$1Channel)")} / ${typeof n=="string"?`calc(${n})`:n})`:Hd(e,QM(n))},lighten(e,n){const r=this||t;return r.colorSpace?`color-mix(in ${r.colorSpace}, ${e}, #fff ${QE(n)})`:Vh(e,n)},darken(e,n){const r=this||t;return r.colorSpace?`color-mix(in ${r.colorSpace}, ${e}, #000 ${QE(n)})`:jh(e,n)}})}function sb(t={},...e){const{breakpoints:n,mixins:r={},spacing:s,palette:a={},transitions:c={},typography:f={},shape:d,colorSpace:p,...g}=t;if(t.vars&&t.generateThemeVars===void 0)throw new Error(Vi(20));const y=S0({...a,colorSpace:p}),b=qh(t);let w=Nn(b,{mixins:$M(b.breakpoints,r),palette:y,shadows:jM.slice(),typography:zM(y,f),transitions:YM(c),zIndex:{...XM}});return w=Nn(w,g),w=e.reduce((v,S)=>Nn(v,S),w),w.unstable_sxConfig={...mu,...g?.unstable_sxConfig},w.unstable_sx=function(S){return Va({sx:S,theme:this})},w.toRuntimeSource=vA,ZM(w),w}function ob(t){let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,Math.round(e*10)/1e3}const JM=[...Array(25)].map((t,e)=>{if(e===0)return"none";const n=ob(e);return`linear-gradient(rgba(255 255 255 / ${n}), rgba(255 255 255 / ${n}))`});function wA(t){return{inputPlaceholder:t==="dark"?.5:.42,inputUnderline:t==="dark"?.7:.42,switchTrackDisabled:t==="dark"?.2:.12,switchTrack:t==="dark"?.3:.38}}function SA(t){return t==="dark"?JM:[]}function e8(t){const{palette:e={mode:"light"},opacity:n,overlays:r,colorSpace:s,...a}=t,c=S0({...e,colorSpace:s});return{palette:c,opacity:{...wA(c.mode),...n},overlays:r||SA(c.mode),...a}}function t8(t){return!!t[0].match(/(cssVarPrefix|colorSchemeSelector|modularCssLayers|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!t[0].match(/sxConfig$/)||t[0]==="palette"&&!!t[1]?.match(/(mode|contrastThreshold|tonalOffset)/)}const n8=t=>[...[...Array(25)].map((e,n)=>`--${t?`${t}-`:""}overlays-${n}`),`--${t?`${t}-`:""}palette-AppBar-darkBg`,`--${t?`${t}-`:""}palette-AppBar-darkColor`],r8=t=>(e,n)=>{const r=t.rootSelector||":root",s=t.colorSchemeSelector;let a=s;if(s==="class"&&(a=".%s"),s==="data"&&(a="[data-%s]"),s?.startsWith("data-")&&!s.includes("%s")&&(a=`[${s}="%s"]`),t.defaultColorScheme===e){if(e==="dark"){const c={};return n8(t.cssVarPrefix).forEach(f=>{c[f]=n[f],delete n[f]}),a==="media"?{[r]:n,"@media (prefers-color-scheme: dark)":{[r]:c}}:a?{[a.replace("%s",e)]:c,[`${r}, ${a.replace("%s",e)}`]:n}:{[r]:{...n,...c}}}if(a&&a!=="media")return`${r}, ${a.replace("%s",String(e))}`}else if(e){if(a==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[r]:n}};if(a)return a.replace("%s",String(e))}return r};function i8(t,e){e.forEach(n=>{t[n]||(t[n]={})})}function re(t,e,n){!t[e]&&n&&(t[e]=n)}function Mc(t){return typeof t!="string"||!t.startsWith("hsl")?t:gA(t)}function Ii(t,e){`${e}Channel`in t||(t[`${e}Channel`]=Oc(Mc(t[e])))}function s8(t){return typeof t=="number"?`${t}px`:typeof t=="string"||typeof t=="function"||Array.isArray(t)?t:"8px"}const ni=t=>{try{return t()}catch{}},o8=(t="mui")=>wM(t);function Ym(t,e,n,r,s){if(!n)return;n=n===!0?{}:n;const a=s==="dark"?"dark":"light";if(!r){e[s]=e8({...n,palette:{mode:a,...n?.palette},colorSpace:t});return}const{palette:c,...f}=sb({...r,palette:{mode:a,...n?.palette},colorSpace:t});return e[s]={...n,palette:c,opacity:{...wA(a),...n?.opacity},overlays:n?.overlays||SA(a)},f}function a8(t={},...e){const{colorSchemes:n={light:!0},defaultColorScheme:r,disableCssColorScheme:s=!1,cssVarPrefix:a="mui",nativeColor:c=!1,shouldSkipGeneratingVar:f=t8,colorSchemeSelector:d=n.light&&n.dark?"media":void 0,rootSelector:p=":root",...g}=t,y=Object.keys(n)[0],b=r||(n.light&&y!=="light"?"light":y),w=o8(a),{[b]:v,light:S,dark:E,...C}=n,k={...C};let A=v;if((b==="dark"&&!("dark"in n)||b==="light"&&!("light"in n))&&(A=!0),!A)throw new Error(Vi(21,b));let T;c&&(T="oklch");const R=Ym(T,k,A,g,b);S&&!k.light&&Ym(T,k,S,void 0,"light"),E&&!k.dark&&Ym(T,k,E,void 0,"dark");let I={defaultColorScheme:b,...R,cssVarPrefix:a,colorSchemeSelector:d,rootSelector:p,getCssVar:w,colorSchemes:k,font:{...PM(R.typography),...R.font},spacing:s8(g.spacing)};Object.keys(I.colorSchemes).forEach(W=>{const _=I.colorSchemes[W].palette,B=N=>{const M=N.split("-"),q=M[1],K=M[2];return w(N,_[q][K])};_.mode==="light"&&(re(_.common,"background","#fff"),re(_.common,"onBackground","#000")),_.mode==="dark"&&(re(_.common,"background","#000"),re(_.common,"onBackground","#fff"));function L(N,M,q){if(T){let K;return N===eo&&(K=`transparent ${((1-q)*100).toFixed(0)}%`),N===ot&&(K=`#000 ${(q*100).toFixed(0)}%`),N===at&&(K=`#fff ${(q*100).toFixed(0)}%`),`color-mix(in ${T}, ${M}, ${K})`}return N(M,q)}if(i8(_,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),_.mode==="light"){re(_.Alert,"errorColor",L(ot,_.error.light,.6)),re(_.Alert,"infoColor",L(ot,_.info.light,.6)),re(_.Alert,"successColor",L(ot,_.success.light,.6)),re(_.Alert,"warningColor",L(ot,_.warning.light,.6)),re(_.Alert,"errorFilledBg",B("palette-error-main")),re(_.Alert,"infoFilledBg",B("palette-info-main")),re(_.Alert,"successFilledBg",B("palette-success-main")),re(_.Alert,"warningFilledBg",B("palette-warning-main")),re(_.Alert,"errorFilledColor",ni(()=>_.getContrastText(_.error.main))),re(_.Alert,"infoFilledColor",ni(()=>_.getContrastText(_.info.main))),re(_.Alert,"successFilledColor",ni(()=>_.getContrastText(_.success.main))),re(_.Alert,"warningFilledColor",ni(()=>_.getContrastText(_.warning.main))),re(_.Alert,"errorStandardBg",L(at,_.error.light,.9)),re(_.Alert,"infoStandardBg",L(at,_.info.light,.9)),re(_.Alert,"successStandardBg",L(at,_.success.light,.9)),re(_.Alert,"warningStandardBg",L(at,_.warning.light,.9)),re(_.Alert,"errorIconColor",B("palette-error-main")),re(_.Alert,"infoIconColor",B("palette-info-main")),re(_.Alert,"successIconColor",B("palette-success-main")),re(_.Alert,"warningIconColor",B("palette-warning-main")),re(_.AppBar,"defaultBg",B("palette-grey-100")),re(_.Avatar,"defaultBg",B("palette-grey-400")),re(_.Button,"inheritContainedBg",B("palette-grey-300")),re(_.Button,"inheritContainedHoverBg",B("palette-grey-A100")),re(_.Chip,"defaultBorder",B("palette-grey-400")),re(_.Chip,"defaultAvatarColor",B("palette-grey-700")),re(_.Chip,"defaultIconColor",B("palette-grey-700")),re(_.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),re(_.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),re(_.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),re(_.LinearProgress,"primaryBg",L(at,_.primary.main,.62)),re(_.LinearProgress,"secondaryBg",L(at,_.secondary.main,.62)),re(_.LinearProgress,"errorBg",L(at,_.error.main,.62)),re(_.LinearProgress,"infoBg",L(at,_.info.main,.62)),re(_.LinearProgress,"successBg",L(at,_.success.main,.62)),re(_.LinearProgress,"warningBg",L(at,_.warning.main,.62)),re(_.Skeleton,"bg",T?L(eo,_.text.primary,.11):`rgba(${B("palette-text-primaryChannel")} / 0.11)`),re(_.Slider,"primaryTrack",L(at,_.primary.main,.62)),re(_.Slider,"secondaryTrack",L(at,_.secondary.main,.62)),re(_.Slider,"errorTrack",L(at,_.error.main,.62)),re(_.Slider,"infoTrack",L(at,_.info.main,.62)),re(_.Slider,"successTrack",L(at,_.success.main,.62)),re(_.Slider,"warningTrack",L(at,_.warning.main,.62));const N=T?L(ot,_.background.default,.6825):Qf(_.background.default,.8);re(_.SnackbarContent,"bg",N),re(_.SnackbarContent,"color",ni(()=>T?ib.text.primary:_.getContrastText(N))),re(_.SpeedDialAction,"fabHoverBg",Qf(_.background.paper,.15)),re(_.StepConnector,"border",B("palette-grey-400")),re(_.StepContent,"border",B("palette-grey-400")),re(_.Switch,"defaultColor",B("palette-common-white")),re(_.Switch,"defaultDisabledColor",B("palette-grey-100")),re(_.Switch,"primaryDisabledColor",L(at,_.primary.main,.62)),re(_.Switch,"secondaryDisabledColor",L(at,_.secondary.main,.62)),re(_.Switch,"errorDisabledColor",L(at,_.error.main,.62)),re(_.Switch,"infoDisabledColor",L(at,_.info.main,.62)),re(_.Switch,"successDisabledColor",L(at,_.success.main,.62)),re(_.Switch,"warningDisabledColor",L(at,_.warning.main,.62)),re(_.TableCell,"border",L(at,L(eo,_.divider,1),.88)),re(_.Tooltip,"bg",L(eo,_.grey[700],.92))}if(_.mode==="dark"){re(_.Alert,"errorColor",L(at,_.error.light,.6)),re(_.Alert,"infoColor",L(at,_.info.light,.6)),re(_.Alert,"successColor",L(at,_.success.light,.6)),re(_.Alert,"warningColor",L(at,_.warning.light,.6)),re(_.Alert,"errorFilledBg",B("palette-error-dark")),re(_.Alert,"infoFilledBg",B("palette-info-dark")),re(_.Alert,"successFilledBg",B("palette-success-dark")),re(_.Alert,"warningFilledBg",B("palette-warning-dark")),re(_.Alert,"errorFilledColor",ni(()=>_.getContrastText(_.error.dark))),re(_.Alert,"infoFilledColor",ni(()=>_.getContrastText(_.info.dark))),re(_.Alert,"successFilledColor",ni(()=>_.getContrastText(_.success.dark))),re(_.Alert,"warningFilledColor",ni(()=>_.getContrastText(_.warning.dark))),re(_.Alert,"errorStandardBg",L(ot,_.error.light,.9)),re(_.Alert,"infoStandardBg",L(ot,_.info.light,.9)),re(_.Alert,"successStandardBg",L(ot,_.success.light,.9)),re(_.Alert,"warningStandardBg",L(ot,_.warning.light,.9)),re(_.Alert,"errorIconColor",B("palette-error-main")),re(_.Alert,"infoIconColor",B("palette-info-main")),re(_.Alert,"successIconColor",B("palette-success-main")),re(_.Alert,"warningIconColor",B("palette-warning-main")),re(_.AppBar,"defaultBg",B("palette-grey-900")),re(_.AppBar,"darkBg",B("palette-background-paper")),re(_.AppBar,"darkColor",B("palette-text-primary")),re(_.Avatar,"defaultBg",B("palette-grey-600")),re(_.Button,"inheritContainedBg",B("palette-grey-800")),re(_.Button,"inheritContainedHoverBg",B("palette-grey-700")),re(_.Chip,"defaultBorder",B("palette-grey-700")),re(_.Chip,"defaultAvatarColor",B("palette-grey-300")),re(_.Chip,"defaultIconColor",B("palette-grey-300")),re(_.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),re(_.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),re(_.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),re(_.LinearProgress,"primaryBg",L(ot,_.primary.main,.5)),re(_.LinearProgress,"secondaryBg",L(ot,_.secondary.main,.5)),re(_.LinearProgress,"errorBg",L(ot,_.error.main,.5)),re(_.LinearProgress,"infoBg",L(ot,_.info.main,.5)),re(_.LinearProgress,"successBg",L(ot,_.success.main,.5)),re(_.LinearProgress,"warningBg",L(ot,_.warning.main,.5)),re(_.Skeleton,"bg",T?L(eo,_.text.primary,.13):`rgba(${B("palette-text-primaryChannel")} / 0.13)`),re(_.Slider,"primaryTrack",L(ot,_.primary.main,.5)),re(_.Slider,"secondaryTrack",L(ot,_.secondary.main,.5)),re(_.Slider,"errorTrack",L(ot,_.error.main,.5)),re(_.Slider,"infoTrack",L(ot,_.info.main,.5)),re(_.Slider,"successTrack",L(ot,_.success.main,.5)),re(_.Slider,"warningTrack",L(ot,_.warning.main,.5));const N=T?L(at,_.background.default,.985):Qf(_.background.default,.98);re(_.SnackbarContent,"bg",N),re(_.SnackbarContent,"color",ni(()=>T?yA.text.primary:_.getContrastText(N))),re(_.SpeedDialAction,"fabHoverBg",Qf(_.background.paper,.15)),re(_.StepConnector,"border",B("palette-grey-600")),re(_.StepContent,"border",B("palette-grey-600")),re(_.Switch,"defaultColor",B("palette-grey-300")),re(_.Switch,"defaultDisabledColor",B("palette-grey-600")),re(_.Switch,"primaryDisabledColor",L(ot,_.primary.main,.55)),re(_.Switch,"secondaryDisabledColor",L(ot,_.secondary.main,.55)),re(_.Switch,"errorDisabledColor",L(ot,_.error.main,.55)),re(_.Switch,"infoDisabledColor",L(ot,_.info.main,.55)),re(_.Switch,"successDisabledColor",L(ot,_.success.main,.55)),re(_.Switch,"warningDisabledColor",L(ot,_.warning.main,.55)),re(_.TableCell,"border",L(ot,L(eo,_.divider,1),.68)),re(_.Tooltip,"bg",L(eo,_.grey[700],.92))}Ii(_.background,"default"),Ii(_.background,"paper"),Ii(_.common,"background"),Ii(_.common,"onBackground"),Ii(_,"divider"),Object.keys(_).forEach(N=>{const M=_[N];N!=="tonalOffset"&&M&&typeof M=="object"&&(M.main&&re(_[N],"mainChannel",Oc(Mc(M.main))),M.light&&re(_[N],"lightChannel",Oc(Mc(M.light))),M.dark&&re(_[N],"darkChannel",Oc(Mc(M.dark))),M.contrastText&&re(_[N],"contrastTextChannel",Oc(Mc(M.contrastText))),N==="text"&&(Ii(_[N],"primary"),Ii(_[N],"secondary")),N==="action"&&(M.active&&Ii(_[N],"active"),M.selected&&Ii(_[N],"selected")))})}),I=e.reduce((W,_)=>Nn(W,_),I);const $={prefix:a,disableCssColorScheme:s,shouldSkipGeneratingVar:f,getSelector:r8(I),enableContrastVars:c},{vars:j,generateThemeVars:P,generateStyleSheets:G}=xM(I,$);return I.vars=j,Object.entries(I.colorSchemes[I.defaultColorScheme]).forEach(([W,_])=>{I[W]=_}),I.generateThemeVars=P,I.generateStyleSheets=G,I.generateSpacing=function(){return uA(g.spacing,g0(this))},I.getColorSchemeSelector=CM(d),I.spacing=I.generateSpacing(),I.shouldSkipGeneratingVar=f,I.unstable_sxConfig={...mu,...g?.unstable_sxConfig},I.unstable_sx=function(_){return Va({sx:_,theme:this})},I.toRuntimeSource=vA,I}function ZE(t,e,n){t.colorSchemes&&n&&(t.colorSchemes[e]={...n!==!0&&n,palette:S0({...n===!0?{}:n.palette,mode:e})})}function l8(t={},...e){const{palette:n,cssVariables:r=!1,colorSchemes:s=n?void 0:{light:!0},defaultColorScheme:a=n?.mode,...c}=t,f=a||"light",d=s?.[f],p={...s,...n?{[f]:{...typeof d!="boolean"&&d,palette:n}}:void 0};if(r===!1){if(!("colorSchemes"in t))return sb(t,...e);let g=n;"palette"in t||p[f]&&(p[f]!==!0?g=p[f].palette:f==="dark"&&(g={mode:"dark"}));const y=sb({...t,palette:g},...e);return y.defaultColorScheme=f,y.colorSchemes=p,y.palette.mode==="light"&&(y.colorSchemes.light={...p.light!==!0&&p.light,palette:y.palette},ZE(y,"dark",p.dark)),y.palette.mode==="dark"&&(y.colorSchemes.dark={...p.dark!==!0&&p.dark,palette:y.palette},ZE(y,"light",p.light)),y}return!n&&!("light"in p)&&f==="light"&&(p.light=!0),a8({...c,colorSchemes:p,defaultColorScheme:f,...typeof r!="boolean"&&r},...e)}const E0=l8();function Kh(){const t=y0(E0);return t[i0]||t}function EA(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const kr=t=>EA(t)&&t!=="classes",pe=pA({themeId:i0,defaultTheme:E0,rootShouldForwardProp:kr});function JE(...t){return t.reduce((e,n)=>n==null?e:function(...s){e.apply(this,s),n.apply(this,s)},()=>{})}function c8(t){return ne.jsx(KO,{...t,defaultTheme:E0,themeId:i0})}function u8(t){return function(n){return ne.jsx(c8,{styles:typeof t=="function"?r=>t({theme:r,...n}):t})}}function f8(){return YO}const ut=vM;function vt(t){return mM(t)}function d8(t){return tt("MuiSvgIcon",t)}ft("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const h8=t=>{const{color:e,fontSize:n,classes:r}=t,s={root:["root",e!=="inherit"&&`color${Ee(e)}`,`fontSize${Ee(n)}`]};return nt(s,d8,r)},p8=pe("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="inherit"&&e[`color${Ee(n.color)}`],e[`fontSize${Ee(n.fontSize)}`]]}})(ut(({theme:t})=>({userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:t.transitions?.create?.("fill",{duration:(t.vars??t).transitions?.duration?.shorter}),variants:[{props:e=>!e.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:t.typography?.pxToRem?.(20)||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:t.typography?.pxToRem?.(24)||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:t.typography?.pxToRem?.(35)||"2.1875rem"}},...Object.entries((t.vars??t).palette).filter(([,e])=>e&&e.main).map(([e])=>({props:{color:e},style:{color:(t.vars??t).palette?.[e]?.main}})),{props:{color:"action"},style:{color:(t.vars??t).palette?.action?.active}},{props:{color:"disabled"},style:{color:(t.vars??t).palette?.action?.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}))),ab=U.forwardRef(function(e,n){const r=vt({props:e,name:"MuiSvgIcon"}),{children:s,className:a,color:c="inherit",component:f="svg",fontSize:d="medium",htmlColor:p,inheritViewBox:g=!1,titleAccess:y,viewBox:b="0 0 24 24",...w}=r,v=U.isValidElement(s)&&s.type==="svg",S={...r,color:c,component:f,fontSize:d,instanceFontSize:e.fontSize,inheritViewBox:g,viewBox:b,hasSvgAsChild:v},E={};g||(E.viewBox=b);const C=h8(S);return ne.jsxs(p8,{as:f,className:_e(C.root,a),focusable:"false",color:p,"aria-hidden":y?void 0:!0,role:y?"img":void 0,ref:n,...E,...w,...v&&s.props,ownerState:S,children:[v?s.props.children:s,y?ne.jsx("title",{children:y}):null]})});ab.muiName="SvgIcon";function x0(t,e){function n(r,s){return ne.jsx(ab,{"data-testid":void 0,ref:s,...r,children:t})}return n.muiName=ab.muiName,U.memo(U.forwardRef(n))}function Gh(t,e=166){let n;function r(...s){const a=()=>{t.apply(this,s)};clearTimeout(n),n=setTimeout(a,e)}return r.clear=()=>{clearTimeout(n)},r}function Or(t){return t&&t.ownerDocument||document}function Gr(t){return Or(t).defaultView||window}function e2(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function lb(t){const{controlled:e,default:n,name:r,state:s="value"}=t,{current:a}=U.useRef(e!==void 0),[c,f]=U.useState(n),d=a?e:c,p=U.useCallback(g=>{a||f(g)},[]);return[d,p]}function ui(t){const e=U.useRef(t);return Ms(()=>{e.current=t}),U.useRef((...n)=>(0,e.current)(...n)).current}function Qn(...t){const e=U.useRef(void 0),n=U.useCallback(r=>{const s=t.map(a=>{if(a==null)return null;if(typeof a=="function"){const c=a,f=c(r);return typeof f=="function"?f:()=>{c(null)}}return a.current=r,()=>{a.current=null}});return()=>{s.forEach(a=>a?.())}},t);return U.useMemo(()=>t.every(r=>r==null)?null:r=>{e.current&&(e.current(),e.current=void 0),r!=null&&(e.current=n(r))},t)}function g8(t,e){const n=t.charCodeAt(2);return t[0]==="o"&&t[1]==="n"&&n>=65&&n<=90&&typeof e=="function"}function m8(t,e){if(!t)return e;function n(c,f){const d={};return Object.keys(f).forEach(p=>{g8(p,f[p])&&typeof c[p]=="function"&&(d[p]=(...g)=>{c[p](...g),f[p](...g)})}),d}if(typeof t=="function"||typeof e=="function")return c=>{const f=typeof e=="function"?e(c):e,d=typeof t=="function"?t({...c,...f}):t,p=_e(c?.className,f?.className,d?.className),g=n(d,f);return{...f,...d,...g,...!!p&&{className:p},...f?.style&&d?.style&&{style:{...f.style,...d.style}},...f?.sx&&d?.sx&&{sx:[...Array.isArray(f.sx)?f.sx:[f.sx],...Array.isArray(d.sx)?d.sx:[d.sx]]}}};const r=e,s=n(t,r),a=_e(r?.className,t?.className);return{...e,...t,...s,...!!a&&{className:a},...r?.style&&t?.style&&{style:{...r.style,...t.style}},...r?.sx&&t?.sx&&{sx:[...Array.isArray(r.sx)?r.sx:[r.sx],...Array.isArray(t.sx)?t.sx:[t.sx]]}}}function xA(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function cb(t,e){return cb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},cb(t,e)}function CA(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,cb(t,e)}var AA=GC();const Zf=gi(AA),t2={disabled:!1},jd=Hr.createContext(null);var y8=function(e){return e.scrollTop},Dc="unmounted",io="exited",so="entering",Oa="entered",ub="exiting",mi=function(t){CA(e,t);function e(r,s){var a;a=t.call(this,r,s)||this;var c=s,f=c&&!c.isMounting?r.enter:r.appear,d;return a.appearStatus=null,r.in?f?(d=io,a.appearStatus=so):d=Oa:r.unmountOnExit||r.mountOnEnter?d=Dc:d=io,a.state={status:d},a.nextCallback=null,a}e.getDerivedStateFromProps=function(s,a){var c=s.in;return c&&a.status===Dc?{status:io}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(s){var a=null;if(s!==this.props){var c=this.state.status;this.props.in?c!==so&&c!==Oa&&(a=so):(c===so||c===Oa)&&(a=ub)}this.updateStatus(!1,a)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var s=this.props.timeout,a,c,f;return a=c=f=s,s!=null&&typeof s!="number"&&(a=s.exit,c=s.enter,f=s.appear!==void 0?s.appear:c),{exit:a,enter:c,appear:f}},n.updateStatus=function(s,a){if(s===void 0&&(s=!1),a!==null)if(this.cancelNextCallback(),a===so){if(this.props.unmountOnExit||this.props.mountOnEnter){var c=this.props.nodeRef?this.props.nodeRef.current:Zf.findDOMNode(this);c&&y8(c)}this.performEnter(s)}else this.performExit();else this.props.unmountOnExit&&this.state.status===io&&this.setState({status:Dc})},n.performEnter=function(s){var a=this,c=this.props.enter,f=this.context?this.context.isMounting:s,d=this.props.nodeRef?[f]:[Zf.findDOMNode(this),f],p=d[0],g=d[1],y=this.getTimeouts(),b=f?y.appear:y.enter;if(!s&&!c||t2.disabled){this.safeSetState({status:Oa},function(){a.props.onEntered(p)});return}this.props.onEnter(p,g),this.safeSetState({status:so},function(){a.props.onEntering(p,g),a.onTransitionEnd(b,function(){a.safeSetState({status:Oa},function(){a.props.onEntered(p,g)})})})},n.performExit=function(){var s=this,a=this.props.exit,c=this.getTimeouts(),f=this.props.nodeRef?void 0:Zf.findDOMNode(this);if(!a||t2.disabled){this.safeSetState({status:io},function(){s.props.onExited(f)});return}this.props.onExit(f),this.safeSetState({status:ub},function(){s.props.onExiting(f),s.onTransitionEnd(c.exit,function(){s.safeSetState({status:io},function(){s.props.onExited(f)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(s,a){a=this.setNextCallback(a),this.setState(s,a)},n.setNextCallback=function(s){var a=this,c=!0;return this.nextCallback=function(f){c&&(c=!1,a.nextCallback=null,s(f))},this.nextCallback.cancel=function(){c=!1},this.nextCallback},n.onTransitionEnd=function(s,a){this.setNextCallback(a);var c=this.props.nodeRef?this.props.nodeRef.current:Zf.findDOMNode(this),f=s==null&&!this.props.addEndListener;if(!c||f){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var d=this.props.nodeRef?[this.nextCallback]:[c,this.nextCallback],p=d[0],g=d[1];this.props.addEndListener(p,g)}s!=null&&setTimeout(this.nextCallback,s)},n.render=function(){var s=this.state.status;if(s===Dc)return null;var a=this.props,c=a.children;a.in,a.mountOnEnter,a.unmountOnExit,a.appear,a.enter,a.exit,a.timeout,a.addEndListener,a.onEnter,a.onEntering,a.onEntered,a.onExit,a.onExiting,a.onExited,a.nodeRef;var f=xA(a,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Hr.createElement(jd.Provider,{value:null},typeof c=="function"?c(s,f):Hr.cloneElement(Hr.Children.only(c),f))},e}(Hr.Component);mi.contextType=jd;mi.propTypes={};function Sa(){}mi.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Sa,onEntering:Sa,onEntered:Sa,onExit:Sa,onExiting:Sa,onExited:Sa};mi.UNMOUNTED=Dc;mi.EXITED=io;mi.ENTERING=so;mi.ENTERED=Oa;mi.EXITING=ub;function b8(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function C0(t,e){var n=function(a){return e&&U.isValidElement(a)?e(a):a},r=Object.create(null);return t&&U.Children.map(t,function(s){return s}).forEach(function(s){r[s.key]=n(s)}),r}function v8(t,e){t=t||{},e=e||{};function n(g){return g in e?e[g]:t[g]}var r=Object.create(null),s=[];for(var a in t)a in e?s.length&&(r[a]=s,s=[]):s.push(a);var c,f={};for(var d in e){if(r[d])for(c=0;c<r[d].length;c++){var p=r[d][c];f[r[d][c]]=n(p)}f[d]=n(d)}for(c=0;c<s.length;c++)f[s[c]]=n(s[c]);return f}function co(t,e,n){return n[e]!=null?n[e]:t.props[e]}function w8(t,e){return C0(t.children,function(n){return U.cloneElement(n,{onExited:e.bind(null,n),in:!0,appear:co(n,"appear",t),enter:co(n,"enter",t),exit:co(n,"exit",t)})})}function S8(t,e,n){var r=C0(t.children),s=v8(e,r);return Object.keys(s).forEach(function(a){var c=s[a];if(U.isValidElement(c)){var f=a in e,d=a in r,p=e[a],g=U.isValidElement(p)&&!p.props.in;d&&(!f||g)?s[a]=U.cloneElement(c,{onExited:n.bind(null,c),in:!0,exit:co(c,"exit",t),enter:co(c,"enter",t)}):!d&&f&&!g?s[a]=U.cloneElement(c,{in:!1}):d&&f&&U.isValidElement(p)&&(s[a]=U.cloneElement(c,{onExited:n.bind(null,c),in:p.props.in,exit:co(c,"exit",t),enter:co(c,"enter",t)}))}}),s}var E8=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},x8={component:"div",childFactory:function(e){return e}},A0=function(t){CA(e,t);function e(r,s){var a;a=t.call(this,r,s)||this;var c=a.handleExited.bind(b8(a));return a.state={contextValue:{isMounting:!0},handleExited:c,firstRender:!0},a}var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(s,a){var c=a.children,f=a.handleExited,d=a.firstRender;return{children:d?w8(s,f):S8(s,c,f),firstRender:!1}},n.handleExited=function(s,a){var c=C0(this.props.children);s.key in c||(s.props.onExited&&s.props.onExited(a),this.mounted&&this.setState(function(f){var d=zd({},f.children);return delete d[s.key],{children:d}}))},n.render=function(){var s=this.props,a=s.component,c=s.childFactory,f=xA(s,["component","childFactory"]),d=this.state.contextValue,p=E8(this.state.children).map(c);return delete f.appear,delete f.enter,delete f.exit,a===null?Hr.createElement(jd.Provider,{value:d},p):Hr.createElement(jd.Provider,{value:d},Hr.createElement(a,f,p))},e}(Hr.Component);A0.propTypes={};A0.defaultProps=x8;const n2={};function _A(t,e){const n=U.useRef(n2);return n.current===n2&&(n.current=t(e)),n}const C8=[];function A8(t){U.useEffect(t,C8)}class _0{static create(){return new _0}currentId=null;start(e,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},e)}clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)};disposeEffect=()=>this.clear}function TA(){const t=_A(_0.create).current;return A8(t.disposeEffect),t}const RA=t=>t.scrollTop;function Vd(t,e){const{timeout:n,easing:r,style:s={}}=t;return{duration:s.transitionDuration??(typeof n=="number"?n:n[e.mode]||0),easing:s.transitionTimingFunction??(typeof r=="object"?r[e.mode]:r),delay:s.transitionDelay}}function _8(t){return tt("MuiPaper",t)}ft("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const T8=t=>{const{square:e,elevation:n,variant:r,classes:s}=t,a={root:["root",r,!e&&"rounded",r==="elevation"&&`elevation${n}`]};return nt(a,_8,s)},R8=pe("div",{name:"MuiPaper",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],!n.square&&e.rounded,n.variant==="elevation"&&e[`elevation${n.elevation}`]]}})(ut(({theme:t})=>({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow"),variants:[{props:({ownerState:e})=>!e.square,style:{borderRadius:t.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(t.vars||t).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),O8=U.forwardRef(function(e,n){const r=vt({props:e,name:"MuiPaper"}),s=Kh(),{className:a,component:c="div",elevation:f=1,square:d=!1,variant:p="elevation",...g}=r,y={...r,component:c,elevation:f,square:d,variant:p},b=T8(y);return ne.jsx(R8,{as:c,ownerState:y,className:_e(b.root,a),ref:n,...g,style:{...p==="elevation"&&{"--Paper-shadow":(s.vars||s).shadows[f],...s.vars&&{"--Paper-overlay":s.vars.overlays?.[f]},...!s.vars&&s.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${Hd("#fff",ob(f))}, ${Hd("#fff",ob(f))})`}},...g.style}})});function M8(t){return typeof t=="string"}function OA(t,e,n){return t===void 0||M8(t)?e:{...e,ownerState:{...e.ownerState,...n}}}function MA(t,e,n){return typeof t=="function"?t(e,n):t}function DA(t,e=[]){if(t===void 0)return{};const n={};return Object.keys(t).filter(r=>r.match(/^on[A-Z]/)&&typeof t[r]=="function"&&!e.includes(r)).forEach(r=>{n[r]=t[r]}),n}function r2(t){if(t===void 0)return{};const e={};return Object.keys(t).filter(n=>!(n.match(/^on[A-Z]/)&&typeof t[n]=="function")).forEach(n=>{e[n]=t[n]}),e}function kA(t){const{getSlotProps:e,additionalProps:n,externalSlotProps:r,externalForwardedProps:s,className:a}=t;if(!e){const w=_e(n?.className,a,s?.className,r?.className),v={...n?.style,...s?.style,...r?.style},S={...n,...s,...r};return w.length>0&&(S.className=w),Object.keys(v).length>0&&(S.style=v),{props:S,internalRef:void 0}}const c=DA({...s,...r}),f=r2(r),d=r2(s),p=e(c),g=_e(p?.className,n?.className,a,s?.className,r?.className),y={...p?.style,...n?.style,...s?.style,...r?.style},b={...p,...n,...d,...f};return g.length>0&&(b.className=g),Object.keys(y).length>0&&(b.style=y),{props:b,internalRef:p.ref}}function yt(t,e){const{className:n,elementType:r,ownerState:s,externalForwardedProps:a,internalForwardedProps:c,shouldForwardComponentProp:f=!1,...d}=e,{component:p,slots:g={[t]:void 0},slotProps:y={[t]:void 0},...b}=a,w=g[t]||r,v=MA(y[t],s),{props:{component:S,...E},internalRef:C}=kA({className:n,...d,externalForwardedProps:t==="root"?b:void 0,externalSlotProps:v}),k=Qn(C,v?.ref,e.ref),A=t==="root"?S||p:S,T=OA(w,{...t==="root"&&!p&&!g[t]&&c,...t!=="root"&&!g[t]&&c,...E,...A&&!f&&{as:A},...A&&f&&{component:A},ref:k},s);return[w,T]}function i2(t){try{return t.matches(":focus-visible")}catch{}return!1}class Kd{static create(){return new Kd}static use(){const e=_A(Kd.create).current,[n,r]=U.useState(!1);return e.shouldMount=n,e.setShouldMount=r,U.useEffect(e.mountEffect,[n]),e}constructor(){this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}mount(){return this.mounted||(this.mounted=k8(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}mountEffect=()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())};start(...e){this.mount().then(()=>this.ref.current?.start(...e))}stop(...e){this.mount().then(()=>this.ref.current?.stop(...e))}pulsate(...e){this.mount().then(()=>this.ref.current?.pulsate(...e))}}function D8(){return Kd.use()}function k8(){let t,e;const n=new Promise((r,s)=>{t=r,e=s});return n.resolve=t,n.reject=e,n}function L8(t){const{className:e,classes:n,pulsate:r=!1,rippleX:s,rippleY:a,rippleSize:c,in:f,onExited:d,timeout:p}=t,[g,y]=U.useState(!1),b=_e(e,n.ripple,n.rippleVisible,r&&n.ripplePulsate),w={width:c,height:c,top:-(c/2)+a,left:-(c/2)+s},v=_e(n.child,g&&n.childLeaving,r&&n.childPulsate);return!f&&!g&&y(!0),U.useEffect(()=>{if(!f&&d!=null){const S=setTimeout(d,p);return()=>{clearTimeout(S)}}},[d,f,p]),ne.jsx("span",{className:b,style:w,children:ne.jsx("span",{className:v})})}const Sr=ft("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),fb=550,N8=80,B8=hu`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,I8=hu`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,P8=hu`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,$8=pe("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),U8=pe(L8,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${Sr.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${B8};
    animation-duration: ${fb}ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
  }

  &.${Sr.ripplePulsate} {
    animation-duration: ${({theme:t})=>t.transitions.duration.shorter}ms;
  }

  & .${Sr.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${Sr.childLeaving} {
    opacity: 0;
    animation-name: ${I8};
    animation-duration: ${fb}ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
  }

  & .${Sr.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${P8};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,z8=U.forwardRef(function(e,n){const r=vt({props:e,name:"MuiTouchRipple"}),{center:s=!1,classes:a={},className:c,...f}=r,[d,p]=U.useState([]),g=U.useRef(0),y=U.useRef(null);U.useEffect(()=>{y.current&&(y.current(),y.current=null)},[d]);const b=U.useRef(!1),w=TA(),v=U.useRef(null),S=U.useRef(null),E=U.useCallback(T=>{const{pulsate:R,rippleX:I,rippleY:$,rippleSize:j,cb:P}=T;p(G=>[...G,ne.jsx(U8,{classes:{ripple:_e(a.ripple,Sr.ripple),rippleVisible:_e(a.rippleVisible,Sr.rippleVisible),ripplePulsate:_e(a.ripplePulsate,Sr.ripplePulsate),child:_e(a.child,Sr.child),childLeaving:_e(a.childLeaving,Sr.childLeaving),childPulsate:_e(a.childPulsate,Sr.childPulsate)},timeout:fb,pulsate:R,rippleX:I,rippleY:$,rippleSize:j},g.current)]),g.current+=1,y.current=P},[a]),C=U.useCallback((T={},R={},I=()=>{})=>{const{pulsate:$=!1,center:j=s||R.pulsate,fakeElement:P=!1}=R;if(T?.type==="mousedown"&&b.current){b.current=!1;return}T?.type==="touchstart"&&(b.current=!0);const G=P?null:S.current,W=G?G.getBoundingClientRect():{width:0,height:0,left:0,top:0};let _,B,L;if(j||T===void 0||T.clientX===0&&T.clientY===0||!T.clientX&&!T.touches)_=Math.round(W.width/2),B=Math.round(W.height/2);else{const{clientX:N,clientY:M}=T.touches&&T.touches.length>0?T.touches[0]:T;_=Math.round(N-W.left),B=Math.round(M-W.top)}if(j)L=Math.sqrt((2*W.width**2+W.height**2)/3),L%2===0&&(L+=1);else{const N=Math.max(Math.abs((G?G.clientWidth:0)-_),_)*2+2,M=Math.max(Math.abs((G?G.clientHeight:0)-B),B)*2+2;L=Math.sqrt(N**2+M**2)}T?.touches?v.current===null&&(v.current=()=>{E({pulsate:$,rippleX:_,rippleY:B,rippleSize:L,cb:I})},w.start(N8,()=>{v.current&&(v.current(),v.current=null)})):E({pulsate:$,rippleX:_,rippleY:B,rippleSize:L,cb:I})},[s,E,w]),k=U.useCallback(()=>{C({},{pulsate:!0})},[C]),A=U.useCallback((T,R)=>{if(w.clear(),T?.type==="touchend"&&v.current){v.current(),v.current=null,w.start(0,()=>{A(T,R)});return}v.current=null,p(I=>I.length>0?I.slice(1):I),y.current=R},[w]);return U.useImperativeHandle(n,()=>({pulsate:k,start:C,stop:A}),[k,C,A]),ne.jsx($8,{className:_e(Sr.root,a.root,c),ref:S,...f,children:ne.jsx(A0,{component:null,exit:!0,children:d})})});function F8(t){return tt("MuiButtonBase",t)}const q8=ft("MuiButtonBase",["root","disabled","focusVisible"]),H8=t=>{const{disabled:e,focusVisible:n,focusVisibleClassName:r,classes:s}=t,c=nt({root:["root",e&&"disabled",n&&"focusVisible"]},F8,s);return n&&r&&(c.root+=` ${r}`),c},j8=pe("button",{name:"MuiButtonBase",slot:"Root"})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${q8.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),Yh=U.forwardRef(function(e,n){const r=vt({props:e,name:"MuiButtonBase"}),{action:s,centerRipple:a=!1,children:c,className:f,component:d="button",disabled:p=!1,disableRipple:g=!1,disableTouchRipple:y=!1,focusRipple:b=!1,focusVisibleClassName:w,LinkComponent:v="a",onBlur:S,onClick:E,onContextMenu:C,onDragLeave:k,onFocus:A,onFocusVisible:T,onKeyDown:R,onKeyUp:I,onMouseDown:$,onMouseLeave:j,onMouseUp:P,onTouchEnd:G,onTouchMove:W,onTouchStart:_,tabIndex:B=0,TouchRippleProps:L,touchRippleRef:N,type:M,...q}=r,K=U.useRef(null),F=D8(),D=Qn(F.ref,N),[H,Q]=U.useState(!1);p&&H&&Q(!1),U.useImperativeHandle(s,()=>({focusVisible:()=>{Q(!0),K.current.focus()}}),[]);const te=F.shouldMount&&!g&&!p;U.useEffect(()=>{H&&b&&!g&&F.pulsate()},[g,b,H,F]);const ae=Pi(F,"start",$,y),se=Pi(F,"stop",C,y),le=Pi(F,"stop",k,y),ge=Pi(F,"stop",P,y),he=Pi(F,"stop",Se=>{H&&Se.preventDefault(),j&&j(Se)},y),fe=Pi(F,"start",_,y),de=Pi(F,"stop",G,y),De=Pi(F,"stop",W,y),Le=Pi(F,"stop",Se=>{i2(Se.target)||Q(!1),S&&S(Se)},!1),wt=ui(Se=>{K.current||(K.current=Se.currentTarget),i2(Se.target)&&(Q(!0),T&&T(Se)),A&&A(Se)}),ke=()=>{const Se=K.current;return d&&d!=="button"&&!(Se.tagName==="A"&&Se.href)},Ye=ui(Se=>{b&&!Se.repeat&&H&&Se.key===" "&&F.stop(Se,()=>{F.start(Se)}),Se.target===Se.currentTarget&&ke()&&Se.key===" "&&Se.preventDefault(),R&&R(Se),Se.target===Se.currentTarget&&ke()&&Se.key==="Enter"&&!p&&(Se.preventDefault(),E&&E(Se))}),rn=ui(Se=>{b&&Se.key===" "&&H&&!Se.defaultPrevented&&F.stop(Se,()=>{F.pulsate(Se)}),I&&I(Se),E&&Se.target===Se.currentTarget&&ke()&&Se.key===" "&&!Se.defaultPrevented&&E(Se)});let ze=d;ze==="button"&&(q.href||q.to)&&(ze=v);const dt={};ze==="button"?(dt.type=M===void 0?"button":M,dt.disabled=p):(!q.href&&!q.to&&(dt.role="button"),p&&(dt["aria-disabled"]=p));const Wt=Qn(n,K),Ht={...r,centerRipple:a,component:d,disabled:p,disableRipple:g,disableTouchRipple:y,focusRipple:b,tabIndex:B,focusVisible:H},Ze=H8(Ht);return ne.jsxs(j8,{as:ze,className:_e(Ze.root,f),ownerState:Ht,onBlur:Le,onClick:E,onContextMenu:se,onFocus:wt,onKeyDown:Ye,onKeyUp:rn,onMouseDown:ae,onMouseLeave:he,onMouseUp:ge,onDragLeave:le,onTouchEnd:de,onTouchMove:De,onTouchStart:fe,ref:Wt,tabIndex:p?-1:B,type:M,...dt,...q,children:[c,te?ne.jsx(z8,{ref:D,center:a,...L}):null]})});function Pi(t,e,n,r=!1){return ui(s=>(n&&n(s),r||t[e](s),!0))}function V8(t){return typeof t.main=="string"}function K8(t,e=[]){if(!V8(t))return!1;for(const n of e)if(!t.hasOwnProperty(n)||typeof t[n]!="string")return!1;return!0}function Ls(t=[]){return([,e])=>e&&K8(e,t)}function G8(t){return tt("MuiCircularProgress",t)}ft("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const ms=44,db=hu`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,hb=hu`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: -126px;
  }
`,Y8=typeof db!="string"?d0`
        animation: ${db} 1.4s linear infinite;
      `:null,X8=typeof hb!="string"?d0`
        animation: ${hb} 1.4s ease-in-out infinite;
      `:null,W8=t=>{const{classes:e,variant:n,color:r,disableShrink:s}=t,a={root:["root",n,`color${Ee(r)}`],svg:["svg"],circle:["circle",`circle${Ee(n)}`,s&&"circleDisableShrink"]};return nt(a,G8,e)},Q8=pe("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`color${Ee(n.color)}`]]}})(ut(({theme:t})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:t.transitions.create("transform")}},{props:{variant:"indeterminate"},style:Y8||{animation:`${db} 1.4s linear infinite`}},...Object.entries(t.palette).filter(Ls()).map(([e])=>({props:{color:e},style:{color:(t.vars||t).palette[e].main}}))]}))),Z8=pe("svg",{name:"MuiCircularProgress",slot:"Svg"})({display:"block"}),J8=pe("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.circle,e[`circle${Ee(n.variant)}`],n.disableShrink&&e.circleDisableShrink]}})(ut(({theme:t})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:t.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:e})=>e.variant==="indeterminate"&&!e.disableShrink,style:X8||{animation:`${hb} 1.4s ease-in-out infinite`}}]}))),LA=U.forwardRef(function(e,n){const r=vt({props:e,name:"MuiCircularProgress"}),{className:s,color:a="primary",disableShrink:c=!1,size:f=40,style:d,thickness:p=3.6,value:g=0,variant:y="indeterminate",...b}=r,w={...r,color:a,disableShrink:c,size:f,thickness:p,value:g,variant:y},v=W8(w),S={},E={},C={};if(y==="determinate"){const k=2*Math.PI*((ms-p)/2);S.strokeDasharray=k.toFixed(3),C["aria-valuenow"]=Math.round(g),S.strokeDashoffset=`${((100-g)/100*k).toFixed(3)}px`,E.transform="rotate(-90deg)"}return ne.jsx(Q8,{className:_e(v.root,s),style:{width:f,height:f,...E,...d},ownerState:w,ref:n,role:"progressbar",...C,...b,children:ne.jsx(Z8,{className:v.svg,ownerState:w,viewBox:`${ms/2} ${ms/2} ${ms} ${ms}`,children:ne.jsx(J8,{className:v.circle,style:S,ownerState:w,cx:ms,cy:ms,r:(ms-p)/2,fill:"none",strokeWidth:p})})})});function eD(t){return tt("MuiTypography",t)}ft("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const tD={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},nD=f8(),rD=t=>{const{align:e,gutterBottom:n,noWrap:r,paragraph:s,variant:a,classes:c}=t,f={root:["root",a,t.align!=="inherit"&&`align${Ee(e)}`,n&&"gutterBottom",r&&"noWrap",s&&"paragraph"]};return nt(f,eD,c)},iD=pe("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.variant&&e[n.variant],n.align!=="inherit"&&e[`align${Ee(n.align)}`],n.noWrap&&e.noWrap,n.gutterBottom&&e.gutterBottom,n.paragraph&&e.paragraph]}})(ut(({theme:t})=>({margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(t.typography).filter(([e,n])=>e!=="inherit"&&n&&typeof n=="object").map(([e,n])=>({props:{variant:e},style:n})),...Object.entries(t.palette).filter(Ls()).map(([e])=>({props:{color:e},style:{color:(t.vars||t).palette[e].main}})),...Object.entries(t.palette?.text||{}).filter(([,e])=>typeof e=="string").map(([e])=>({props:{color:`text${Ee(e)}`},style:{color:(t.vars||t).palette.text[e]}})),{props:({ownerState:e})=>e.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:e})=>e.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:e})=>e.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:e})=>e.paragraph,style:{marginBottom:16}}]}))),s2={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},Ka=U.forwardRef(function(e,n){const{color:r,...s}=vt({props:e,name:"MuiTypography"}),a=!tD[r],c=nD({...s,...a&&{color:r}}),{align:f="inherit",className:d,component:p,gutterBottom:g=!1,noWrap:y=!1,paragraph:b=!1,variant:w="body1",variantMapping:v=s2,...S}=c,E={...c,align:f,color:r,className:d,component:p,gutterBottom:g,noWrap:y,paragraph:b,variant:w,variantMapping:v},C=p||(b?"p":v[w]||s2[w])||"span",k=rD(E);return ne.jsx(iD,{as:C,ref:n,className:_e(k.root,d),...S,ownerState:E,style:{...f!=="inherit"&&{"--Typography-textAlign":f},...S.style}})});function Qc(t){const{elementType:e,externalSlotProps:n,ownerState:r,skipResolvingSlotProps:s=!1,...a}=t,c=s?{}:MA(n,r),{props:f,internalRef:d}=kA({...a,externalSlotProps:c}),p=Qn(d,c?.ref,t.additionalProps?.ref);return OA(e,{...f,ref:p},r)}function yu(t){return parseInt(U.version,10)>=19?t?.props?.ref||null:t?.ref||null}function sD(t){return typeof t=="function"?t():t}const oD=U.forwardRef(function(e,n){const{children:r,container:s,disablePortal:a=!1}=e,[c,f]=U.useState(null),d=Qn(U.isValidElement(r)?yu(r):null,n);if(Ms(()=>{a||f(sD(s)||document.body)},[s,a]),Ms(()=>{if(c&&!a)return e2(n,c),()=>{e2(n,null)}},[n,c,a]),a){if(U.isValidElement(r)){const p={ref:d};return U.cloneElement(r,p)}return r}return c&&AA.createPortal(r,c)});function Jf(t){return parseInt(t,10)||0}const aD={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function lD(t){for(const e in t)return!1;return!0}function o2(t){return lD(t)||t.outerHeightStyle===0&&!t.overflowing}const cD=U.forwardRef(function(e,n){const{onChange:r,maxRows:s,minRows:a=1,style:c,value:f,...d}=e,{current:p}=U.useRef(f!=null),g=U.useRef(null),y=Qn(n,g),b=U.useRef(null),w=U.useRef(null),v=U.useCallback(()=>{const A=g.current,T=w.current;if(!A||!T)return;const I=Gr(A).getComputedStyle(A);if(I.width==="0px")return{outerHeightStyle:0,overflowing:!1};T.style.width=I.width,T.value=A.value||e.placeholder||"x",T.value.slice(-1)===`
`&&(T.value+=" ");const $=I.boxSizing,j=Jf(I.paddingBottom)+Jf(I.paddingTop),P=Jf(I.borderBottomWidth)+Jf(I.borderTopWidth),G=T.scrollHeight;T.value="x";const W=T.scrollHeight;let _=G;a&&(_=Math.max(Number(a)*W,_)),s&&(_=Math.min(Number(s)*W,_)),_=Math.max(_,W);const B=_+($==="border-box"?j+P:0),L=Math.abs(_-G)<=1;return{outerHeightStyle:B,overflowing:L}},[s,a,e.placeholder]),S=ui(()=>{const A=g.current,T=v();if(!A||!T||o2(T))return!1;const R=T.outerHeightStyle;return b.current!=null&&b.current!==R}),E=U.useCallback(()=>{const A=g.current,T=v();if(!A||!T||o2(T))return;const R=T.outerHeightStyle;b.current!==R&&(b.current=R,A.style.height=`${R}px`),A.style.overflow=T.overflowing?"hidden":""},[v]),C=U.useRef(-1);Ms(()=>{const A=Gh(E),T=g?.current;if(!T)return;const R=Gr(T);R.addEventListener("resize",A);let I;return typeof ResizeObserver<"u"&&(I=new ResizeObserver(()=>{S()&&(I.unobserve(T),cancelAnimationFrame(C.current),E(),C.current=requestAnimationFrame(()=>{I.observe(T)}))}),I.observe(T)),()=>{A.clear(),cancelAnimationFrame(C.current),R.removeEventListener("resize",A),I&&I.disconnect()}},[v,E,S]),Ms(()=>{E()});const k=A=>{p||E();const T=A.target,R=T.value.length,I=T.value.endsWith(`
`),$=T.selectionStart===R;I&&$&&T.setSelectionRange(R,R),r&&r(A)};return ne.jsxs(U.Fragment,{children:[ne.jsx("textarea",{value:f,onChange:k,ref:y,rows:a,style:c,...d}),ne.jsx("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:w,tabIndex:-1,style:{...aD.shadow,...c,paddingTop:0,paddingBottom:0}})]})});function pb(t){return typeof t=="string"}function Mo({props:t,states:e,muiFormControl:n}){return e.reduce((r,s)=>(r[s]=t[s],n&&typeof t[s]>"u"&&(r[s]=n[s]),r),{})}const T0=U.createContext(void 0);function Ns(){return U.useContext(T0)}function a2(t){return t!=null&&!(Array.isArray(t)&&t.length===0)}function Gd(t,e=!1){return t&&(a2(t.value)&&t.value!==""||e&&a2(t.defaultValue)&&t.defaultValue!=="")}function uD(t){return t.startAdornment}function fD(t){return tt("MuiInputBase",t)}const Ga=ft("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]);var l2;const Xh=(t,e)=>{const{ownerState:n}=t;return[e.root,n.formControl&&e.formControl,n.startAdornment&&e.adornedStart,n.endAdornment&&e.adornedEnd,n.error&&e.error,n.size==="small"&&e.sizeSmall,n.multiline&&e.multiline,n.color&&e[`color${Ee(n.color)}`],n.fullWidth&&e.fullWidth,n.hiddenLabel&&e.hiddenLabel]},Wh=(t,e)=>{const{ownerState:n}=t;return[e.input,n.size==="small"&&e.inputSizeSmall,n.multiline&&e.inputMultiline,n.type==="search"&&e.inputTypeSearch,n.startAdornment&&e.inputAdornedStart,n.endAdornment&&e.inputAdornedEnd,n.hiddenLabel&&e.inputHiddenLabel]},dD=t=>{const{classes:e,color:n,disabled:r,error:s,endAdornment:a,focused:c,formControl:f,fullWidth:d,hiddenLabel:p,multiline:g,readOnly:y,size:b,startAdornment:w,type:v}=t,S={root:["root",`color${Ee(n)}`,r&&"disabled",s&&"error",d&&"fullWidth",c&&"focused",f&&"formControl",b&&b!=="medium"&&`size${Ee(b)}`,g&&"multiline",w&&"adornedStart",a&&"adornedEnd",p&&"hiddenLabel",y&&"readOnly"],input:["input",r&&"disabled",v==="search"&&"inputTypeSearch",g&&"inputMultiline",b==="small"&&"inputSizeSmall",p&&"inputHiddenLabel",w&&"inputAdornedStart",a&&"inputAdornedEnd",y&&"readOnly"]};return nt(S,fD,e)},Qh=pe("div",{name:"MuiInputBase",slot:"Root",overridesResolver:Xh})(ut(({theme:t})=>({...t.typography.body1,color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${Ga.disabled}`]:{color:(t.vars||t).palette.text.disabled,cursor:"default"},variants:[{props:({ownerState:e})=>e.multiline,style:{padding:"4px 0 5px"}},{props:({ownerState:e,size:n})=>e.multiline&&n==="small",style:{paddingTop:1}},{props:({ownerState:e})=>e.fullWidth,style:{width:"100%"}}]}))),Zh=pe("input",{name:"MuiInputBase",slot:"Input",overridesResolver:Wh})(ut(({theme:t})=>{const e=t.palette.mode==="light",n={color:"currentColor",...t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:e?.42:.5},transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})},r={opacity:"0 !important"},s=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:e?.42:.5};return{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%","&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&::-ms-input-placeholder":n,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${Ga.formControl} &`]:{"&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&::-ms-input-placeholder":r,"&:focus::-webkit-input-placeholder":s,"&:focus::-moz-placeholder":s,"&:focus::-ms-input-placeholder":s},[`&.${Ga.disabled}`]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},variants:[{props:({ownerState:a})=>!a.disableInjectingGlobalStyles,style:{animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}}},{props:{size:"small"},style:{paddingTop:1}},{props:({ownerState:a})=>a.multiline,style:{height:"auto",resize:"none",padding:0,paddingTop:0}},{props:{type:"search"},style:{MozAppearance:"textfield"}}]}})),c2=u8({"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}),R0=U.forwardRef(function(e,n){const r=vt({props:e,name:"MuiInputBase"}),{"aria-describedby":s,autoComplete:a,autoFocus:c,className:f,color:d,components:p={},componentsProps:g={},defaultValue:y,disabled:b,disableInjectingGlobalStyles:w,endAdornment:v,error:S,fullWidth:E=!1,id:C,inputComponent:k="input",inputProps:A={},inputRef:T,margin:R,maxRows:I,minRows:$,multiline:j=!1,name:P,onBlur:G,onChange:W,onClick:_,onFocus:B,onKeyDown:L,onKeyUp:N,placeholder:M,readOnly:q,renderSuffix:K,rows:F,size:D,slotProps:H={},slots:Q={},startAdornment:te,type:ae="text",value:se,...le}=r,ge=A.value!=null?A.value:se,{current:he}=U.useRef(ge!=null),fe=U.useRef(),de=U.useCallback(rt=>{},[]),De=Qn(fe,T,A.ref,de),[Le,wt]=U.useState(!1),ke=Ns(),Ye=Mo({props:r,muiFormControl:ke,states:["color","disabled","error","hiddenLabel","size","required","filled"]});Ye.focused=ke?ke.focused:Le,U.useEffect(()=>{!ke&&b&&Le&&(wt(!1),G&&G())},[ke,b,Le,G]);const rn=ke&&ke.onFilled,ze=ke&&ke.onEmpty,dt=U.useCallback(rt=>{Gd(rt)?rn&&rn():ze&&ze()},[rn,ze]);Ms(()=>{he&&dt({value:ge})},[ge,dt,he]);const Wt=rt=>{B&&B(rt),A.onFocus&&A.onFocus(rt),ke&&ke.onFocus?ke.onFocus(rt):wt(!0)},Ht=rt=>{G&&G(rt),A.onBlur&&A.onBlur(rt),ke&&ke.onBlur?ke.onBlur(rt):wt(!1)},Ze=(rt,...Lr)=>{if(!he){const Nr=rt.target||fe.current;if(Nr==null)throw new Error(Vi(1));dt({value:Nr.value})}A.onChange&&A.onChange(rt,...Lr),W&&W(rt,...Lr)};U.useEffect(()=>{dt(fe.current)},[]);const Se=rt=>{fe.current&&rt.currentTarget===rt.target&&fe.current.focus(),_&&_(rt)};let zn=k,Bt=A;j&&zn==="input"&&(F?Bt={type:void 0,minRows:F,maxRows:F,...Bt}:Bt={type:void 0,maxRows:I,minRows:$,...Bt},zn=cD);const Yr=rt=>{dt(rt.animationName==="mui-auto-fill-cancel"?fe.current:{value:"x"})};U.useEffect(()=>{ke&&ke.setAdornedStart(!!te)},[ke,te]);const Zn={...r,color:Ye.color||"primary",disabled:Ye.disabled,endAdornment:v,error:Ye.error,focused:Ye.focused,formControl:ke,fullWidth:E,hiddenLabel:Ye.hiddenLabel,multiline:j,size:Ye.size,startAdornment:te,type:ae},jt=dD(Zn),sn=Q.root||p.Root||Qh,It=H.root||g.root||{},Jn=Q.input||p.Input||Zh;return Bt={...Bt,...H.input??g.input},ne.jsxs(U.Fragment,{children:[!w&&typeof c2=="function"&&(l2||(l2=ne.jsx(c2,{}))),ne.jsxs(sn,{...It,ref:n,onClick:Se,...le,...!pb(sn)&&{ownerState:{...Zn,...It.ownerState}},className:_e(jt.root,It.className,f,q&&"MuiInputBase-readOnly"),children:[te,ne.jsx(T0.Provider,{value:null,children:ne.jsx(Jn,{"aria-invalid":Ye.error,"aria-describedby":s,autoComplete:a,autoFocus:c,defaultValue:y,disabled:Ye.disabled,id:C,onAnimationStart:Yr,name:P,placeholder:M,readOnly:q,required:Ye.required,rows:F,value:ge,onKeyDown:L,onKeyUp:N,type:ae,...Bt,...!pb(Jn)&&{as:zn,ownerState:{...Zn,...Bt.ownerState}},ref:De,className:_e(jt.input,Bt.className,q&&"MuiInputBase-readOnly"),onBlur:Ht,onChange:Ze,onFocus:Wt})}),v,K?K({...Ye,startAdornment:te}):null]})]})});function hD(t){return tt("MuiInput",t)}const yc={...Ga,...ft("MuiInput",["root","underline","input"])};function pD(t){return tt("MuiOutlinedInput",t)}const ri={...Ga,...ft("MuiOutlinedInput",["root","notchedOutline","input"])};function gD(t){return tt("MuiFilledInput",t)}const to={...Ga,...ft("MuiFilledInput",["root","underline","input","adornedStart","adornedEnd","sizeSmall","multiline","hiddenLabel"])},mD=x0(ne.jsx("path",{d:"M7 10l5 5 5-5z"})),yD={entering:{opacity:1},entered:{opacity:1}},bD=U.forwardRef(function(e,n){const r=Kh(),s={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:a,appear:c=!0,children:f,easing:d,in:p,onEnter:g,onEntered:y,onEntering:b,onExit:w,onExited:v,onExiting:S,style:E,timeout:C=s,TransitionComponent:k=mi,...A}=e,T=U.useRef(null),R=Qn(T,yu(f),n),I=L=>N=>{if(L){const M=T.current;N===void 0?L(M):L(M,N)}},$=I(b),j=I((L,N)=>{RA(L);const M=Vd({style:E,timeout:C,easing:d},{mode:"enter"});L.style.webkitTransition=r.transitions.create("opacity",M),L.style.transition=r.transitions.create("opacity",M),g&&g(L,N)}),P=I(y),G=I(S),W=I(L=>{const N=Vd({style:E,timeout:C,easing:d},{mode:"exit"});L.style.webkitTransition=r.transitions.create("opacity",N),L.style.transition=r.transitions.create("opacity",N),w&&w(L)}),_=I(v),B=L=>{a&&a(T.current,L)};return ne.jsx(k,{appear:c,in:p,nodeRef:T,onEnter:j,onEntered:P,onEntering:$,onExit:W,onExited:_,onExiting:G,addEndListener:B,timeout:C,...A,children:(L,{ownerState:N,...M})=>U.cloneElement(f,{style:{opacity:0,visibility:L==="exited"&&!p?"hidden":void 0,...yD[L],...E,...f.props.style},ref:R,...M})})});function vD(t){return tt("MuiBackdrop",t)}ft("MuiBackdrop",["root","invisible"]);const wD=t=>{const{classes:e,invisible:n}=t;return nt({root:["root",n&&"invisible"]},vD,e)},SD=pe("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.invisible&&e.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),ED=U.forwardRef(function(e,n){const r=vt({props:e,name:"MuiBackdrop"}),{children:s,className:a,component:c="div",invisible:f=!1,open:d,components:p={},componentsProps:g={},slotProps:y={},slots:b={},TransitionComponent:w,transitionDuration:v,...S}=r,E={...r,component:c,invisible:f},C=wD(E),k={transition:w,root:p.Root,...b},A={...g,...y},T={component:c,slots:k,slotProps:A},[R,I]=yt("root",{elementType:SD,externalForwardedProps:T,className:_e(C.root,a),ownerState:E}),[$,j]=yt("transition",{elementType:bD,externalForwardedProps:T,ownerState:E});return ne.jsx($,{in:d,timeout:v,...S,...j,children:ne.jsx(R,{"aria-hidden":!0,...I,classes:C,ref:n,children:s})})});function xD(t){return tt("MuiButton",t)}const no=ft("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge","loading","loadingWrapper","loadingIconPlaceholder","loadingIndicator","loadingPositionCenter","loadingPositionStart","loadingPositionEnd"]),CD=U.createContext({}),AD=U.createContext(void 0),_D=t=>{const{color:e,disableElevation:n,fullWidth:r,size:s,variant:a,loading:c,loadingPosition:f,classes:d}=t,p={root:["root",c&&"loading",a,`${a}${Ee(e)}`,`size${Ee(s)}`,`${a}Size${Ee(s)}`,`color${Ee(e)}`,n&&"disableElevation",r&&"fullWidth",c&&`loadingPosition${Ee(f)}`],startIcon:["icon","startIcon",`iconSize${Ee(s)}`],endIcon:["icon","endIcon",`iconSize${Ee(s)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]},g=nt(p,xD,d);return{...d,...g}},NA=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],TD=pe(Yh,{shouldForwardProp:t=>kr(t)||t==="classes",name:"MuiButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`${n.variant}${Ee(n.color)}`],e[`size${Ee(n.size)}`],e[`${n.variant}Size${Ee(n.size)}`],n.color==="inherit"&&e.colorInherit,n.disableElevation&&e.disableElevation,n.fullWidth&&e.fullWidth,n.loading&&e.loading]}})(ut(({theme:t})=>{const e=t.palette.mode==="light"?t.palette.grey[300]:t.palette.grey[800],n=t.palette.mode==="light"?t.palette.grey.A100:t.palette.grey[700];return{...t.typography.button,minWidth:64,padding:"6px 16px",border:0,borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":{textDecoration:"none"},[`&.${no.disabled}`]:{color:(t.vars||t).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(t.vars||t).shadows[2],"&:hover":{boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2]}},"&:active":{boxShadow:(t.vars||t).shadows[8]},[`&.${no.focusVisible}`]:{boxShadow:(t.vars||t).shadows[6]},[`&.${no.disabled}`]:{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",[`&.${no.disabled}`]:{border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(t.palette).filter(Ls()).map(([r])=>({props:{color:r},style:{"--variant-textColor":(t.vars||t).palette[r].main,"--variant-outlinedColor":(t.vars||t).palette[r].main,"--variant-outlinedBorder":t.alpha((t.vars||t).palette[r].main,.5),"--variant-containedColor":(t.vars||t).palette[r].contrastText,"--variant-containedBg":(t.vars||t).palette[r].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(t.vars||t).palette[r].dark,"--variant-textBg":t.alpha((t.vars||t).palette[r].main,(t.vars||t).palette.action.hoverOpacity),"--variant-outlinedBorder":(t.vars||t).palette[r].main,"--variant-outlinedBg":t.alpha((t.vars||t).palette[r].main,(t.vars||t).palette.action.hoverOpacity)}}}})),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":t.vars?t.vars.palette.Button.inheritContainedBg:e,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":t.vars?t.vars.palette.Button.inheritContainedHoverBg:n,"--variant-textBg":t.alpha((t.vars||t).palette.text.primary,(t.vars||t).palette.action.hoverOpacity),"--variant-outlinedBg":t.alpha((t.vars||t).palette.text.primary,(t.vars||t).palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:t.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:t.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:t.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${no.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${no.disabled}`]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{loadingPosition:"center"},style:{transition:t.transitions.create(["background-color","box-shadow","border-color"],{duration:t.transitions.duration.short}),[`&.${no.loading}`]:{color:"transparent"}}}]}})),RD=pe("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.startIcon,n.loading&&e.startIconLoadingStart,e[`iconSize${Ee(n.size)}`]]}})(({theme:t})=>({display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},{props:{loadingPosition:"start",loading:!0},style:{transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"start",loading:!0,fullWidth:!0},style:{marginRight:-8}},...NA]})),OD=pe("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.endIcon,n.loading&&e.endIconLoadingEnd,e[`iconSize${Ee(n.size)}`]]}})(({theme:t})=>({display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},{props:{loadingPosition:"end",loading:!0},style:{transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"end",loading:!0,fullWidth:!0},style:{marginLeft:-8}},...NA]})),MD=pe("span",{name:"MuiButton",slot:"LoadingIndicator"})(({theme:t})=>({display:"none",position:"absolute",visibility:"visible",variants:[{props:{loading:!0},style:{display:"flex"}},{props:{loadingPosition:"start"},style:{left:14}},{props:{loadingPosition:"start",size:"small"},style:{left:10}},{props:{variant:"text",loadingPosition:"start"},style:{left:6}},{props:{loadingPosition:"center"},style:{left:"50%",transform:"translate(-50%)",color:(t.vars||t).palette.action.disabled}},{props:{loadingPosition:"end"},style:{right:14}},{props:{loadingPosition:"end",size:"small"},style:{right:10}},{props:{variant:"text",loadingPosition:"end"},style:{right:6}},{props:{loadingPosition:"start",fullWidth:!0},style:{position:"relative",left:-10}},{props:{loadingPosition:"end",fullWidth:!0},style:{position:"relative",right:-10}}]})),u2=pe("span",{name:"MuiButton",slot:"LoadingIconPlaceholder"})({display:"inline-block",width:"1em",height:"1em"}),DD=U.forwardRef(function(e,n){const r=U.useContext(CD),s=U.useContext(AD),a=Wc(r,e),c=vt({props:a,name:"MuiButton"}),{children:f,color:d="primary",component:p="button",className:g,disabled:y=!1,disableElevation:b=!1,disableFocusRipple:w=!1,endIcon:v,focusVisibleClassName:S,fullWidth:E=!1,id:C,loading:k=null,loadingIndicator:A,loadingPosition:T="center",size:R="medium",startIcon:I,type:$,variant:j="text",...P}=c,G=w0(C),W=A??ne.jsx(LA,{"aria-labelledby":G,color:"inherit",size:16}),_={...c,color:d,component:p,disabled:y,disableElevation:b,disableFocusRipple:w,fullWidth:E,loading:k,loadingIndicator:W,loadingPosition:T,size:R,type:$,variant:j},B=_D(_),L=(I||k&&T==="start")&&ne.jsx(RD,{className:B.startIcon,ownerState:_,children:I||ne.jsx(u2,{className:B.loadingIconPlaceholder,ownerState:_})}),N=(v||k&&T==="end")&&ne.jsx(OD,{className:B.endIcon,ownerState:_,children:v||ne.jsx(u2,{className:B.loadingIconPlaceholder,ownerState:_})}),M=s||"",q=typeof k=="boolean"?ne.jsx("span",{className:B.loadingWrapper,style:{display:"contents"},children:k&&ne.jsx(MD,{className:B.loadingIndicator,ownerState:_,children:W})}):null;return ne.jsxs(TD,{ownerState:_,className:_e(r.className,B.root,g,M),component:p,disabled:y||k,focusRipple:!w,focusVisibleClassName:_e(B.focusVisible,S),ref:n,type:$,id:k?G:C,...P,classes:B,children:[L,T!=="end"&&q,f,T==="end"&&q,N]})});function kD(t){return tt("PrivateSwitchBase",t)}ft("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const LD=t=>{const{classes:e,checked:n,disabled:r,edge:s}=t,a={root:["root",n&&"checked",r&&"disabled",s&&`edge${Ee(s)}`],input:["input"]};return nt(a,kD,e)},ND=pe(Yh,{name:"MuiSwitchBase"})({padding:9,borderRadius:"50%",variants:[{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:({edge:t,ownerState:e})=>t==="start"&&e.size!=="small",style:{marginLeft:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}},{props:({edge:t,ownerState:e})=>t==="end"&&e.size!=="small",style:{marginRight:-12}}]}),BD=pe("input",{name:"MuiSwitchBase",shouldForwardProp:kr})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),ID=U.forwardRef(function(e,n){const{autoFocus:r,checked:s,checkedIcon:a,defaultChecked:c,disabled:f,disableFocusRipple:d=!1,edge:p=!1,icon:g,id:y,inputProps:b,inputRef:w,name:v,onBlur:S,onChange:E,onFocus:C,readOnly:k,required:A=!1,tabIndex:T,type:R,value:I,slots:$={},slotProps:j={},...P}=e,[G,W]=lb({controlled:s,default:!!c,name:"SwitchBase",state:"checked"}),_=Ns(),B=se=>{C&&C(se),_&&_.onFocus&&_.onFocus(se)},L=se=>{S&&S(se),_&&_.onBlur&&_.onBlur(se)},N=se=>{if(se.nativeEvent.defaultPrevented)return;const le=se.target.checked;W(le),E&&E(se,le)};let M=f;_&&typeof M>"u"&&(M=_.disabled);const q=R==="checkbox"||R==="radio",K={...e,checked:G,disabled:M,disableFocusRipple:d,edge:p},F=LD(K),D={slots:$,slotProps:{input:b,...j}},[H,Q]=yt("root",{ref:n,elementType:ND,className:F.root,shouldForwardComponentProp:!0,externalForwardedProps:{...D,component:"span",...P},getSlotProps:se=>({...se,onFocus:le=>{se.onFocus?.(le),B(le)},onBlur:le=>{se.onBlur?.(le),L(le)}}),ownerState:K,additionalProps:{centerRipple:!0,focusRipple:!d,disabled:M,role:void 0,tabIndex:null}}),[te,ae]=yt("input",{ref:w,elementType:BD,className:F.input,externalForwardedProps:D,getSlotProps:se=>({...se,onChange:le=>{se.onChange?.(le),N(le)}}),ownerState:K,additionalProps:{autoFocus:r,checked:s,defaultChecked:c,disabled:M,id:q?y:void 0,name:v,readOnly:k,required:A,tabIndex:T,type:R,...R==="checkbox"&&I===void 0?{}:{value:I}}});return ne.jsxs(H,{...Q,children:[ne.jsx(te,{...ae}),G?a:g]})}),PD=OM({createStyledComponent:pe("div",{name:"MuiContainer",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`maxWidth${Ee(String(n.maxWidth))}`],n.fixed&&e.fixed,n.disableGutters&&e.disableGutters]}}),useThemeProps:t=>vt({props:t,name:"MuiContainer"})});function BA(t=window){const e=t.document.documentElement.clientWidth;return t.innerWidth-e}function $D(t){const e=Or(t);return e.body===t?Gr(t).innerWidth>e.documentElement.clientWidth:t.scrollHeight>t.clientHeight}function Uc(t,e){e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function f2(t){return parseInt(Gr(t).getComputedStyle(t).paddingRight,10)||0}function UD(t){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(t.tagName),r=t.tagName==="INPUT"&&t.getAttribute("type")==="hidden";return n||r}function d2(t,e,n,r,s){const a=[e,n,...r];[].forEach.call(t.children,c=>{const f=!a.includes(c),d=!UD(c);f&&d&&Uc(c,s)})}function Xm(t,e){let n=-1;return t.some((r,s)=>e(r)?(n=s,!0):!1),n}function zD(t,e){const n=[],r=t.container;if(!e.disableScrollLock){if($D(r)){const c=BA(Gr(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${f2(r)+c}px`;const f=Or(r).querySelectorAll(".mui-fixed");[].forEach.call(f,d=>{n.push({value:d.style.paddingRight,property:"padding-right",el:d}),d.style.paddingRight=`${f2(d)+c}px`})}let a;if(r.parentNode instanceof DocumentFragment)a=Or(r).body;else{const c=r.parentElement,f=Gr(r);a=c?.nodeName==="HTML"&&f.getComputedStyle(c).overflowY==="scroll"?c:r}n.push({value:a.style.overflow,property:"overflow",el:a},{value:a.style.overflowX,property:"overflow-x",el:a},{value:a.style.overflowY,property:"overflow-y",el:a}),a.style.overflow="hidden"}return()=>{n.forEach(({value:a,el:c,property:f})=>{a?c.style.setProperty(f,a):c.style.removeProperty(f)})}}function FD(t){const e=[];return[].forEach.call(t.children,n=>{n.getAttribute("aria-hidden")==="true"&&e.push(n)}),e}class qD{constructor(){this.modals=[],this.containers=[]}add(e,n){let r=this.modals.indexOf(e);if(r!==-1)return r;r=this.modals.length,this.modals.push(e),e.modalRef&&Uc(e.modalRef,!1);const s=FD(n);d2(n,e.mount,e.modalRef,s,!0);const a=Xm(this.containers,c=>c.container===n);return a!==-1?(this.containers[a].modals.push(e),r):(this.containers.push({modals:[e],container:n,restore:null,hiddenSiblings:s}),r)}mount(e,n){const r=Xm(this.containers,a=>a.modals.includes(e)),s=this.containers[r];s.restore||(s.restore=zD(s,n))}remove(e,n=!0){const r=this.modals.indexOf(e);if(r===-1)return r;const s=Xm(this.containers,c=>c.modals.includes(e)),a=this.containers[s];if(a.modals.splice(a.modals.indexOf(e),1),this.modals.splice(r,1),a.modals.length===0)a.restore&&a.restore(),e.modalRef&&Uc(e.modalRef,n),d2(a.container,e.mount,e.modalRef,a.hiddenSiblings,!1),this.containers.splice(s,1);else{const c=a.modals[a.modals.length-1];c.modalRef&&Uc(c.modalRef,!1)}return r}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}const HD=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function jD(t){const e=parseInt(t.getAttribute("tabindex")||"",10);return Number.isNaN(e)?t.contentEditable==="true"||(t.nodeName==="AUDIO"||t.nodeName==="VIDEO"||t.nodeName==="DETAILS")&&t.getAttribute("tabindex")===null?0:t.tabIndex:e}function VD(t){if(t.tagName!=="INPUT"||t.type!=="radio"||!t.name)return!1;const e=r=>t.ownerDocument.querySelector(`input[type="radio"]${r}`);let n=e(`[name="${t.name}"]:checked`);return n||(n=e(`[name="${t.name}"]`)),n!==t}function KD(t){return!(t.disabled||t.tagName==="INPUT"&&t.type==="hidden"||VD(t))}function GD(t){const e=[],n=[];return Array.from(t.querySelectorAll(HD)).forEach((r,s)=>{const a=jD(r);a===-1||!KD(r)||(a===0?e.push(r):n.push({documentOrder:s,tabIndex:a,node:r}))}),n.sort((r,s)=>r.tabIndex===s.tabIndex?r.documentOrder-s.documentOrder:r.tabIndex-s.tabIndex).map(r=>r.node).concat(e)}function YD(){return!0}function XD(t){const{children:e,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:s=!1,getTabbable:a=GD,isEnabled:c=YD,open:f}=t,d=U.useRef(!1),p=U.useRef(null),g=U.useRef(null),y=U.useRef(null),b=U.useRef(null),w=U.useRef(!1),v=U.useRef(null),S=Qn(yu(e),v),E=U.useRef(null);U.useEffect(()=>{!f||!v.current||(w.current=!n)},[n,f]),U.useEffect(()=>{if(!f||!v.current)return;const A=Or(v.current);return v.current.contains(A.activeElement)||(v.current.hasAttribute("tabIndex")||v.current.setAttribute("tabIndex","-1"),w.current&&v.current.focus()),()=>{s||(y.current&&y.current.focus&&(d.current=!0,y.current.focus()),y.current=null)}},[f]),U.useEffect(()=>{if(!f||!v.current)return;const A=Or(v.current),T=$=>{E.current=$,!(r||!c()||$.key!=="Tab")&&A.activeElement===v.current&&$.shiftKey&&(d.current=!0,g.current&&g.current.focus())},R=()=>{const $=v.current;if($===null)return;if(!A.hasFocus()||!c()||d.current){d.current=!1;return}if($.contains(A.activeElement)||r&&A.activeElement!==p.current&&A.activeElement!==g.current)return;if(A.activeElement!==b.current)b.current=null;else if(b.current!==null)return;if(!w.current)return;let j=[];if((A.activeElement===p.current||A.activeElement===g.current)&&(j=a(v.current)),j.length>0){const P=!!(E.current?.shiftKey&&E.current?.key==="Tab"),G=j[0],W=j[j.length-1];typeof G!="string"&&typeof W!="string"&&(P?W.focus():G.focus())}else $.focus()};A.addEventListener("focusin",R),A.addEventListener("keydown",T,!0);const I=setInterval(()=>{A.activeElement&&A.activeElement.tagName==="BODY"&&R()},50);return()=>{clearInterval(I),A.removeEventListener("focusin",R),A.removeEventListener("keydown",T,!0)}},[n,r,s,c,f,a]);const C=A=>{y.current===null&&(y.current=A.relatedTarget),w.current=!0,b.current=A.target;const T=e.props.onFocus;T&&T(A)},k=A=>{y.current===null&&(y.current=A.relatedTarget),w.current=!0};return ne.jsxs(U.Fragment,{children:[ne.jsx("div",{tabIndex:f?0:-1,onFocus:k,ref:p,"data-testid":"sentinelStart"}),U.cloneElement(e,{ref:S,onFocus:C}),ne.jsx("div",{tabIndex:f?0:-1,onFocus:k,ref:g,"data-testid":"sentinelEnd"})]})}function WD(t){return typeof t=="function"?t():t}function QD(t){return t?t.props.hasOwnProperty("in"):!1}const h2=()=>{},ed=new qD;function ZD(t){const{container:e,disableEscapeKeyDown:n=!1,disableScrollLock:r=!1,closeAfterTransition:s=!1,onTransitionEnter:a,onTransitionExited:c,children:f,onClose:d,open:p,rootRef:g}=t,y=U.useRef({}),b=U.useRef(null),w=U.useRef(null),v=Qn(w,g),[S,E]=U.useState(!p),C=QD(f);let k=!0;(t["aria-hidden"]==="false"||t["aria-hidden"]===!1)&&(k=!1);const A=()=>Or(b.current),T=()=>(y.current.modalRef=w.current,y.current.mount=b.current,y.current),R=()=>{ed.mount(T(),{disableScrollLock:r}),w.current&&(w.current.scrollTop=0)},I=ui(()=>{const N=WD(e)||A().body;ed.add(T(),N),w.current&&R()}),$=()=>ed.isTopModal(T()),j=ui(N=>{b.current=N,N&&(p&&$()?R():w.current&&Uc(w.current,k))}),P=U.useCallback(()=>{ed.remove(T(),k)},[k]);U.useEffect(()=>()=>{P()},[P]),U.useEffect(()=>{p?I():(!C||!s)&&P()},[p,P,C,s,I]);const G=N=>M=>{N.onKeyDown?.(M),!(M.key!=="Escape"||M.which===229||!$())&&(n||(M.stopPropagation(),d&&d(M,"escapeKeyDown")))},W=N=>M=>{N.onClick?.(M),M.target===M.currentTarget&&d&&d(M,"backdropClick")};return{getRootProps:(N={})=>{const M=DA(t);delete M.onTransitionEnter,delete M.onTransitionExited;const q={...M,...N};return{role:"presentation",...q,onKeyDown:G(q),ref:v}},getBackdropProps:(N={})=>{const M=N;return{"aria-hidden":!0,...M,onClick:W(M),open:p}},getTransitionProps:()=>{const N=()=>{E(!1),a&&a()},M=()=>{E(!0),c&&c(),s&&P()};return{onEnter:JE(N,f?.props.onEnter??h2),onExited:JE(M,f?.props.onExited??h2)}},rootRef:v,portalRef:j,isTopModal:$,exited:S,hasTransition:C}}function JD(t){return tt("MuiModal",t)}ft("MuiModal",["root","hidden","backdrop"]);const ek=t=>{const{open:e,exited:n,classes:r}=t;return nt({root:["root",!e&&n&&"hidden"],backdrop:["backdrop"]},JD,r)},tk=pe("div",{name:"MuiModal",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.open&&n.exited&&e.hidden]}})(ut(({theme:t})=>({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:e})=>!e.open&&e.exited,style:{visibility:"hidden"}}]}))),nk=pe(ED,{name:"MuiModal",slot:"Backdrop"})({zIndex:-1}),rk=U.forwardRef(function(e,n){const r=vt({name:"MuiModal",props:e}),{BackdropComponent:s=nk,BackdropProps:a,classes:c,className:f,closeAfterTransition:d=!1,children:p,container:g,component:y,components:b={},componentsProps:w={},disableAutoFocus:v=!1,disableEnforceFocus:S=!1,disableEscapeKeyDown:E=!1,disablePortal:C=!1,disableRestoreFocus:k=!1,disableScrollLock:A=!1,hideBackdrop:T=!1,keepMounted:R=!1,onClose:I,onTransitionEnter:$,onTransitionExited:j,open:P,slotProps:G={},slots:W={},theme:_,...B}=r,L={...r,closeAfterTransition:d,disableAutoFocus:v,disableEnforceFocus:S,disableEscapeKeyDown:E,disablePortal:C,disableRestoreFocus:k,disableScrollLock:A,hideBackdrop:T,keepMounted:R},{getRootProps:N,getBackdropProps:M,getTransitionProps:q,portalRef:K,isTopModal:F,exited:D,hasTransition:H}=ZD({...L,rootRef:n}),Q={...L,exited:D},te=ek(Q),ae={};if(p.props.tabIndex===void 0&&(ae.tabIndex="-1"),H){const{onEnter:de,onExited:De}=q();ae.onEnter=de,ae.onExited=De}const se={slots:{root:b.Root,backdrop:b.Backdrop,...W},slotProps:{...w,...G}},[le,ge]=yt("root",{ref:n,elementType:tk,externalForwardedProps:{...se,...B,component:y},getSlotProps:N,ownerState:Q,className:_e(f,te?.root,!Q.open&&Q.exited&&te?.hidden)}),[he,fe]=yt("backdrop",{ref:a?.ref,elementType:s,externalForwardedProps:se,shouldForwardComponentProp:!0,additionalProps:a,getSlotProps:de=>M({...de,onClick:De=>{de?.onClick&&de.onClick(De)}}),className:_e(a?.className,te?.backdrop),ownerState:Q});return!R&&!P&&(!H||D)?null:ne.jsx(oD,{ref:K,container:g,disablePortal:C,children:ne.jsxs(le,{...ge,children:[!T&&s?ne.jsx(he,{...fe}):null,ne.jsx(XD,{disableEnforceFocus:S,disableAutoFocus:v,disableRestoreFocus:k,isEnabled:F,open:P,children:U.cloneElement(p,ae)})]})})}),ik=t=>{const{classes:e,disableUnderline:n,startAdornment:r,endAdornment:s,size:a,hiddenLabel:c,multiline:f}=t,d={root:["root",!n&&"underline",r&&"adornedStart",s&&"adornedEnd",a==="small"&&`size${Ee(a)}`,c&&"hiddenLabel",f&&"multiline"],input:["input"]},p=nt(d,gD,e);return{...e,...p}},sk=pe(Qh,{shouldForwardProp:t=>kr(t)||t==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...Xh(t,e),!n.disableUnderline&&e.underline]}})(ut(({theme:t})=>{const e=t.palette.mode==="light",n=e?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",r=e?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",s=e?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",a=e?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:r,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:s,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:r}},[`&.${to.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:r},[`&.${to.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:a},variants:[{props:({ownerState:c})=>!c.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${to.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${to.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${t.vars?t.alpha(t.vars.palette.common.onBackground,t.vars.opacity.inputUnderline):n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${to.disabled}, .${to.error}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${to.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(t.palette).filter(Ls()).map(([c])=>({props:{disableUnderline:!1,color:c},style:{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[c]?.main}`}}})),{props:({ownerState:c})=>c.startAdornment,style:{paddingLeft:12}},{props:({ownerState:c})=>c.endAdornment,style:{paddingRight:12}},{props:({ownerState:c})=>c.multiline,style:{padding:"25px 12px 8px"}},{props:({ownerState:c,size:f})=>c.multiline&&f==="small",style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:c})=>c.multiline&&c.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:c})=>c.multiline&&c.hiddenLabel&&c.size==="small",style:{paddingTop:8,paddingBottom:9}}]}})),ok=pe(Zh,{name:"MuiFilledInput",slot:"Input",overridesResolver:Wh})(ut(({theme:t})=>({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,...!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},...t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:e})=>e.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:0}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:0}},{props:({ownerState:e})=>e.hiddenLabel&&e.size==="small",style:{paddingTop:8,paddingBottom:9}},{props:({ownerState:e})=>e.multiline,style:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}}]}))),O0=U.forwardRef(function(e,n){const r=vt({props:e,name:"MuiFilledInput"}),{disableUnderline:s=!1,components:a={},componentsProps:c,fullWidth:f=!1,hiddenLabel:d,inputComponent:p="input",multiline:g=!1,slotProps:y,slots:b={},type:w="text",...v}=r,S={...r,disableUnderline:s,fullWidth:f,inputComponent:p,multiline:g,type:w},E=ik(r),C={root:{ownerState:S},input:{ownerState:S}},k=y??c?Nn(C,y??c):C,A=b.root??a.Root??sk,T=b.input??a.Input??ok;return ne.jsx(R0,{slots:{root:A,input:T},slotProps:k,fullWidth:f,inputComponent:p,multiline:g,ref:n,type:w,...v,classes:E})});O0.muiName="Input";function ak(t){return tt("MuiFormControl",t)}ft("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const lk=t=>{const{classes:e,margin:n,fullWidth:r}=t,s={root:["root",n!=="none"&&`margin${Ee(n)}`,r&&"fullWidth"]};return nt(s,ak,e)},ck=pe("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`margin${Ee(n.margin)}`],n.fullWidth&&e.fullWidth]}})({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top",variants:[{props:{margin:"normal"},style:{marginTop:16,marginBottom:8}},{props:{margin:"dense"},style:{marginTop:8,marginBottom:4}},{props:{fullWidth:!0},style:{width:"100%"}}]}),uk=U.forwardRef(function(e,n){const r=vt({props:e,name:"MuiFormControl"}),{children:s,className:a,color:c="primary",component:f="div",disabled:d=!1,error:p=!1,focused:g,fullWidth:y=!1,hiddenLabel:b=!1,margin:w="none",required:v=!1,size:S="medium",variant:E="outlined",...C}=r,k={...r,color:c,component:f,disabled:d,error:p,fullWidth:y,hiddenLabel:b,margin:w,required:v,size:S,variant:E},A=lk(k),[T,R]=U.useState(()=>{let N=!1;return s&&U.Children.forEach(s,M=>{if(!Gm(M,["Input","Select"]))return;const q=Gm(M,["Select"])?M.props.input:M;q&&uD(q.props)&&(N=!0)}),N}),[I,$]=U.useState(()=>{let N=!1;return s&&U.Children.forEach(s,M=>{Gm(M,["Input","Select"])&&(Gd(M.props,!0)||Gd(M.props.inputProps,!0))&&(N=!0)}),N}),[j,P]=U.useState(!1);d&&j&&P(!1);const G=g!==void 0&&!d?g:j;let W;U.useRef(!1);const _=U.useCallback(()=>{$(!0)},[]),B=U.useCallback(()=>{$(!1)},[]),L=U.useMemo(()=>({adornedStart:T,setAdornedStart:R,color:c,disabled:d,error:p,filled:I,focused:G,fullWidth:y,hiddenLabel:b,size:S,onBlur:()=>{P(!1)},onFocus:()=>{P(!0)},onEmpty:B,onFilled:_,registerEffect:W,required:v,variant:E}),[T,c,d,p,I,G,y,b,W,B,_,v,S,E]);return ne.jsx(T0.Provider,{value:L,children:ne.jsx(ck,{as:f,ownerState:k,className:_e(A.root,a),ref:n,...C,children:s})})});function fk(t){return tt("MuiFormControlLabel",t)}const kc=ft("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),dk=t=>{const{classes:e,disabled:n,labelPlacement:r,error:s,required:a}=t,c={root:["root",n&&"disabled",`labelPlacement${Ee(r)}`,s&&"error",a&&"required"],label:["label",n&&"disabled"],asterisk:["asterisk",s&&"error"]};return nt(c,fk,e)},hk=pe("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${kc.label}`]:e.label},e.root,e[`labelPlacement${Ee(n.labelPlacement)}`]]}})(ut(({theme:t})=>({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${kc.disabled}`]:{cursor:"default"},[`& .${kc.label}`]:{[`&.${kc.disabled}`]:{color:(t.vars||t).palette.text.disabled}},variants:[{props:{labelPlacement:"start"},style:{flexDirection:"row-reverse",marginRight:-11}},{props:{labelPlacement:"top"},style:{flexDirection:"column-reverse"}},{props:{labelPlacement:"bottom"},style:{flexDirection:"column"}},{props:({labelPlacement:e})=>e==="start"||e==="top"||e==="bottom",style:{marginLeft:16}}]}))),pk=pe("span",{name:"MuiFormControlLabel",slot:"Asterisk"})(ut(({theme:t})=>({[`&.${kc.error}`]:{color:(t.vars||t).palette.error.main}}))),gk=U.forwardRef(function(e,n){const r=vt({props:e,name:"MuiFormControlLabel"}),{checked:s,className:a,componentsProps:c={},control:f,disabled:d,disableTypography:p,inputRef:g,label:y,labelPlacement:b="end",name:w,onChange:v,required:S,slots:E={},slotProps:C={},value:k,...A}=r,T=Ns(),R=d??f.props.disabled??T?.disabled,I=S??f.props.required,$={disabled:R,required:I};["checked","name","onChange","value","inputRef"].forEach(N=>{typeof f.props[N]>"u"&&typeof r[N]<"u"&&($[N]=r[N])});const j=Mo({props:r,muiFormControl:T,states:["error"]}),P={...r,disabled:R,labelPlacement:b,required:I,error:j.error},G=dk(P),W={slots:E,slotProps:{...c,...C}},[_,B]=yt("typography",{elementType:Ka,externalForwardedProps:W,ownerState:P});let L=y;return L!=null&&L.type!==Ka&&!p&&(L=ne.jsx(_,{component:"span",...B,className:_e(G.label,B?.className),children:L})),ne.jsxs(hk,{className:_e(G.root,a),ownerState:P,ref:n,...A,children:[U.cloneElement(f,$),I?ne.jsxs("div",{children:[L,ne.jsxs(pk,{ownerState:P,"aria-hidden":!0,className:G.asterisk,children:["","*"]})]}):L]})});function mk(t){return tt("MuiFormHelperText",t)}const p2=ft("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var g2;const yk=t=>{const{classes:e,contained:n,size:r,disabled:s,error:a,filled:c,focused:f,required:d}=t,p={root:["root",s&&"disabled",a&&"error",r&&`size${Ee(r)}`,n&&"contained",f&&"focused",c&&"filled",d&&"required"]};return nt(p,mk,e)},bk=pe("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.size&&e[`size${Ee(n.size)}`],n.contained&&e.contained,n.filled&&e.filled]}})(ut(({theme:t})=>({color:(t.vars||t).palette.text.secondary,...t.typography.caption,textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${p2.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${p2.error}`]:{color:(t.vars||t).palette.error.main},variants:[{props:{size:"small"},style:{marginTop:4}},{props:({ownerState:e})=>e.contained,style:{marginLeft:14,marginRight:14}}]}))),vk=U.forwardRef(function(e,n){const r=vt({props:e,name:"MuiFormHelperText"}),{children:s,className:a,component:c="p",disabled:f,error:d,filled:p,focused:g,margin:y,required:b,variant:w,...v}=r,S=Ns(),E=Mo({props:r,muiFormControl:S,states:["variant","size","disabled","error","filled","focused","required"]}),C={...r,component:c,contained:E.variant==="filled"||E.variant==="outlined",variant:E.variant,size:E.size,disabled:E.disabled,error:E.error,filled:E.filled,focused:E.focused,required:E.required};delete C.ownerState;const k=yk(C);return ne.jsx(bk,{as:c,className:_e(k.root,a),ref:n,...v,ownerState:C,children:s===" "?g2||(g2=ne.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):s})});function wk(t){return tt("MuiFormLabel",t)}const zc=ft("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),Sk=t=>{const{classes:e,color:n,focused:r,disabled:s,error:a,filled:c,required:f}=t,d={root:["root",`color${Ee(n)}`,s&&"disabled",a&&"error",c&&"filled",r&&"focused",f&&"required"],asterisk:["asterisk",a&&"error"]};return nt(d,wk,e)},Ek=pe("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color==="secondary"&&e.colorSecondary,n.filled&&e.filled]}})(ut(({theme:t})=>({color:(t.vars||t).palette.text.secondary,...t.typography.body1,lineHeight:"1.4375em",padding:0,position:"relative",variants:[...Object.entries(t.palette).filter(Ls()).map(([e])=>({props:{color:e},style:{[`&.${zc.focused}`]:{color:(t.vars||t).palette[e].main}}})),{props:{},style:{[`&.${zc.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${zc.error}`]:{color:(t.vars||t).palette.error.main}}}]}))),xk=pe("span",{name:"MuiFormLabel",slot:"Asterisk"})(ut(({theme:t})=>({[`&.${zc.error}`]:{color:(t.vars||t).palette.error.main}}))),Ck=U.forwardRef(function(e,n){const r=vt({props:e,name:"MuiFormLabel"}),{children:s,className:a,color:c,component:f="label",disabled:d,error:p,filled:g,focused:y,required:b,...w}=r,v=Ns(),S=Mo({props:r,muiFormControl:v,states:["color","required","focused","disabled","error","filled"]}),E={...r,color:S.color||"primary",component:f,disabled:S.disabled,error:S.error,filled:S.filled,focused:S.focused,required:S.required},C=Sk(E);return ne.jsxs(Ek,{as:f,ownerState:E,className:_e(C.root,a),ref:n,...w,children:[s,S.required&&ne.jsxs(xk,{ownerState:E,"aria-hidden":!0,className:C.asterisk,children:["","*"]})]})});function gb(t){return`scale(${t}, ${t**2})`}const Ak={entering:{opacity:1,transform:gb(1)},entered:{opacity:1,transform:"none"}},Wm=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),mb=U.forwardRef(function(e,n){const{addEndListener:r,appear:s=!0,children:a,easing:c,in:f,onEnter:d,onEntered:p,onEntering:g,onExit:y,onExited:b,onExiting:w,style:v,timeout:S="auto",TransitionComponent:E=mi,...C}=e,k=TA(),A=U.useRef(),T=Kh(),R=U.useRef(null),I=Qn(R,yu(a),n),$=N=>M=>{if(N){const q=R.current;M===void 0?N(q):N(q,M)}},j=$(g),P=$((N,M)=>{RA(N);const{duration:q,delay:K,easing:F}=Vd({style:v,timeout:S,easing:c},{mode:"enter"});let D;S==="auto"?(D=T.transitions.getAutoHeightDuration(N.clientHeight),A.current=D):D=q,N.style.transition=[T.transitions.create("opacity",{duration:D,delay:K}),T.transitions.create("transform",{duration:Wm?D:D*.666,delay:K,easing:F})].join(","),d&&d(N,M)}),G=$(p),W=$(w),_=$(N=>{const{duration:M,delay:q,easing:K}=Vd({style:v,timeout:S,easing:c},{mode:"exit"});let F;S==="auto"?(F=T.transitions.getAutoHeightDuration(N.clientHeight),A.current=F):F=M,N.style.transition=[T.transitions.create("opacity",{duration:F,delay:q}),T.transitions.create("transform",{duration:Wm?F:F*.666,delay:Wm?q:q||F*.333,easing:K})].join(","),N.style.opacity=0,N.style.transform=gb(.75),y&&y(N)}),B=$(b),L=N=>{S==="auto"&&k.start(A.current||0,N),r&&r(R.current,N)};return ne.jsx(E,{appear:s,in:f,nodeRef:R,onEnter:P,onEntered:G,onEntering:j,onExit:_,onExited:B,onExiting:W,addEndListener:L,timeout:S==="auto"?null:S,...C,children:(N,{ownerState:M,...q})=>U.cloneElement(a,{style:{opacity:0,transform:gb(.75),visibility:N==="exited"&&!f?"hidden":void 0,...Ak[N],...v,...a.props.style},ref:I,...q})})});mb&&(mb.muiSupportAuto=!0);const _k=t=>{const{classes:e,disableUnderline:n}=t,s=nt({root:["root",!n&&"underline"],input:["input"]},hD,e);return{...e,...s}},Tk=pe(Qh,{shouldForwardProp:t=>kr(t)||t==="classes",name:"MuiInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...Xh(t,e),!n.disableUnderline&&e.underline]}})(ut(({theme:t})=>{let n=t.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(n=t.alpha(t.vars.palette.common.onBackground,t.vars.opacity.inputUnderline)),{position:"relative",variants:[{props:({ownerState:r})=>r.formControl,style:{"label + &":{marginTop:16}}},{props:({ownerState:r})=>!r.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${yc.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${yc.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${yc.disabled}, .${yc.error}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${n}`}},[`&.${yc.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(t.palette).filter(Ls()).map(([r])=>({props:{color:r,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[r].main}`}}}))]}})),Rk=pe(Zh,{name:"MuiInput",slot:"Input",overridesResolver:Wh})({}),M0=U.forwardRef(function(e,n){const r=vt({props:e,name:"MuiInput"}),{disableUnderline:s=!1,components:a={},componentsProps:c,fullWidth:f=!1,inputComponent:d="input",multiline:p=!1,slotProps:g,slots:y={},type:b="text",...w}=r,v=_k(r),E={root:{ownerState:{disableUnderline:s}}},C=g??c?Nn(g??c,E):E,k=y.root??a.Root??Tk,A=y.input??a.Input??Rk;return ne.jsx(R0,{slots:{root:k,input:A},slotProps:C,fullWidth:f,inputComponent:d,multiline:p,ref:n,type:b,...w,classes:v})});M0.muiName="Input";function Ok(t){return tt("MuiInputLabel",t)}ft("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const Mk=t=>{const{classes:e,formControl:n,size:r,shrink:s,disableAnimation:a,variant:c,required:f}=t,d={root:["root",n&&"formControl",!a&&"animated",s&&"shrink",r&&r!=="medium"&&`size${Ee(r)}`,c],asterisk:[f&&"asterisk"]},p=nt(d,Ok,e);return{...e,...p}},Dk=pe(Ck,{shouldForwardProp:t=>kr(t)||t==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${zc.asterisk}`]:e.asterisk},e.root,n.formControl&&e.formControl,n.size==="small"&&e.sizeSmall,n.shrink&&e.shrink,!n.disableAnimation&&e.animated,n.focused&&e.focused,e[n.variant]]}})(ut(({theme:t})=>({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",variants:[{props:({ownerState:e})=>e.formControl,style:{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"}},{props:{size:"small"},style:{transform:"translate(0, 17px) scale(1)"}},{props:({ownerState:e})=>e.shrink,style:{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"}},{props:({ownerState:e})=>!e.disableAnimation,style:{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})}},{props:{variant:"filled"},style:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"filled",size:"small"},style:{transform:"translate(12px, 13px) scale(1)"}},{props:({variant:e,ownerState:n})=>e==="filled"&&n.shrink,style:{userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"}},{props:({variant:e,ownerState:n,size:r})=>e==="filled"&&n.shrink&&r==="small",style:{transform:"translate(12px, 4px) scale(0.75)"}},{props:{variant:"outlined"},style:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"outlined",size:"small"},style:{transform:"translate(14px, 9px) scale(1)"}},{props:({variant:e,ownerState:n})=>e==="outlined"&&n.shrink,style:{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}}]}))),kk=U.forwardRef(function(e,n){const r=vt({name:"MuiInputLabel",props:e}),{disableAnimation:s=!1,margin:a,shrink:c,variant:f,className:d,...p}=r,g=Ns();let y=c;typeof y>"u"&&g&&(y=g.filled||g.focused||g.adornedStart);const b=Mo({props:r,muiFormControl:g,states:["size","variant","required","focused"]}),w={...r,disableAnimation:s,formControl:g,shrink:y,size:b.size,variant:b.variant,required:b.required,focused:b.focused},v=Mk(w);return ne.jsx(Dk,{"data-shrink":y,ref:n,className:_e(v.root,d),...p,ownerState:w,classes:v})}),Lk=U.createContext({});function Nk(t){return tt("MuiList",t)}ft("MuiList",["root","padding","dense","subheader"]);const Bk=t=>{const{classes:e,disablePadding:n,dense:r,subheader:s}=t;return nt({root:["root",!n&&"padding",r&&"dense",s&&"subheader"]},Nk,e)},Ik=pe("ul",{name:"MuiList",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disablePadding&&e.padding,n.dense&&e.dense,n.subheader&&e.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:({ownerState:t})=>!t.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:t})=>t.subheader,style:{paddingTop:0}}]}),Pk=U.forwardRef(function(e,n){const r=vt({props:e,name:"MuiList"}),{children:s,className:a,component:c="ul",dense:f=!1,disablePadding:d=!1,subheader:p,...g}=r,y=U.useMemo(()=>({dense:f}),[f]),b={...r,component:c,dense:f,disablePadding:d},w=Bk(b);return ne.jsx(Lk.Provider,{value:y,children:ne.jsxs(Ik,{as:c,className:_e(w.root,a),ref:n,ownerState:b,...g,children:[p,s]})})});function Qm(t,e,n){return t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:n?null:t.firstChild}function m2(t,e,n){return t===e?n?t.firstChild:t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:n?null:t.lastChild}function IA(t,e){if(e===void 0)return!0;let n=t.innerText;return n===void 0&&(n=t.textContent),n=n.trim().toLowerCase(),n.length===0?!1:e.repeating?n[0]===e.keys[0]:n.startsWith(e.keys.join(""))}function bc(t,e,n,r,s,a){let c=!1,f=s(t,e,e?n:!1);for(;f;){if(f===t.firstChild){if(c)return!1;c=!0}const d=r?!1:f.disabled||f.getAttribute("aria-disabled")==="true";if(!f.hasAttribute("tabindex")||!IA(f,a)||d)f=s(t,f,n);else return f.focus(),!0}return!1}const $k=U.forwardRef(function(e,n){const{actions:r,autoFocus:s=!1,autoFocusItem:a=!1,children:c,className:f,disabledItemsFocusable:d=!1,disableListWrap:p=!1,onKeyDown:g,variant:y="selectedMenu",...b}=e,w=U.useRef(null),v=U.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});Ms(()=>{s&&w.current.focus()},[s]),U.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(A,{direction:T})=>{const R=!w.current.style.width;if(A.clientHeight<w.current.clientHeight&&R){const I=`${BA(Gr(A))}px`;w.current.style[T==="rtl"?"paddingLeft":"paddingRight"]=I,w.current.style.width=`calc(100% + ${I})`}return w.current}}),[]);const S=A=>{const T=w.current,R=A.key;if(A.ctrlKey||A.metaKey||A.altKey){g&&g(A);return}const $=Or(T).activeElement;if(R==="ArrowDown")A.preventDefault(),bc(T,$,p,d,Qm);else if(R==="ArrowUp")A.preventDefault(),bc(T,$,p,d,m2);else if(R==="Home")A.preventDefault(),bc(T,null,p,d,Qm);else if(R==="End")A.preventDefault(),bc(T,null,p,d,m2);else if(R.length===1){const j=v.current,P=R.toLowerCase(),G=performance.now();j.keys.length>0&&(G-j.lastTime>500?(j.keys=[],j.repeating=!0,j.previousKeyMatched=!0):j.repeating&&P!==j.keys[0]&&(j.repeating=!1)),j.lastTime=G,j.keys.push(P);const W=$&&!j.repeating&&IA($,j);j.previousKeyMatched&&(W||bc(T,$,!1,d,Qm,j))?A.preventDefault():j.previousKeyMatched=!1}g&&g(A)},E=Qn(w,n);let C=-1;U.Children.forEach(c,(A,T)=>{if(!U.isValidElement(A)){C===T&&(C+=1,C>=c.length&&(C=-1));return}A.props.disabled||(y==="selectedMenu"&&A.props.selected||C===-1)&&(C=T),C===T&&(A.props.disabled||A.props.muiSkipListHighlight||A.type.muiSkipListHighlight)&&(C+=1,C>=c.length&&(C=-1))});const k=U.Children.map(c,(A,T)=>{if(T===C){const R={};return a&&(R.autoFocus=!0),A.props.tabIndex===void 0&&y==="selectedMenu"&&(R.tabIndex=0),U.cloneElement(A,R)}return A});return ne.jsx(Pk,{role:"menu",ref:E,className:f,onKeyDown:S,tabIndex:s?0:-1,...b,children:k})});function Uk(t){return tt("MuiPopover",t)}ft("MuiPopover",["root","paper"]);function y2(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.height/2:e==="bottom"&&(n=t.height),n}function b2(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.width/2:e==="right"&&(n=t.width),n}function v2(t){return[t.horizontal,t.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function td(t){return typeof t=="function"?t():t}const zk=t=>{const{classes:e}=t;return nt({root:["root"],paper:["paper"]},Uk,e)},Fk=pe(rk,{name:"MuiPopover",slot:"Root"})({}),PA=pe(O8,{name:"MuiPopover",slot:"Paper"})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),qk=U.forwardRef(function(e,n){const r=vt({props:e,name:"MuiPopover"}),{action:s,anchorEl:a,anchorOrigin:c={vertical:"top",horizontal:"left"},anchorPosition:f,anchorReference:d="anchorEl",children:p,className:g,container:y,elevation:b=8,marginThreshold:w=16,open:v,PaperProps:S={},slots:E={},slotProps:C={},transformOrigin:k={vertical:"top",horizontal:"left"},TransitionComponent:A,transitionDuration:T="auto",TransitionProps:R={},disableScrollLock:I=!1,...$}=r,j=U.useRef(),P={...r,anchorOrigin:c,anchorReference:d,elevation:b,marginThreshold:w,transformOrigin:k,TransitionComponent:A,transitionDuration:T,TransitionProps:R},G=zk(P),W=U.useCallback(()=>{if(d==="anchorPosition")return f;const de=td(a),Le=(de&&de.nodeType===1?de:Or(j.current).body).getBoundingClientRect();return{top:Le.top+y2(Le,c.vertical),left:Le.left+b2(Le,c.horizontal)}},[a,c.horizontal,c.vertical,f,d]),_=U.useCallback(de=>({vertical:y2(de,k.vertical),horizontal:b2(de,k.horizontal)}),[k.horizontal,k.vertical]),B=U.useCallback(de=>{const De={width:de.offsetWidth,height:de.offsetHeight},Le=_(De);if(d==="none")return{top:null,left:null,transformOrigin:v2(Le)};const wt=W();let ke=wt.top-Le.vertical,Ye=wt.left-Le.horizontal;const rn=ke+De.height,ze=Ye+De.width,dt=Gr(td(a)),Wt=dt.innerHeight-w,Ht=dt.innerWidth-w;if(w!==null&&ke<w){const Ze=ke-w;ke-=Ze,Le.vertical+=Ze}else if(w!==null&&rn>Wt){const Ze=rn-Wt;ke-=Ze,Le.vertical+=Ze}if(w!==null&&Ye<w){const Ze=Ye-w;Ye-=Ze,Le.horizontal+=Ze}else if(ze>Ht){const Ze=ze-Ht;Ye-=Ze,Le.horizontal+=Ze}return{top:`${Math.round(ke)}px`,left:`${Math.round(Ye)}px`,transformOrigin:v2(Le)}},[a,d,W,_,w]),[L,N]=U.useState(v),M=U.useCallback(()=>{const de=j.current;if(!de)return;const De=B(de);De.top!==null&&de.style.setProperty("top",De.top),De.left!==null&&(de.style.left=De.left),de.style.transformOrigin=De.transformOrigin,N(!0)},[B]);U.useEffect(()=>(I&&window.addEventListener("scroll",M),()=>window.removeEventListener("scroll",M)),[a,I,M]);const q=()=>{M()},K=()=>{N(!1)};U.useEffect(()=>{v&&M()}),U.useImperativeHandle(s,()=>v?{updatePosition:()=>{M()}}:null,[v,M]),U.useEffect(()=>{if(!v)return;const de=Gh(()=>{M()}),De=Gr(td(a));return De.addEventListener("resize",de),()=>{de.clear(),De.removeEventListener("resize",de)}},[a,v,M]);let F=T;const D={slots:{transition:A,...E},slotProps:{transition:R,paper:S,...C}},[H,Q]=yt("transition",{elementType:mb,externalForwardedProps:D,ownerState:P,getSlotProps:de=>({...de,onEntering:(De,Le)=>{de.onEntering?.(De,Le),q()},onExited:De=>{de.onExited?.(De),K()}}),additionalProps:{appear:!0,in:v}});T==="auto"&&!H.muiSupportAuto&&(F=void 0);const te=y||(a?Or(td(a)).body:void 0),[ae,{slots:se,slotProps:le,...ge}]=yt("root",{ref:n,elementType:Fk,externalForwardedProps:{...D,...$},shouldForwardComponentProp:!0,additionalProps:{slots:{backdrop:E.backdrop},slotProps:{backdrop:m8(typeof C.backdrop=="function"?C.backdrop(P):C.backdrop,{invisible:!0})},container:te,open:v},ownerState:P,className:_e(G.root,g)}),[he,fe]=yt("paper",{ref:j,className:G.paper,elementType:PA,externalForwardedProps:D,shouldForwardComponentProp:!0,additionalProps:{elevation:b,style:L?void 0:{opacity:0}},ownerState:P});return ne.jsx(ae,{...ge,...!pb(ae)&&{slots:se,slotProps:le,disableScrollLock:I},children:ne.jsx(H,{...Q,timeout:F,children:ne.jsx(he,{...fe,children:p})})})});function Hk(t){return tt("MuiMenu",t)}ft("MuiMenu",["root","paper","list"]);const jk={vertical:"top",horizontal:"right"},Vk={vertical:"top",horizontal:"left"},Kk=t=>{const{classes:e}=t;return nt({root:["root"],paper:["paper"],list:["list"]},Hk,e)},Gk=pe(qk,{shouldForwardProp:t=>kr(t)||t==="classes",name:"MuiMenu",slot:"Root"})({}),Yk=pe(PA,{name:"MuiMenu",slot:"Paper"})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),Xk=pe($k,{name:"MuiMenu",slot:"List"})({outline:0}),Wk=U.forwardRef(function(e,n){const r=vt({props:e,name:"MuiMenu"}),{autoFocus:s=!0,children:a,className:c,disableAutoFocusItem:f=!1,MenuListProps:d={},onClose:p,open:g,PaperProps:y={},PopoverClasses:b,transitionDuration:w="auto",TransitionProps:{onEntering:v,...S}={},variant:E="selectedMenu",slots:C={},slotProps:k={},...A}=r,T=v0(),R={...r,autoFocus:s,disableAutoFocusItem:f,MenuListProps:d,onEntering:v,PaperProps:y,transitionDuration:w,TransitionProps:S,variant:E},I=Kk(R),$=s&&!f&&g,j=U.useRef(null),P=(F,D)=>{j.current&&j.current.adjustStyleForScrollbar(F,{direction:T?"rtl":"ltr"}),v&&v(F,D)},G=F=>{F.key==="Tab"&&(F.preventDefault(),p&&p(F,"tabKeyDown"))};let W=-1;U.Children.map(a,(F,D)=>{U.isValidElement(F)&&(F.props.disabled||(E==="selectedMenu"&&F.props.selected||W===-1)&&(W=D))});const _={slots:C,slotProps:{list:d,transition:S,paper:y,...k}},B=Qc({elementType:C.root,externalSlotProps:k.root,ownerState:R,className:[I.root,c]}),[L,N]=yt("paper",{className:I.paper,elementType:Yk,externalForwardedProps:_,shouldForwardComponentProp:!0,ownerState:R}),[M,q]=yt("list",{className:_e(I.list,d.className),elementType:Xk,shouldForwardComponentProp:!0,externalForwardedProps:_,getSlotProps:F=>({...F,onKeyDown:D=>{G(D),F.onKeyDown?.(D)}}),ownerState:R}),K=typeof _.slotProps.transition=="function"?_.slotProps.transition(R):_.slotProps.transition;return ne.jsx(Gk,{onClose:p,anchorOrigin:{vertical:"bottom",horizontal:T?"right":"left"},transformOrigin:T?jk:Vk,slots:{root:C.root,paper:L,backdrop:C.backdrop,...C.transition&&{transition:C.transition}},slotProps:{root:B,paper:N,backdrop:typeof k.backdrop=="function"?k.backdrop(R):k.backdrop,transition:{...K,onEntering:(...F)=>{P(...F),K?.onEntering?.(...F)}}},open:g,ref:n,transitionDuration:w,ownerState:R,...A,classes:b,children:ne.jsx(M,{actions:j,autoFocus:s&&(W===-1||f),autoFocusItem:$,variant:E,...q,children:a})})});function Qk(t){return tt("MuiNativeSelect",t)}const D0=ft("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),Zk=t=>{const{classes:e,variant:n,disabled:r,multiple:s,open:a,error:c}=t,f={select:["select",n,r&&"disabled",s&&"multiple",c&&"error"],icon:["icon",`icon${Ee(n)}`,a&&"iconOpen",r&&"disabled"]};return nt(f,Qk,e)},$A=pe("select",{name:"MuiNativeSelect"})(({theme:t})=>({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{borderRadius:0},[`&.${D0.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(t.vars||t).palette.background.paper},variants:[{props:({ownerState:e})=>e.variant!=="filled"&&e.variant!=="outlined",style:{"&&&":{paddingRight:24,minWidth:16}}},{props:{variant:"filled"},style:{"&&&":{paddingRight:32}}},{props:{variant:"outlined"},style:{borderRadius:(t.vars||t).shape.borderRadius,"&:focus":{borderRadius:(t.vars||t).shape.borderRadius},"&&&":{paddingRight:32}}}]})),Jk=pe($A,{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:kr,overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.select,e[n.variant],n.error&&e.error,{[`&.${D0.multiple}`]:e.multiple}]}})({}),UA=pe("svg",{name:"MuiNativeSelect"})(({theme:t})=>({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(t.vars||t).palette.action.active,[`&.${D0.disabled}`]:{color:(t.vars||t).palette.action.disabled},variants:[{props:({ownerState:e})=>e.open,style:{transform:"rotate(180deg)"}},{props:{variant:"filled"},style:{right:7}},{props:{variant:"outlined"},style:{right:7}}]})),eL=pe(UA,{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${Ee(n.variant)}`],n.open&&e.iconOpen]}})({}),tL=U.forwardRef(function(e,n){const{className:r,disabled:s,error:a,IconComponent:c,inputRef:f,variant:d="standard",...p}=e,g={...e,disabled:s,variant:d,error:a},y=Zk(g);return ne.jsxs(U.Fragment,{children:[ne.jsx(Jk,{ownerState:g,className:_e(y.select,r),disabled:s,ref:f||n,...p}),e.multiple?null:ne.jsx(eL,{as:c,ownerState:g,className:y.icon})]})});var w2;const nL=pe("fieldset",{name:"MuiNotchedOutlined",shouldForwardProp:kr})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),rL=pe("legend",{name:"MuiNotchedOutlined",shouldForwardProp:kr})(ut(({theme:t})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:({ownerState:e})=>!e.withLabel,style:{padding:0,lineHeight:"11px",transition:t.transitions.create("width",{duration:150,easing:t.transitions.easing.easeOut})}},{props:({ownerState:e})=>e.withLabel,style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:t.transitions.create("max-width",{duration:50,easing:t.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:({ownerState:e})=>e.withLabel&&e.notched,style:{maxWidth:"100%",transition:t.transitions.create("max-width",{duration:100,easing:t.transitions.easing.easeOut,delay:50})}}]})));function iL(t){const{children:e,classes:n,className:r,label:s,notched:a,...c}=t,f=s!=null&&s!=="",d={...t,notched:a,withLabel:f};return ne.jsx(nL,{"aria-hidden":!0,className:r,ownerState:d,...c,children:ne.jsx(rL,{ownerState:d,children:f?ne.jsx("span",{children:s}):w2||(w2=ne.jsx("span",{className:"notranslate","aria-hidden":!0,children:""}))})})}const sL=t=>{const{classes:e}=t,r=nt({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},pD,e);return{...e,...r}},oL=pe(Qh,{shouldForwardProp:t=>kr(t)||t==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:Xh})(ut(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{position:"relative",borderRadius:(t.vars||t).shape.borderRadius,[`&:hover .${ri.notchedOutline}`]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{[`&:hover .${ri.notchedOutline}`]:{borderColor:t.vars?t.alpha(t.vars.palette.common.onBackground,.23):e}},[`&.${ri.focused} .${ri.notchedOutline}`]:{borderWidth:2},variants:[...Object.entries(t.palette).filter(Ls()).map(([n])=>({props:{color:n},style:{[`&.${ri.focused} .${ri.notchedOutline}`]:{borderColor:(t.vars||t).palette[n].main}}})),{props:{},style:{[`&.${ri.error} .${ri.notchedOutline}`]:{borderColor:(t.vars||t).palette.error.main},[`&.${ri.disabled} .${ri.notchedOutline}`]:{borderColor:(t.vars||t).palette.action.disabled}}},{props:({ownerState:n})=>n.startAdornment,style:{paddingLeft:14}},{props:({ownerState:n})=>n.endAdornment,style:{paddingRight:14}},{props:({ownerState:n})=>n.multiline,style:{padding:"16.5px 14px"}},{props:({ownerState:n,size:r})=>n.multiline&&r==="small",style:{padding:"8.5px 14px"}}]}})),aL=pe(iL,{name:"MuiOutlinedInput",slot:"NotchedOutline"})(ut(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?t.alpha(t.vars.palette.common.onBackground,.23):e}})),lL=pe(Zh,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:Wh})(ut(({theme:t})=>({padding:"16.5px 14px",...!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},...t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{padding:"8.5px 14px"}},{props:({ownerState:e})=>e.multiline,style:{padding:0}},{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:0}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:0}}]}))),k0=U.forwardRef(function(e,n){const r=vt({props:e,name:"MuiOutlinedInput"}),{components:s={},fullWidth:a=!1,inputComponent:c="input",label:f,multiline:d=!1,notched:p,slots:g={},slotProps:y={},type:b="text",...w}=r,v=sL(r),S=Ns(),E=Mo({props:r,muiFormControl:S,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),C={...r,color:E.color||"primary",disabled:E.disabled,error:E.error,focused:E.focused,formControl:S,fullWidth:a,hiddenLabel:E.hiddenLabel,multiline:d,size:E.size,type:b},k=g.root??s.Root??oL,A=g.input??s.Input??lL,[T,R]=yt("notchedOutline",{elementType:aL,className:v.notchedOutline,shouldForwardComponentProp:!0,ownerState:C,externalForwardedProps:{slots:g,slotProps:y},additionalProps:{label:f!=null&&f!==""&&E.required?ne.jsxs(U.Fragment,{children:[f,"","*"]}):f}});return ne.jsx(R0,{slots:{root:k,input:A},slotProps:y,renderSuffix:I=>ne.jsx(T,{...R,notched:typeof p<"u"?p:!!(I.startAdornment||I.filled||I.focused)}),fullWidth:a,inputComponent:c,multiline:d,ref:n,type:b,...w,classes:{...v,notchedOutline:null}})});k0.muiName="Input";function zA(t){return tt("MuiSelect",t)}const vc=ft("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var S2;const cL=pe($A,{name:"MuiSelect",slot:"Select",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`&.${vc.select}`]:e.select},{[`&.${vc.select}`]:e[n.variant]},{[`&.${vc.error}`]:e.error},{[`&.${vc.multiple}`]:e.multiple}]}})({[`&.${vc.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),uL=pe(UA,{name:"MuiSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${Ee(n.variant)}`],n.open&&e.iconOpen]}})({}),fL=pe("input",{shouldForwardProp:t=>EA(t)&&t!=="classes",name:"MuiSelect",slot:"NativeInput"})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function E2(t,e){return typeof e=="object"&&e!==null?t===e:String(t)===String(e)}function dL(t){return t==null||typeof t=="string"&&!t.trim()}const hL=t=>{const{classes:e,variant:n,disabled:r,multiple:s,open:a,error:c}=t,f={select:["select",n,r&&"disabled",s&&"multiple",c&&"error"],icon:["icon",`icon${Ee(n)}`,a&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return nt(f,zA,e)},pL=U.forwardRef(function(e,n){const{"aria-describedby":r,"aria-label":s,autoFocus:a,autoWidth:c,children:f,className:d,defaultOpen:p,defaultValue:g,disabled:y,displayEmpty:b,error:w=!1,IconComponent:v,inputRef:S,labelId:E,MenuProps:C={},multiple:k,name:A,onBlur:T,onChange:R,onClose:I,onFocus:$,onOpen:j,open:P,readOnly:G,renderValue:W,required:_,SelectDisplayProps:B={},tabIndex:L,type:N,value:M,variant:q="standard",...K}=e,[F,D]=lb({controlled:M,default:g,name:"Select"}),[H,Q]=lb({controlled:P,default:p,name:"Select"}),te=U.useRef(null),ae=U.useRef(null),[se,le]=U.useState(null),{current:ge}=U.useRef(P!=null),[he,fe]=U.useState(),de=Qn(n,S),De=U.useCallback(be=>{ae.current=be,be&&le(be)},[]),Le=se?.parentNode;U.useImperativeHandle(de,()=>({focus:()=>{ae.current.focus()},node:te.current,value:F}),[F]),U.useEffect(()=>{p&&H&&se&&!ge&&(fe(c?null:Le.clientWidth),ae.current.focus())},[se,c]),U.useEffect(()=>{a&&ae.current.focus()},[a]),U.useEffect(()=>{if(!E)return;const be=Or(ae.current).getElementById(E);if(be){const je=()=>{getSelection().isCollapsed&&ae.current.focus()};return be.addEventListener("click",je),()=>{be.removeEventListener("click",je)}}},[E]);const wt=(be,je)=>{be?j&&j(je):I&&I(je),ge||(fe(c?null:Le.clientWidth),Q(be))},ke=be=>{be.button===0&&(be.preventDefault(),ae.current.focus(),wt(!0,be))},Ye=be=>{wt(!1,be)},rn=U.Children.toArray(f),ze=be=>{const je=rn.find(At=>At.props.value===be.target.value);je!==void 0&&(D(je.props.value),R&&R(be,je))},dt=be=>je=>{let At;if(je.currentTarget.hasAttribute("tabindex")){if(k){At=Array.isArray(F)?F.slice():[];const Br=F.indexOf(be.props.value);Br===-1?At.push(be.props.value):At.splice(Br,1)}else At=be.props.value;if(be.props.onClick&&be.props.onClick(je),F!==At&&(D(At),R)){const Br=je.nativeEvent||je,Wr=new Br.constructor(Br.type,Br);Object.defineProperty(Wr,"target",{writable:!0,value:{value:At,name:A}}),R(Wr,be)}k||wt(!1,je)}},Wt=be=>{G||[" ","ArrowUp","ArrowDown","Enter"].includes(be.key)&&(be.preventDefault(),wt(!0,be))},Ht=se!==null&&H,Ze=be=>{!Ht&&T&&(Object.defineProperty(be,"target",{writable:!0,value:{value:F,name:A}}),T(be))};delete K["aria-invalid"];let Se,zn;const Bt=[];let Yr=!1;(Gd({value:F})||b)&&(W?Se=W(F):Yr=!0);const Zn=rn.map(be=>{if(!U.isValidElement(be))return null;let je;if(k){if(!Array.isArray(F))throw new Error(Vi(2));je=F.some(At=>E2(At,be.props.value)),je&&Yr&&Bt.push(be.props.children)}else je=E2(F,be.props.value),je&&Yr&&(zn=be.props.children);return U.cloneElement(be,{"aria-selected":je?"true":"false",onClick:dt(be),onKeyUp:At=>{At.key===" "&&At.preventDefault(),be.props.onKeyUp&&be.props.onKeyUp(At)},role:"option",selected:je,value:void 0,"data-value":be.props.value})});Yr&&(k?Bt.length===0?Se=null:Se=Bt.reduce((be,je,At)=>(be.push(je),At<Bt.length-1&&be.push(", "),be),[]):Se=zn);let jt=he;!c&&ge&&se&&(jt=Le.clientWidth);let sn;typeof L<"u"?sn=L:sn=y?null:0;const It=B.id||(A?`mui-component-select-${A}`:void 0),Jn={...e,variant:q,value:F,open:Ht,error:w},rt=hL(Jn),Lr={...C.PaperProps,...typeof C.slotProps?.paper=="function"?C.slotProps.paper(Jn):C.slotProps?.paper},Nr={...C.MenuListProps,...typeof C.slotProps?.list=="function"?C.slotProps.list(Jn):C.slotProps?.list},Xr=w0();return ne.jsxs(U.Fragment,{children:[ne.jsx(cL,{as:"div",ref:De,tabIndex:sn,role:"combobox","aria-controls":Ht?Xr:void 0,"aria-disabled":y?"true":void 0,"aria-expanded":Ht?"true":"false","aria-haspopup":"listbox","aria-label":s,"aria-labelledby":[E,It].filter(Boolean).join(" ")||void 0,"aria-describedby":r,"aria-required":_?"true":void 0,"aria-invalid":w?"true":void 0,onKeyDown:Wt,onMouseDown:y||G?null:ke,onBlur:Ze,onFocus:$,...B,ownerState:Jn,className:_e(B.className,rt.select,d),id:It,children:dL(Se)?S2||(S2=ne.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):Se}),ne.jsx(fL,{"aria-invalid":w,value:Array.isArray(F)?F.join(","):F,name:A,ref:te,"aria-hidden":!0,onChange:ze,tabIndex:-1,disabled:y,className:rt.nativeInput,autoFocus:a,required:_,...K,ownerState:Jn}),ne.jsx(uL,{as:v,className:rt.icon,ownerState:Jn}),ne.jsx(Wk,{id:`menu-${A||""}`,anchorEl:Le,open:Ht,onClose:Ye,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},...C,slotProps:{...C.slotProps,list:{"aria-labelledby":E,role:"listbox","aria-multiselectable":k?"true":void 0,disableListWrap:!0,id:Xr,...Nr},paper:{...Lr,style:{minWidth:jt,...Lr!=null?Lr.style:null}}},children:Zn})]})}),gL=t=>{const{classes:e}=t,r=nt({root:["root"]},zA,e);return{...e,...r}},L0={name:"MuiSelect",slot:"Root",shouldForwardProp:t=>kr(t)&&t!=="variant"},mL=pe(M0,L0)(""),yL=pe(k0,L0)(""),bL=pe(O0,L0)(""),FA=U.forwardRef(function(e,n){const r=vt({name:"MuiSelect",props:e}),{autoWidth:s=!1,children:a,classes:c={},className:f,defaultOpen:d=!1,displayEmpty:p=!1,IconComponent:g=mD,id:y,input:b,inputProps:w,label:v,labelId:S,MenuProps:E,multiple:C=!1,native:k=!1,onClose:A,onOpen:T,open:R,renderValue:I,SelectDisplayProps:$,variant:j="outlined",...P}=r,G=k?tL:pL,W=Ns(),_=Mo({props:r,muiFormControl:W,states:["variant","error"]}),B=_.variant||j,L={...r,variant:B,classes:c},N=gL(L),{root:M,...q}=N,K=b||{standard:ne.jsx(mL,{ownerState:L}),outlined:ne.jsx(yL,{label:v,ownerState:L}),filled:ne.jsx(bL,{ownerState:L})}[B],F=Qn(n,yu(K));return ne.jsx(U.Fragment,{children:U.cloneElement(K,{inputComponent:G,inputProps:{children:a,error:_.error,IconComponent:g,variant:B,type:void 0,multiple:C,...k?{id:y}:{autoWidth:s,defaultOpen:d,displayEmpty:p,labelId:S,MenuProps:E,onClose:A,onOpen:T,open:R,renderValue:I,SelectDisplayProps:{id:y,...$}},...w,classes:w?Nn(q,w.classes):q,...b?b.props.inputProps:{}},...(C&&k||p)&&B==="outlined"?{notched:!0}:{},ref:F,className:_e(K.props.className,f,N.root),...!b&&{variant:B},...P})})});FA.muiName="Select";function vL(t){return tt("MuiSwitch",t)}const In=ft("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]),wL=t=>{const{classes:e,edge:n,size:r,color:s,checked:a,disabled:c}=t,f={root:["root",n&&`edge${Ee(n)}`,`size${Ee(r)}`],switchBase:["switchBase",`color${Ee(s)}`,a&&"checked",c&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},d=nt(f,vL,e);return{...e,...d}},SL=pe("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.edge&&e[`edge${Ee(n.edge)}`],e[`size${Ee(n.size)}`]]}})({display:"inline-flex",width:58,height:38,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"},variants:[{props:{edge:"start"},style:{marginLeft:-8}},{props:{edge:"end"},style:{marginRight:-8}},{props:{size:"small"},style:{width:40,height:24,padding:7,[`& .${In.thumb}`]:{width:16,height:16},[`& .${In.switchBase}`]:{padding:4,[`&.${In.checked}`]:{transform:"translateX(16px)"}}}}]}),EL=pe(ID,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.switchBase,{[`& .${In.input}`]:e.input},n.color!=="default"&&e[`color${Ee(n.color)}`]]}})(ut(({theme:t})=>({position:"absolute",top:0,left:0,zIndex:1,color:t.vars?t.vars.palette.Switch.defaultColor:`${t.palette.mode==="light"?t.palette.common.white:t.palette.grey[300]}`,transition:t.transitions.create(["left","transform"],{duration:t.transitions.duration.shortest}),[`&.${In.checked}`]:{transform:"translateX(20px)"},[`&.${In.disabled}`]:{color:t.vars?t.vars.palette.Switch.defaultDisabledColor:`${t.palette.mode==="light"?t.palette.grey[100]:t.palette.grey[600]}`},[`&.${In.checked} + .${In.track}`]:{opacity:.5},[`&.${In.disabled} + .${In.track}`]:{opacity:t.vars?t.vars.opacity.switchTrackDisabled:`${t.palette.mode==="light"?.12:.2}`},[`& .${In.input}`]:{left:"-100%",width:"300%"}})),ut(({theme:t})=>({"&:hover":{backgroundColor:t.alpha((t.vars||t).palette.action.active,(t.vars||t).palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[...Object.entries(t.palette).filter(Ls(["light"])).map(([e])=>({props:{color:e},style:{[`&.${In.checked}`]:{color:(t.vars||t).palette[e].main,"&:hover":{backgroundColor:t.alpha((t.vars||t).palette[e].main,(t.vars||t).palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${In.disabled}`]:{color:t.vars?t.vars.palette.Switch[`${e}DisabledColor`]:`${t.palette.mode==="light"?t.lighten(t.palette[e].main,.62):t.darken(t.palette[e].main,.55)}`}},[`&.${In.checked} + .${In.track}`]:{backgroundColor:(t.vars||t).palette[e].main}}}))]}))),xL=pe("span",{name:"MuiSwitch",slot:"Track"})(ut(({theme:t})=>({height:"100%",width:"100%",borderRadius:14/2,zIndex:-1,transition:t.transitions.create(["opacity","background-color"],{duration:t.transitions.duration.shortest}),backgroundColor:t.vars?t.vars.palette.common.onBackground:`${t.palette.mode==="light"?t.palette.common.black:t.palette.common.white}`,opacity:t.vars?t.vars.opacity.switchTrack:`${t.palette.mode==="light"?.38:.3}`}))),CL=pe("span",{name:"MuiSwitch",slot:"Thumb"})(ut(({theme:t})=>({boxShadow:(t.vars||t).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"}))),AL=U.forwardRef(function(e,n){const r=vt({props:e,name:"MuiSwitch"}),{className:s,color:a="primary",edge:c=!1,size:f="medium",sx:d,slots:p={},slotProps:g={},...y}=r,b={...r,color:a,edge:c,size:f},w=wL(b),v={slots:p,slotProps:g},[S,E]=yt("root",{className:_e(w.root,s),elementType:SL,externalForwardedProps:v,ownerState:b,additionalProps:{sx:d}}),[C,k]=yt("thumb",{className:w.thumb,elementType:CL,externalForwardedProps:v,ownerState:b}),A=ne.jsx(C,{...k}),[T,R]=yt("track",{className:w.track,elementType:xL,externalForwardedProps:v,ownerState:b});return ne.jsxs(S,{...E,children:[ne.jsx(EL,{type:"checkbox",icon:A,checkedIcon:A,ref:n,ownerState:b,...y,classes:{...w,root:w.switchBase},slots:{...p.switchBase&&{root:p.switchBase},...p.input&&{input:p.input}},slotProps:{...g.switchBase&&{root:typeof g.switchBase=="function"?g.switchBase(b):g.switchBase},input:{role:"switch"},...g.input&&{input:typeof g.input=="function"?g.input(b):g.input}}}),ne.jsx(T,{...R})]})});function _L(t){return tt("MuiTab",t)}const wr=ft("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper","icon"]),TL=t=>{const{classes:e,textColor:n,fullWidth:r,wrapped:s,icon:a,label:c,selected:f,disabled:d}=t,p={root:["root",a&&c&&"labelIcon",`textColor${Ee(n)}`,r&&"fullWidth",s&&"wrapped",f&&"selected",d&&"disabled"],icon:["iconWrapper","icon"]};return nt(p,_L,e)},RL=pe(Yh,{name:"MuiTab",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.label&&n.icon&&e.labelIcon,e[`textColor${Ee(n.textColor)}`],n.fullWidth&&e.fullWidth,n.wrapped&&e.wrapped,{[`& .${wr.iconWrapper}`]:e.iconWrapper},{[`& .${wr.icon}`]:e.icon}]}})(ut(({theme:t})=>({...t.typography.button,maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center",lineHeight:1.25,variants:[{props:({ownerState:e})=>e.label&&(e.iconPosition==="top"||e.iconPosition==="bottom"),style:{flexDirection:"column"}},{props:({ownerState:e})=>e.label&&e.iconPosition!=="top"&&e.iconPosition!=="bottom",style:{flexDirection:"row"}},{props:({ownerState:e})=>e.icon&&e.label,style:{minHeight:72,paddingTop:9,paddingBottom:9}},{props:({ownerState:e,iconPosition:n})=>e.icon&&e.label&&n==="top",style:{[`& > .${wr.icon}`]:{marginBottom:6}}},{props:({ownerState:e,iconPosition:n})=>e.icon&&e.label&&n==="bottom",style:{[`& > .${wr.icon}`]:{marginTop:6}}},{props:({ownerState:e,iconPosition:n})=>e.icon&&e.label&&n==="start",style:{[`& > .${wr.icon}`]:{marginRight:t.spacing(1)}}},{props:({ownerState:e,iconPosition:n})=>e.icon&&e.label&&n==="end",style:{[`& > .${wr.icon}`]:{marginLeft:t.spacing(1)}}},{props:{textColor:"inherit"},style:{color:"inherit",opacity:.6,[`&.${wr.selected}`]:{opacity:1},[`&.${wr.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity}}},{props:{textColor:"primary"},style:{color:(t.vars||t).palette.text.secondary,[`&.${wr.selected}`]:{color:(t.vars||t).palette.primary.main},[`&.${wr.disabled}`]:{color:(t.vars||t).palette.text.disabled}}},{props:{textColor:"secondary"},style:{color:(t.vars||t).palette.text.secondary,[`&.${wr.selected}`]:{color:(t.vars||t).palette.secondary.main},[`&.${wr.disabled}`]:{color:(t.vars||t).palette.text.disabled}}},{props:({ownerState:e})=>e.fullWidth,style:{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"}},{props:({ownerState:e})=>e.wrapped,style:{fontSize:t.typography.pxToRem(12)}}]}))),Zm=U.forwardRef(function(e,n){const r=vt({props:e,name:"MuiTab"}),{className:s,disabled:a=!1,disableFocusRipple:c=!1,fullWidth:f,icon:d,iconPosition:p="top",indicator:g,label:y,onChange:b,onClick:w,onFocus:v,selected:S,selectionFollowsFocus:E,textColor:C="inherit",value:k,wrapped:A=!1,...T}=r,R={...r,disabled:a,disableFocusRipple:c,selected:S,icon:!!d,iconPosition:p,label:!!y,fullWidth:f,textColor:C,wrapped:A},I=TL(R),$=d&&y&&U.isValidElement(d)?U.cloneElement(d,{className:_e(I.icon,d.props.className)}):d,j=G=>{!S&&b&&b(G,k),w&&w(G)},P=G=>{E&&!S&&b&&b(G,k),v&&v(G)};return ne.jsxs(RL,{focusRipple:!c,className:_e(I.root,s),ref:n,role:"tab","aria-selected":S,disabled:a,onClick:j,onFocus:P,ownerState:R,tabIndex:S?0:-1,...T,children:[p==="top"||p==="start"?ne.jsxs(U.Fragment,{children:[$,y]}):ne.jsxs(U.Fragment,{children:[y,$]}),g]})}),OL=x0(ne.jsx("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"})),ML=x0(ne.jsx("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}));function DL(t){return(1+Math.sin(Math.PI*t-Math.PI/2))/2}function kL(t,e,n,r={},s=()=>{}){const{ease:a=DL,duration:c=300}=r;let f=null;const d=e[t];let p=!1;const g=()=>{p=!0},y=b=>{if(p){s(new Error("Animation cancelled"));return}f===null&&(f=b);const w=Math.min(1,(b-f)/c);if(e[t]=a(w)*(n-d)+d,w>=1){requestAnimationFrame(()=>{s(null)});return}requestAnimationFrame(y)};return d===n?(s(new Error("Element already at target position")),g):(requestAnimationFrame(y),g)}const LL={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};function NL(t){const{onChange:e,...n}=t,r=U.useRef(),s=U.useRef(null),a=()=>{r.current=s.current.offsetHeight-s.current.clientHeight};return Ms(()=>{const c=Gh(()=>{const d=r.current;a(),d!==r.current&&e(r.current)}),f=Gr(s.current);return f.addEventListener("resize",c),()=>{c.clear(),f.removeEventListener("resize",c)}},[e]),U.useEffect(()=>{a(),e(r.current)},[e]),ne.jsx("div",{style:LL,...n,ref:s})}function BL(t){return tt("MuiTabScrollButton",t)}const IL=ft("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),PL=t=>{const{classes:e,orientation:n,disabled:r}=t;return nt({root:["root",n,r&&"disabled"]},BL,e)},$L=pe(Yh,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.orientation&&e[n.orientation]]}})({width:40,flexShrink:0,opacity:.8,[`&.${IL.disabled}`]:{opacity:0},variants:[{props:{orientation:"vertical"},style:{width:"100%",height:40,"& svg":{transform:"var(--TabScrollButton-svgRotate)"}}}]}),UL=U.forwardRef(function(e,n){const r=vt({props:e,name:"MuiTabScrollButton"}),{className:s,slots:a={},slotProps:c={},direction:f,orientation:d,disabled:p,...g}=r,y=v0(),b={isRtl:y,...r},w=PL(b),v=a.StartScrollButtonIcon??OL,S=a.EndScrollButtonIcon??ML,E=Qc({elementType:v,externalSlotProps:c.startScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:b}),C=Qc({elementType:S,externalSlotProps:c.endScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:b});return ne.jsx($L,{component:"div",className:_e(w.root,s),ref:n,role:null,ownerState:b,tabIndex:null,...g,style:{...g.style,...d==="vertical"&&{"--TabScrollButton-svgRotate":`rotate(${y?-90:90}deg)`}},children:f==="left"?ne.jsx(v,{...E}):ne.jsx(S,{...C})})});function zL(t){return tt("MuiTabs",t)}const Jm=ft("MuiTabs",["root","vertical","list","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]),x2=(t,e)=>t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:t.firstChild,C2=(t,e)=>t===e?t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:t.lastChild,nd=(t,e,n)=>{let r=!1,s=n(t,e);for(;s;){if(s===t.firstChild){if(r)return;r=!0}const a=s.disabled||s.getAttribute("aria-disabled")==="true";if(!s.hasAttribute("tabindex")||a)s=n(t,s);else{s.focus();return}}},FL=t=>{const{vertical:e,fixed:n,hideScrollbar:r,scrollableX:s,scrollableY:a,centered:c,scrollButtonsHideMobile:f,classes:d}=t;return nt({root:["root",e&&"vertical"],scroller:["scroller",n&&"fixed",r&&"hideScrollbar",s&&"scrollableX",a&&"scrollableY"],list:["list","flexContainer",e&&"flexContainerVertical",e&&"vertical",c&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",f&&"scrollButtonsHideMobile"],scrollableX:[s&&"scrollableX"],hideScrollbar:[r&&"hideScrollbar"]},zL,d)},qL=pe("div",{name:"MuiTabs",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${Jm.scrollButtons}`]:e.scrollButtons},{[`& .${Jm.scrollButtons}`]:n.scrollButtonsHideMobile&&e.scrollButtonsHideMobile},e.root,n.vertical&&e.vertical]}})(ut(({theme:t})=>({overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex",variants:[{props:({ownerState:e})=>e.vertical,style:{flexDirection:"column"}},{props:({ownerState:e})=>e.scrollButtonsHideMobile,style:{[`& .${Jm.scrollButtons}`]:{[t.breakpoints.down("sm")]:{display:"none"}}}}]}))),HL=pe("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.scroller,n.fixed&&e.fixed,n.hideScrollbar&&e.hideScrollbar,n.scrollableX&&e.scrollableX,n.scrollableY&&e.scrollableY]}})({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap",variants:[{props:({ownerState:t})=>t.fixed,style:{overflowX:"hidden",width:"100%"}},{props:({ownerState:t})=>t.hideScrollbar,style:{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}},{props:({ownerState:t})=>t.scrollableX,style:{overflowX:"auto",overflowY:"hidden"}},{props:({ownerState:t})=>t.scrollableY,style:{overflowY:"auto",overflowX:"hidden"}}]}),jL=pe("div",{name:"MuiTabs",slot:"List",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.list,e.flexContainer,n.vertical&&e.flexContainerVertical,n.centered&&e.centered]}})({display:"flex",variants:[{props:({ownerState:t})=>t.vertical,style:{flexDirection:"column"}},{props:({ownerState:t})=>t.centered,style:{justifyContent:"center"}}]}),VL=pe("span",{name:"MuiTabs",slot:"Indicator"})(ut(({theme:t})=>({position:"absolute",height:2,bottom:0,width:"100%",transition:t.transitions.create(),variants:[{props:{indicatorColor:"primary"},style:{backgroundColor:(t.vars||t).palette.primary.main}},{props:{indicatorColor:"secondary"},style:{backgroundColor:(t.vars||t).palette.secondary.main}},{props:({ownerState:e})=>e.vertical,style:{height:"100%",width:2,right:0}}]}))),KL=pe(NL)({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),A2={},GL=U.forwardRef(function(e,n){const r=vt({props:e,name:"MuiTabs"}),s=Kh(),a=v0(),{"aria-label":c,"aria-labelledby":f,action:d,centered:p=!1,children:g,className:y,component:b="div",allowScrollButtonsMobile:w=!1,indicatorColor:v="primary",onChange:S,orientation:E="horizontal",ScrollButtonComponent:C,scrollButtons:k="auto",selectionFollowsFocus:A,slots:T={},slotProps:R={},TabIndicatorProps:I={},TabScrollButtonProps:$={},textColor:j="primary",value:P,variant:G="standard",visibleScrollbar:W=!1,..._}=r,B=G==="scrollable",L=E==="vertical",N=L?"scrollTop":"scrollLeft",M=L?"top":"left",q=L?"bottom":"right",K=L?"clientHeight":"clientWidth",F=L?"height":"width",D={...r,component:b,allowScrollButtonsMobile:w,indicatorColor:v,orientation:E,vertical:L,scrollButtons:k,textColor:j,variant:G,visibleScrollbar:W,fixed:!B,hideScrollbar:B&&!W,scrollableX:B&&!L,scrollableY:B&&L,centered:p&&!B,scrollButtonsHideMobile:!w},H=FL(D),Q=Qc({elementType:T.StartScrollButtonIcon,externalSlotProps:R.startScrollButtonIcon,ownerState:D}),te=Qc({elementType:T.EndScrollButtonIcon,externalSlotProps:R.endScrollButtonIcon,ownerState:D}),[ae,se]=U.useState(!1),[le,ge]=U.useState(A2),[he,fe]=U.useState(!1),[de,De]=U.useState(!1),[Le,wt]=U.useState(!1),[ke,Ye]=U.useState({overflow:"hidden",scrollbarWidth:0}),rn=new Map,ze=U.useRef(null),dt=U.useRef(null),Wt={slots:T,slotProps:{indicator:I,scrollButton:$,...R}},Ht=()=>{const me=ze.current;let ve;if(me){const Me=me.getBoundingClientRect();ve={clientWidth:me.clientWidth,scrollLeft:me.scrollLeft,scrollTop:me.scrollTop,scrollWidth:me.scrollWidth,top:Me.top,bottom:Me.bottom,left:Me.left,right:Me.right}}let Oe;if(me&&P!==!1){const Me=dt.current.children;if(Me.length>0){const St=Me[rn.get(P)];Oe=St?St.getBoundingClientRect():null}}return{tabsMeta:ve,tabMeta:Oe}},Ze=ui(()=>{const{tabsMeta:me,tabMeta:ve}=Ht();let Oe=0,Me;L?(Me="top",ve&&me&&(Oe=ve.top-me.top+me.scrollTop)):(Me=a?"right":"left",ve&&me&&(Oe=(a?-1:1)*(ve[Me]-me[Me]+me.scrollLeft)));const St={[Me]:Oe,[F]:ve?ve[F]:0};if(typeof le[Me]!="number"||typeof le[F]!="number")ge(St);else{const Fn=Math.abs(le[Me]-St[Me]),vi=Math.abs(le[F]-St[F]);(Fn>=1||vi>=1)&&ge(St)}}),Se=(me,{animation:ve=!0}={})=>{ve?kL(N,ze.current,me,{duration:s.transitions.duration.standard}):ze.current[N]=me},zn=me=>{let ve=ze.current[N];L?ve+=me:ve+=me*(a?-1:1),Se(ve)},Bt=()=>{const me=ze.current[K];let ve=0;const Oe=Array.from(dt.current.children);for(let Me=0;Me<Oe.length;Me+=1){const St=Oe[Me];if(ve+St[K]>me){Me===0&&(ve=me);break}ve+=St[K]}return ve},Yr=()=>{zn(-1*Bt())},Zn=()=>{zn(Bt())},[jt,{onChange:sn,...It}]=yt("scrollbar",{className:_e(H.scrollableX,H.hideScrollbar),elementType:KL,shouldForwardComponentProp:!0,externalForwardedProps:Wt,ownerState:D}),Jn=U.useCallback(me=>{sn?.(me),Ye({overflow:null,scrollbarWidth:me})},[sn]),[rt,Lr]=yt("scrollButtons",{className:_e(H.scrollButtons,$.className),elementType:UL,externalForwardedProps:Wt,ownerState:D,additionalProps:{orientation:E,slots:{StartScrollButtonIcon:T.startScrollButtonIcon||T.StartScrollButtonIcon,EndScrollButtonIcon:T.endScrollButtonIcon||T.EndScrollButtonIcon},slotProps:{startScrollButtonIcon:Q,endScrollButtonIcon:te}}}),Nr=()=>{const me={};me.scrollbarSizeListener=B?ne.jsx(jt,{...It,onChange:Jn}):null;const Oe=B&&(k==="auto"&&(he||de)||k===!0);return me.scrollButtonStart=Oe?ne.jsx(rt,{direction:a?"right":"left",onClick:Yr,disabled:!he,...Lr}):null,me.scrollButtonEnd=Oe?ne.jsx(rt,{direction:a?"left":"right",onClick:Zn,disabled:!de,...Lr}):null,me},Xr=ui(me=>{const{tabsMeta:ve,tabMeta:Oe}=Ht();if(!(!Oe||!ve)){if(Oe[M]<ve[M]){const Me=ve[N]+(Oe[M]-ve[M]);Se(Me,{animation:me})}else if(Oe[q]>ve[q]){const Me=ve[N]+(Oe[q]-ve[q]);Se(Me,{animation:me})}}}),be=ui(()=>{B&&k!==!1&&wt(!Le)});U.useEffect(()=>{const me=Gh(()=>{ze.current&&Ze()});let ve;const Oe=Fn=>{Fn.forEach(vi=>{vi.removedNodes.forEach(Is=>{ve?.unobserve(Is)}),vi.addedNodes.forEach(Is=>{ve?.observe(Is)})}),me(),be()},Me=Gr(ze.current);Me.addEventListener("resize",me);let St;return typeof ResizeObserver<"u"&&(ve=new ResizeObserver(me),Array.from(dt.current.children).forEach(Fn=>{ve.observe(Fn)})),typeof MutationObserver<"u"&&(St=new MutationObserver(Oe),St.observe(dt.current,{childList:!0})),()=>{me.clear(),Me.removeEventListener("resize",me),St?.disconnect(),ve?.disconnect()}},[Ze,be]),U.useEffect(()=>{const me=Array.from(dt.current.children),ve=me.length;if(typeof IntersectionObserver<"u"&&ve>0&&B&&k!==!1){const Oe=me[0],Me=me[ve-1],St={root:ze.current,threshold:.99},Fn=wi=>{fe(!wi[0].isIntersecting)},vi=new IntersectionObserver(Fn,St);vi.observe(Oe);const Is=wi=>{De(!wi[0].isIntersecting)},vl=new IntersectionObserver(Is,St);return vl.observe(Me),()=>{vi.disconnect(),vl.disconnect()}}},[B,k,Le,g?.length]),U.useEffect(()=>{se(!0)},[]),U.useEffect(()=>{Ze()}),U.useEffect(()=>{Xr(A2!==le)},[Xr,le]),U.useImperativeHandle(d,()=>({updateIndicator:Ze,updateScrollButtons:be}),[Ze,be]);const[je,At]=yt("indicator",{className:_e(H.indicator,I.className),elementType:VL,externalForwardedProps:Wt,ownerState:D,additionalProps:{style:le}}),Br=ne.jsx(je,{...At});let Wr=0;const Bu=U.Children.map(g,me=>{if(!U.isValidElement(me))return null;const ve=me.props.value===void 0?Wr:me.props.value;rn.set(ve,Wr);const Oe=ve===P;return Wr+=1,U.cloneElement(me,{fullWidth:G==="fullWidth",indicator:Oe&&!ae&&Br,selected:Oe,selectionFollowsFocus:A,onChange:S,textColor:j,value:ve,...Wr===1&&P===!1&&!me.props.tabIndex?{tabIndex:0}:{}})}),ml=me=>{if(me.altKey||me.shiftKey||me.ctrlKey||me.metaKey)return;const ve=dt.current,Oe=Or(ve).activeElement;if(Oe.getAttribute("role")!=="tab")return;let St=E==="horizontal"?"ArrowLeft":"ArrowUp",Fn=E==="horizontal"?"ArrowRight":"ArrowDown";switch(E==="horizontal"&&a&&(St="ArrowRight",Fn="ArrowLeft"),me.key){case St:me.preventDefault(),nd(ve,Oe,C2);break;case Fn:me.preventDefault(),nd(ve,Oe,x2);break;case"Home":me.preventDefault(),nd(ve,null,x2);break;case"End":me.preventDefault(),nd(ve,null,C2);break}},bi=Nr(),[_p,Iu]=yt("root",{ref:n,className:_e(H.root,y),elementType:qL,externalForwardedProps:{...Wt,..._,component:b},ownerState:D}),[Pu,yl]=yt("scroller",{ref:ze,className:H.scroller,elementType:HL,externalForwardedProps:Wt,ownerState:D,additionalProps:{style:{overflow:ke.overflow,[L?`margin${a?"Left":"Right"}`:"marginBottom"]:W?void 0:-ke.scrollbarWidth}}}),[bl,$u]=yt("list",{ref:dt,className:_e(H.list,H.flexContainer),elementType:jL,externalForwardedProps:Wt,ownerState:D,getSlotProps:me=>({...me,onKeyDown:ve=>{ml(ve),me.onKeyDown?.(ve)}})});return ne.jsxs(_p,{...Iu,children:[bi.scrollButtonStart,bi.scrollbarSizeListener,ne.jsxs(Pu,{...yl,children:[ne.jsx(bl,{"aria-label":c,"aria-labelledby":f,"aria-orientation":E==="vertical"?"vertical":null,role:"tablist",...$u,children:Bu}),ae&&Br]}),bi.scrollButtonEnd]})});function YL(t){return tt("MuiTextField",t)}ft("MuiTextField",["root"]);const XL={standard:M0,filled:O0,outlined:k0},WL=t=>{const{classes:e}=t;return nt({root:["root"]},YL,e)},QL=pe(uk,{name:"MuiTextField",slot:"Root"})({}),ZL=U.forwardRef(function(e,n){const r=vt({props:e,name:"MuiTextField"}),{autoComplete:s,autoFocus:a=!1,children:c,className:f,color:d="primary",defaultValue:p,disabled:g=!1,error:y=!1,FormHelperTextProps:b,fullWidth:w=!1,helperText:v,id:S,InputLabelProps:E,inputProps:C,InputProps:k,inputRef:A,label:T,maxRows:R,minRows:I,multiline:$=!1,name:j,onBlur:P,onChange:G,onFocus:W,placeholder:_,required:B=!1,rows:L,select:N=!1,SelectProps:M,slots:q={},slotProps:K={},type:F,value:D,variant:H="outlined",...Q}=r,te={...r,autoFocus:a,color:d,disabled:g,error:y,fullWidth:w,multiline:$,required:B,select:N,variant:H},ae=WL(te),se=w0(S),le=v&&se?`${se}-helper-text`:void 0,ge=T&&se?`${se}-label`:void 0,he=XL[H],fe={slots:q,slotProps:{input:k,inputLabel:E,htmlInput:C,formHelperText:b,select:M,...K}},de={},De=fe.slotProps.inputLabel;H==="outlined"&&(De&&typeof De.shrink<"u"&&(de.notched=De.shrink),de.label=T),N&&((!M||!M.native)&&(de.id=void 0),de["aria-describedby"]=void 0);const[Le,wt]=yt("root",{elementType:QL,shouldForwardComponentProp:!0,externalForwardedProps:{...fe,...Q},ownerState:te,className:_e(ae.root,f),ref:n,additionalProps:{disabled:g,error:y,fullWidth:w,required:B,color:d,variant:H}}),[ke,Ye]=yt("input",{elementType:he,externalForwardedProps:fe,additionalProps:de,ownerState:te}),[rn,ze]=yt("inputLabel",{elementType:kk,externalForwardedProps:fe,ownerState:te}),[dt,Wt]=yt("htmlInput",{elementType:"input",externalForwardedProps:fe,ownerState:te}),[Ht,Ze]=yt("formHelperText",{elementType:vk,externalForwardedProps:fe,ownerState:te}),[Se,zn]=yt("select",{elementType:FA,externalForwardedProps:fe,ownerState:te}),Bt=ne.jsx(ke,{"aria-describedby":le,autoComplete:s,autoFocus:a,defaultValue:p,fullWidth:w,multiline:$,name:j,rows:L,maxRows:R,minRows:I,type:F,value:D,id:se,inputRef:A,onBlur:P,onChange:G,onFocus:W,placeholder:_,inputProps:Wt,slots:{input:q.htmlInput?dt:void 0},...Ye});return ne.jsxs(Le,{...wt,children:[T!=null&&T!==""&&ne.jsx(rn,{htmlFor:se,id:ge,...ze,children:T}),N?ne.jsx(Se,{"aria-describedby":le,id:se,labelId:ge,value:D,input:Bt,...zn,children:c}):Bt,v&&ne.jsx(Ht,{id:le,...Ze,children:v})]})});function JL(){const[t,e]=U.useState(""),[n,r]=U.useState(""),[s,a]=U.useState(!1);async function c(){a(!0),r("Enviando solicitud...");const d={from_address:(await window.ethereum.request({method:"eth_requestAccounts"}))[0],amount:parseFloat(t)},g=await(await fetch("https://5470blockchain.es/join",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(d)})).json();g.status==="waiting"?r(`Esperando ${g.current}/${g.needed} participantes`):g.status==="ready"?r("Pool listo. RawTx recibida. Firma y enva a /tx."):r("Error en CoinJoin"),a(!1)}return ne.jsxs("div",{style:{margin:"2rem"},children:[ne.jsx(Ka,{variant:"h5",children:"Chaumian CoinJoin"}),ne.jsx(ZL,{label:"Cantidad",value:t,onChange:f=>e(f.target.value),type:"number",fullWidth:!0,margin:"normal"}),ne.jsx(DD,{variant:"contained",onClick:c,disabled:s,children:s?ne.jsx(LA,{size:24}):"Unirse al pool"}),n&&ne.jsx(Ka,{style:{marginTop:"1rem"},children:n})]})}const eN=Symbol.for("@libp2p/connection"),_2=Symbol.for("@libp2p/content-routing"),T2=Symbol.for("@libp2p/peer-discovery"),N0=Symbol.for("@libp2p/peer-id");function Fc(t){return!!t?.[N0]}const R2=Symbol.for("@libp2p/peer-routing"),qA="keep-alive",tN=Symbol.for("@libp2p/transport");var Zc;(function(t){t[t.FATAL_ALL=0]="FATAL_ALL",t[t.NO_FATAL=1]="NO_FATAL"})(Zc||(Zc={}));let Ya=class extends Error{static name="AbortError";constructor(e="The operation was aborted"){super(e),this.name="AbortError"}};class nN extends Error{static name="UnexpectedPeerError";constructor(e="Unexpected Peer"){super(e),this.name="UnexpectedPeerError"}}let rN=class extends Error{static name="InvalidCryptoExchangeError";constructor(e="Invalid crypto exchange"){super(e),this.name="InvalidCryptoExchangeError"}},bt=class extends Error{static name="InvalidParametersError";constructor(e="Invalid parameters"){super(e),this.name="InvalidParametersError"}};class HA extends Error{static name="InvalidPublicKeyError";constructor(e="Invalid public key"){super(e),this.name="InvalidPublicKeyError"}}class iN extends Error{static name="ConnectionClosingError";constructor(e="The connection is closing"){super(e),this.name="ConnectionClosingError"}}class jA extends Error{static name="ConnectionClosedError";constructor(e="The connection is closed"){super(e),this.name="ConnectionClosedError"}}class sN extends Error{static name="ConnectionFailedError";constructor(e="Connection failed"){super(e),this.name="ConnectionFailedError"}}let yb=class extends Error{static name="NotFoundError";constructor(e="Not found"){super(e),this.name="NotFoundError"}};class VA extends Error{static name="InvalidPeerIdError";constructor(e="Invalid PeerID"){super(e),this.name="InvalidPeerIdError"}}let B0=class extends Error{static name="InvalidMultiaddrError";constructor(e="Invalid multiaddr"){super(e),this.name="InvalidMultiaddrError"}};class oN extends Error{static name="InvalidCIDError";constructor(e="Invalid CID"){super(e),this.name="InvalidCIDError"}}class aN extends Error{static name="InvalidMultihashError";constructor(e="Invalid Multihash"){super(e),this.name="InvalidMultihashError"}}class KA extends Error{static name="UnsupportedProtocolError";constructor(e="Unsupported protocol error"){super(e),this.name="UnsupportedProtocolError"}}class lN extends Error{static name="InvalidMessageError";constructor(e="Invalid message"){super(e),this.name="InvalidMessageError"}}let cN=class extends Error{static name="TimeoutError";constructor(e="Timed out"){super(e),this.name="TimeoutError"}};class Yd extends Error{static name="NotStartedError";constructor(e="Not started"){super(e),this.name="NotStartedError"}}class ey extends Error{static name="DialError";constructor(e="Dial error"){super(e),this.name="DialError"}}class GA extends Error{static name="LimitedConnectionError";constructor(e="Limited connection"){super(e),this.name="LimitedConnectionError"}}class uN extends Error{static name="TooManyInboundProtocolStreamsError";constructor(e="Too many inbound protocol streams"){super(e),this.name="TooManyInboundProtocolStreamsError"}}class fN extends Error{static name="TooManyOutboundProtocolStreamsError";constructor(e="Too many outbound protocol streams"){super(e),this.name="TooManyOutboundProtocolStreamsError"}}class I0 extends Error{static name="UnsupportedKeyTypeError";constructor(e="Unsupported key type"){super(e),this.name="UnsupportedKeyTypeError"}}class Xa extends EventTarget{#e=new Map;constructor(){super()}listenerCount(e){const n=this.#e.get(e);return n==null?0:n.length}addEventListener(e,n,r){super.addEventListener(e,n,r);let s=this.#e.get(e);s==null&&(s=[],this.#e.set(e,s)),s.push({callback:n,once:(r!==!0&&r!==!1&&r?.once)??!1})}removeEventListener(e,n,r){super.removeEventListener(e.toString(),n??null,r);let s=this.#e.get(e);s!=null&&(s=s.filter(({callback:a})=>a!==n),this.#e.set(e,s))}dispatchEvent(e){const n=super.dispatchEvent(e);let r=this.#e.get(e.type);return r==null||(r=r.filter(({once:s})=>!s),this.#e.set(e.type,r)),n}safeDispatchEvent(e,n={}){return this.dispatchEvent(new CustomEvent(e,n))}}function P0(t){return t!=null&&typeof t.start=="function"&&typeof t.stop=="function"}async function dN(...t){const e=[];for(const n of t)P0(n)&&e.push(n);await Promise.all(e.map(async n=>{n.beforeStart!=null&&await n.beforeStart()})),await Promise.all(e.map(async n=>{await n.start()})),await Promise.all(e.map(async n=>{n.afterStart!=null&&await n.afterStart()}))}async function hN(...t){const e=[];for(const n of t)P0(n)&&e.push(n);await Promise.all(e.map(async n=>{n.beforeStop!=null&&await n.beforeStop()})),await Promise.all(e.map(async n=>{await n.stop()})),await Promise.all(e.map(async n=>{n.afterStop!=null&&await n.afterStop()}))}const Jc=Symbol.for("@libp2p/service-capabilities"),O2=Symbol.for("@libp2p/service-dependencies");function pN(t,e){if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let n=0;n<t.byteLength;n++)if(t[n]!==e[n])return!1;return!0}function Jh(t){if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")}function gN(t){return new TextEncoder().encode(t)}function mN(t){return new TextDecoder().decode(t)}function yN(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var s=0;s<t.length;s++){var a=t.charAt(s),c=a.charCodeAt(0);if(n[c]!==255)throw new TypeError(a+" is ambiguous");n[c]=s}var f=t.length,d=t.charAt(0),p=Math.log(f)/Math.log(256),g=Math.log(256)/Math.log(f);function y(v){if(v instanceof Uint8Array||(ArrayBuffer.isView(v)?v=new Uint8Array(v.buffer,v.byteOffset,v.byteLength):Array.isArray(v)&&(v=Uint8Array.from(v))),!(v instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(v.length===0)return"";for(var S=0,E=0,C=0,k=v.length;C!==k&&v[C]===0;)C++,S++;for(var A=(k-C)*g+1>>>0,T=new Uint8Array(A);C!==k;){for(var R=v[C],I=0,$=A-1;(R!==0||I<E)&&$!==-1;$--,I++)R+=256*T[$]>>>0,T[$]=R%f>>>0,R=R/f>>>0;if(R!==0)throw new Error("Non-zero carry");E=I,C++}for(var j=A-E;j!==A&&T[j]===0;)j++;for(var P=d.repeat(S);j<A;++j)P+=t.charAt(T[j]);return P}function b(v){if(typeof v!="string")throw new TypeError("Expected String");if(v.length===0)return new Uint8Array;var S=0;if(v[S]!==" "){for(var E=0,C=0;v[S]===d;)E++,S++;for(var k=(v.length-S)*p+1>>>0,A=new Uint8Array(k);v[S];){var T=n[v.charCodeAt(S)];if(T===255)return;for(var R=0,I=k-1;(T!==0||R<C)&&I!==-1;I--,R++)T+=f*A[I]>>>0,A[I]=T%256>>>0,T=T/256>>>0;if(T!==0)throw new Error("Non-zero carry");C=R,S++}if(v[S]!==" "){for(var $=k-C;$!==k&&A[$]===0;)$++;for(var j=new Uint8Array(E+(k-$)),P=E;$!==k;)j[P++]=A[$++];return j}}}function w(v){var S=b(v);if(S)return S;throw new Error(`Non-${e} character`)}return{encode:y,decodeUnsafe:b,decode:w}}var bN=yN,vN=bN;let wN=class{name;prefix;baseEncode;constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},SN=class{name;prefix;baseDecode;prefixCodePoint;constructor(e,n,r){this.name=e,this.prefix=n;const s=n.codePointAt(0);if(s===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=s,this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return YA(this,e)}},EN=class{decoders;constructor(e){this.decoders=e}or(e){return YA(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r!=null)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};function YA(t,e){return new EN({...t.decoders??{[t.prefix]:t},...e.decoders??{[e.prefix]:e}})}let xN=class{name;prefix;baseEncode;baseDecode;encoder;decoder;constructor(e,n,r,s){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=s,this.encoder=new wN(e,n,r),this.decoder=new SN(e,n,s)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}};function ep({name:t,prefix:e,encode:n,decode:r}){return new xN(t,e,n,r)}function bu({name:t,prefix:e,alphabet:n}){const{encode:r,decode:s}=vN(n,t);return ep({prefix:e,name:t,encode:r,decode:a=>Jh(s(a))})}function CN(t,e,n,r){let s=t.length;for(;t[s-1]==="=";)--s;const a=new Uint8Array(s*n/8|0);let c=0,f=0,d=0;for(let p=0;p<s;++p){const g=e[t[p]];if(g===void 0)throw new SyntaxError(`Non-${r} character`);f=f<<n|g,c+=n,c>=8&&(c-=8,a[d++]=255&f>>c)}if(c>=n||(255&f<<8-c)!==0)throw new SyntaxError("Unexpected end of data");return a}function AN(t,e,n){const r=e[e.length-1]==="=",s=(1<<n)-1;let a="",c=0,f=0;for(let d=0;d<t.length;++d)for(f=f<<8|t[d],c+=8;c>n;)c-=n,a+=e[s&f>>c];if(c!==0&&(a+=e[s&f<<n-c]),r)for(;(a.length*n&7)!==0;)a+="=";return a}function _N(t){const e={};for(let n=0;n<t.length;++n)e[t[n]]=n;return e}function wn({name:t,prefix:e,bitsPerChar:n,alphabet:r}){const s=_N(r);return ep({prefix:e,name:t,encode(a){return AN(a,r,n)},decode(a){return CN(a,s,n,t)}})}const dn=bu({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),TN=bu({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),RN=Object.freeze(Object.defineProperty({__proto__:null,base58btc:dn,base58flickr:TN},Symbol.toStringTag,{value:"Module"})),_s=wn({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),ON=wn({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),MN=wn({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),DN=wn({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),kN=wn({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),LN=wn({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),NN=wn({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),BN=wn({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),IN=wn({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),PN=Object.freeze(Object.defineProperty({__proto__:null,base32:_s,base32hex:kN,base32hexpad:NN,base32hexpadupper:BN,base32hexupper:LN,base32pad:MN,base32padupper:DN,base32upper:ON,base32z:IN},Symbol.toStringTag,{value:"Module"})),kd=bu({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),$N=bu({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),UN=Object.freeze(Object.defineProperty({__proto__:null,base36:kd,base36upper:$N},Symbol.toStringTag,{value:"Module"}));var zN=XA,M2=128,FN=-128,qN=Math.pow(2,31);function XA(t,e,n){e=e||[],n=n||0;for(var r=n;t>=qN;)e[n++]=t&255|M2,t/=128;for(;t&FN;)e[n++]=t&255|M2,t>>>=7;return e[n]=t|0,XA.bytes=n-r+1,e}var HN=bb,jN=128,D2=127;function bb(t,r){var n=0,r=r||0,s=0,a=r,c,f=t.length;do{if(a>=f)throw bb.bytes=0,new RangeError("Could not decode varint");c=t[a++],n+=s<28?(c&D2)<<s:(c&D2)*Math.pow(2,s),s+=7}while(c>=jN);return bb.bytes=a-r,n}var VN=Math.pow(2,7),KN=Math.pow(2,14),GN=Math.pow(2,21),YN=Math.pow(2,28),XN=Math.pow(2,35),WN=Math.pow(2,42),QN=Math.pow(2,49),ZN=Math.pow(2,56),JN=Math.pow(2,63),eB=function(t){return t<VN?1:t<KN?2:t<GN?3:t<YN?4:t<XN?5:t<WN?6:t<QN?7:t<ZN?8:t<JN?9:10},tB={encode:zN,decode:HN,encodingLength:eB},Xd=tB;function vb(t,e=0){return[Xd.decode(t,e),Xd.decode.bytes]}function Wd(t,e,n=0){return Xd.encode(t,e,n),e}function Qd(t){return Xd.encodingLength(t)}function tp(t,e){const n=e.byteLength,r=Qd(t),s=r+Qd(n),a=new Uint8Array(s+n);return Wd(t,a,0),Wd(n,a,r),a.set(e,s),new $0(t,n,e,a)}function np(t){const e=Jh(t),[n,r]=vb(e),[s,a]=vb(e.subarray(r)),c=e.subarray(r+a);if(c.byteLength!==s)throw new Error("Incorrect length");return new $0(n,s,c,e)}function nB(t,e){if(t===e)return!0;{const n=e;return t.code===n.code&&t.size===n.size&&n.bytes instanceof Uint8Array&&pN(t.bytes,n.bytes)}}let $0=class{code;size;digest;bytes;constructor(e,n,r,s){this.code=e,this.size=n,this.digest=r,this.bytes=s}};function k2(t,e){const{bytes:n,version:r}=t;switch(r){case 0:return iB(n,wb(t),e??dn.encoder);default:return sB(n,wb(t),e??_s.encoder)}}const L2=new WeakMap;function wb(t){const e=L2.get(t);if(e==null){const n=new Map;return L2.set(t,n),n}return e}let yi=class Rn{code;version;multihash;bytes;"/";constructor(e,n,r,s){this.code=n,this.version=e,this.multihash=r,this.bytes=s,this["/"]=s}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{const{code:e,multihash:n}=this;if(e!==wc)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(n.code!==oB)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return Rn.createV0(n)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{const{code:e,digest:n}=this.multihash,r=tp(e,n);return Rn.createV1(this.code,r)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(e){return Rn.equals(this,e)}static equals(e,n){const r=n;return r!=null&&e.code===r.code&&e.version===r.version&&nB(e.multihash,r.multihash)}toString(e){return k2(this,e)}toJSON(){return{"/":k2(this)}}link(){return this}[Symbol.toStringTag]="CID";[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(e){if(e==null)return null;const n=e;if(n instanceof Rn)return n;if(n["/"]!=null&&n["/"]===n.bytes||n.asCID===n){const{version:r,code:s,multihash:a,bytes:c}=n;return new Rn(r,s,a,c??N2(r,s,a.bytes))}else if(n[aB]===!0){const{version:r,multihash:s,code:a}=n,c=np(s);return Rn.create(r,a,c)}else return null}static create(e,n,r){if(typeof n!="number")throw new Error("String codecs are no longer supported");if(!(r.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(e){case 0:{if(n!==wc)throw new Error(`Version 0 CID must use dag-pb (code: ${wc}) block encoding`);return new Rn(e,n,r,r.bytes)}case 1:{const s=N2(e,n,r.bytes);return new Rn(e,n,r,s)}default:throw new Error("Invalid version")}}static createV0(e){return Rn.create(0,wc,e)}static createV1(e,n){return Rn.create(1,e,n)}static decode(e){const[n,r]=Rn.decodeFirst(e);if(r.length!==0)throw new Error("Incorrect length");return n}static decodeFirst(e){const n=Rn.inspectBytes(e),r=n.size-n.multihashSize,s=Jh(e.subarray(r,r+n.multihashSize));if(s.byteLength!==n.multihashSize)throw new Error("Incorrect length");const a=s.subarray(n.multihashSize-n.digestSize),c=new $0(n.multihashCode,n.digestSize,a,s);return[n.version===0?Rn.createV0(c):Rn.createV1(n.codec,c),e.subarray(n.size)]}static inspectBytes(e){let n=0;const r=()=>{const[y,b]=vb(e.subarray(n));return n+=b,y};let s=r(),a=wc;if(s===18?(s=0,n=0):a=r(),s!==0&&s!==1)throw new RangeError(`Invalid CID version ${s}`);const c=n,f=r(),d=r(),p=n+d,g=p-c;return{version:s,codec:a,multihashCode:f,digestSize:d,multihashSize:g,size:p}}static parse(e,n){const[r,s]=rB(e,n),a=Rn.decode(s);if(a.version===0&&e[0]!=="Q")throw Error("Version 0 CID string must not include multibase prefix");return wb(a).set(r,e),a}};function rB(t,e){switch(t[0]){case"Q":{const n=e??dn;return[dn.prefix,n.decode(`${dn.prefix}${t}`)]}case dn.prefix:{const n=e??dn;return[dn.prefix,n.decode(t)]}case _s.prefix:{const n=e??_s;return[_s.prefix,n.decode(t)]}case kd.prefix:{const n=e??kd;return[kd.prefix,n.decode(t)]}default:{if(e==null)throw Error("To parse non base32, base36 or base58btc encoded CID multibase decoder must be provided");return[t[0],e.decode(t)]}}}function iB(t,e,n){const{prefix:r}=n;if(r!==dn.prefix)throw Error(`Cannot string encode V0 in ${n.name} encoding`);const s=e.get(r);if(s==null){const a=n.encode(t).slice(1);return e.set(r,a),a}else return s}function sB(t,e,n){const{prefix:r}=n,s=e.get(r);if(s==null){const a=n.encode(t);return e.set(r,a),a}else return s}const wc=112,oB=18;function N2(t,e,n){const r=Qd(t),s=r+Qd(e),a=new Uint8Array(s+n.byteLength);return Wd(t,a,0),Wd(e,a,r),a.set(n,s),a}const aB=Symbol.for("@ipld/js-cid/CID"),WA=0,lB="identity",QA=Jh;function cB(t,e){if(e?.truncate!=null&&e.truncate!==t.byteLength){if(e.truncate<0||e.truncate>t.byteLength)throw new Error(`Invalid truncate option, must be less than or equal to ${t.byteLength}`);t=t.subarray(0,e.truncate)}return tp(WA,QA(t))}const vu={code:WA,name:lB,encode:QA,digest:cB};function $n(t,e){if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let n=0;n<t.byteLength;n++)if(t[n]!==e[n])return!1;return!0}function Lt(t=0){return new Uint8Array(t)}function hi(t=0){return new Uint8Array(t)}function wo(t,e){e==null&&(e=t.reduce((s,a)=>s+a.length,0));const n=hi(e);let r=0;for(const s of t)n.set(s,r),r+=s.length;return n}const ZA=Symbol.for("@achingbrain/uint8arraylist");function B2(t,e){if(e==null||e<0)throw new RangeError("index is out of bounds");let n=0;for(const r of t){const s=n+r.byteLength;if(e<s)return{buf:r,index:e-n};n=s}throw new RangeError("index is out of bounds")}function rd(t){return!!t?.[ZA]}class xt{bufs;length;[ZA]=!0;constructor(...e){this.bufs=[],this.length=0,e.length>0&&this.appendAll(e)}*[Symbol.iterator](){yield*this.bufs}get byteLength(){return this.length}append(...e){this.appendAll(e)}appendAll(e){let n=0;for(const r of e)if(r instanceof Uint8Array)n+=r.byteLength,this.bufs.push(r);else if(rd(r))n+=r.byteLength,this.bufs.push(...r.bufs);else throw new Error("Could not append value, must be an Uint8Array or a Uint8ArrayList");this.length+=n}prepend(...e){this.prependAll(e)}prependAll(e){let n=0;for(const r of e.reverse())if(r instanceof Uint8Array)n+=r.byteLength,this.bufs.unshift(r);else if(rd(r))n+=r.byteLength,this.bufs.unshift(...r.bufs);else throw new Error("Could not prepend value, must be an Uint8Array or a Uint8ArrayList");this.length+=n}get(e){const n=B2(this.bufs,e);return n.buf[n.index]}set(e,n){const r=B2(this.bufs,e);r.buf[r.index]=n}write(e,n=0){if(e instanceof Uint8Array)for(let r=0;r<e.length;r++)this.set(n+r,e[r]);else if(rd(e))for(let r=0;r<e.length;r++)this.set(n+r,e.get(r));else throw new Error("Could not write value, must be an Uint8Array or a Uint8ArrayList")}consume(e){if(e=Math.trunc(e),!(Number.isNaN(e)||e<=0)){if(e===this.byteLength){this.bufs=[],this.length=0;return}for(;this.bufs.length>0;)if(e>=this.bufs[0].byteLength)e-=this.bufs[0].byteLength,this.length-=this.bufs[0].byteLength,this.bufs.shift();else{this.bufs[0]=this.bufs[0].subarray(e),this.length-=e;break}}}slice(e,n){const{bufs:r,length:s}=this._subList(e,n);return wo(r,s)}subarray(e,n){const{bufs:r,length:s}=this._subList(e,n);return r.length===1?r[0]:wo(r,s)}sublist(e,n){const{bufs:r,length:s}=this._subList(e,n),a=new xt;return a.length=s,a.bufs=[...r],a}_subList(e,n){if(e=e??0,n=n??this.length,e<0&&(e=this.length+e),n<0&&(n=this.length+n),e<0||n>this.length)throw new RangeError("index is out of bounds");if(e===n)return{bufs:[],length:0};if(e===0&&n===this.length)return{bufs:this.bufs,length:this.length};const r=[];let s=0;for(let a=0;a<this.bufs.length;a++){const c=this.bufs[a],f=s,d=f+c.byteLength;if(s=d,e>=d)continue;const p=e>=f&&e<d,g=n>f&&n<=d;if(p&&g){if(e===f&&n===d){r.push(c);break}const y=e-f;r.push(c.subarray(y,y+(n-e)));break}if(p){if(e===0){r.push(c);continue}r.push(c.subarray(e-f));continue}if(g){if(n===d){r.push(c);break}r.push(c.subarray(0,n-f));break}r.push(c)}return{bufs:r,length:n-e}}indexOf(e,n=0){if(!rd(e)&&!(e instanceof Uint8Array))throw new TypeError('The "value" argument must be a Uint8ArrayList or Uint8Array');const r=e instanceof Uint8Array?e:e.subarray();if(n=Number(n??0),isNaN(n)&&(n=0),n<0&&(n=this.length+n),n<0&&(n=0),e.length===0)return n>this.length?this.length:n;const s=r.byteLength;if(s===0)throw new TypeError("search must be at least 1 byte long");const a=256,c=new Int32Array(a);for(let y=0;y<a;y++)c[y]=-1;for(let y=0;y<s;y++)c[r[y]]=y;const f=c,d=this.byteLength-r.byteLength,p=r.byteLength-1;let g;for(let y=n;y<=d;y+=g){g=0;for(let b=p;b>=0;b--){const w=this.get(y+b);if(r[b]!==w){g=Math.max(1,b-f[w]);break}}if(g===0)return y}return-1}getInt8(e){const n=this.subarray(e,e+1);return new DataView(n.buffer,n.byteOffset,n.byteLength).getInt8(0)}setInt8(e,n){const r=hi(1);new DataView(r.buffer,r.byteOffset,r.byteLength).setInt8(0,n),this.write(r,e)}getInt16(e,n){const r=this.subarray(e,e+2);return new DataView(r.buffer,r.byteOffset,r.byteLength).getInt16(0,n)}setInt16(e,n,r){const s=Lt(2);new DataView(s.buffer,s.byteOffset,s.byteLength).setInt16(0,n,r),this.write(s,e)}getInt32(e,n){const r=this.subarray(e,e+4);return new DataView(r.buffer,r.byteOffset,r.byteLength).getInt32(0,n)}setInt32(e,n,r){const s=Lt(4);new DataView(s.buffer,s.byteOffset,s.byteLength).setInt32(0,n,r),this.write(s,e)}getBigInt64(e,n){const r=this.subarray(e,e+8);return new DataView(r.buffer,r.byteOffset,r.byteLength).getBigInt64(0,n)}setBigInt64(e,n,r){const s=Lt(8);new DataView(s.buffer,s.byteOffset,s.byteLength).setBigInt64(0,n,r),this.write(s,e)}getUint8(e){const n=this.subarray(e,e+1);return new DataView(n.buffer,n.byteOffset,n.byteLength).getUint8(0)}setUint8(e,n){const r=hi(1);new DataView(r.buffer,r.byteOffset,r.byteLength).setUint8(0,n),this.write(r,e)}getUint16(e,n){const r=this.subarray(e,e+2);return new DataView(r.buffer,r.byteOffset,r.byteLength).getUint16(0,n)}setUint16(e,n,r){const s=Lt(2);new DataView(s.buffer,s.byteOffset,s.byteLength).setUint16(0,n,r),this.write(s,e)}getUint32(e,n){const r=this.subarray(e,e+4);return new DataView(r.buffer,r.byteOffset,r.byteLength).getUint32(0,n)}setUint32(e,n,r){const s=Lt(4);new DataView(s.buffer,s.byteOffset,s.byteLength).setUint32(0,n,r),this.write(s,e)}getBigUint64(e,n){const r=this.subarray(e,e+8);return new DataView(r.buffer,r.byteOffset,r.byteLength).getBigUint64(0,n)}setBigUint64(e,n,r){const s=Lt(8);new DataView(s.buffer,s.byteOffset,s.byteLength).setBigUint64(0,n,r),this.write(s,e)}getFloat32(e,n){const r=this.subarray(e,e+4);return new DataView(r.buffer,r.byteOffset,r.byteLength).getFloat32(0,n)}setFloat32(e,n,r){const s=Lt(4);new DataView(s.buffer,s.byteOffset,s.byteLength).setFloat32(0,n,r),this.write(s,e)}getFloat64(e,n){const r=this.subarray(e,e+8);return new DataView(r.buffer,r.byteOffset,r.byteLength).getFloat64(0,n)}setFloat64(e,n,r){const s=Lt(8);new DataView(s.buffer,s.byteOffset,s.byteLength).setFloat64(0,n,r),this.write(s,e)}equals(e){if(e==null||!(e instanceof xt)||e.bufs.length!==this.bufs.length)return!1;for(let n=0;n<this.bufs.length;n++)if(!$n(this.bufs[n],e.bufs[n]))return!1;return!0}static fromUint8Arrays(e,n){const r=new xt;return r.bufs=e,n==null&&(n=e.reduce((s,a)=>s+a.byteLength,0)),r.length=n,r}}const uB=bu({prefix:"9",name:"base10",alphabet:"0123456789"}),fB=Object.freeze(Object.defineProperty({__proto__:null,base10:uB},Symbol.toStringTag,{value:"Module"})),dB=wn({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),hB=wn({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),pB=Object.freeze(Object.defineProperty({__proto__:null,base16:dB,base16upper:hB},Symbol.toStringTag,{value:"Module"})),gB=wn({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),mB=Object.freeze(Object.defineProperty({__proto__:null,base2:gB},Symbol.toStringTag,{value:"Module"})),JA=Array.from(""),yB=JA.reduce((t,e,n)=>(t[n]=e,t),[]),bB=JA.reduce((t,e,n)=>{const r=e.codePointAt(0);if(r==null)throw new Error(`Invalid character: ${e}`);return t[r]=n,t},[]);function vB(t){return t.reduce((e,n)=>(e+=yB[n],e),"")}function wB(t){const e=[];for(const n of t){const r=n.codePointAt(0);if(r==null)throw new Error(`Invalid character: ${n}`);const s=bB[r];if(s==null)throw new Error(`Non-base256emoji character: ${n}`);e.push(s)}return new Uint8Array(e)}const SB=ep({prefix:"",name:"base256emoji",encode:vB,decode:wB}),EB=Object.freeze(Object.defineProperty({__proto__:null,base256emoji:SB},Symbol.toStringTag,{value:"Module"})),e_=wn({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),xB=wn({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),t_=wn({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),CB=wn({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),AB=Object.freeze(Object.defineProperty({__proto__:null,base64:e_,base64pad:xB,base64url:t_,base64urlpad:CB},Symbol.toStringTag,{value:"Module"})),_B=wn({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),TB=Object.freeze(Object.defineProperty({__proto__:null,base8:_B},Symbol.toStringTag,{value:"Module"})),RB=ep({prefix:"\0",name:"identity",encode:t=>mN(t),decode:t=>gN(t)}),OB=Object.freeze(Object.defineProperty({__proto__:null,identity:RB},Symbol.toStringTag,{value:"Module"}));new TextEncoder;new TextDecoder;const MB=20;function DB({name:t,code:e,encode:n,minDigestLength:r,maxDigestLength:s}){return new kB(t,e,n,r,s)}let kB=class{name;code;encode;minDigestLength;maxDigestLength;constructor(e,n,r,s,a){this.name=e,this.code=n,this.encode=r,this.minDigestLength=s??MB,this.maxDigestLength=a}digest(e,n){if(n?.truncate!=null){if(n.truncate<this.minDigestLength)throw new Error(`Invalid truncate option, must be greater than or equal to ${this.minDigestLength}`);if(this.maxDigestLength!=null&&n.truncate>this.maxDigestLength)throw new Error(`Invalid truncate option, must be less than or equal to ${this.maxDigestLength}`)}if(e instanceof Uint8Array){const r=this.encode(e);return r instanceof Uint8Array?I2(r,this.code,n?.truncate):r.then(s=>I2(s,this.code,n?.truncate))}else throw Error("Unknown type, must be binary type")}};function I2(t,e,n){if(n!=null&&n!==t.byteLength){if(n>t.byteLength)throw new Error(`Invalid truncate option, must be less than or equal to ${t.byteLength}`);t=t.subarray(0,n)}return tp(e,t)}function LB(t){return async e=>new Uint8Array(await crypto.subtle.digest(t,e))}const n_=DB({name:"sha2-256",code:18,encode:LB("SHA-256")}),Sb={...OB,...mB,...TB,...fB,...pB,...PN,...UN,...RN,...AB,...EB};function r_(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const P2=r_("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),ty=r_("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=hi(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),i_={utf8:P2,"utf-8":P2,hex:Sb.base16,latin1:ty,ascii:ty,binary:ty,...Sb};function Pe(t,e="utf8"){const n=i_[e];if(n==null)throw new Error(`Unsupported encoding "${e}"`);return n.decoder.decode(`${n.prefix}${t}`)}function He(t,e="utf8"){const n=i_[e];if(n==null)throw new Error(`Unsupported encoding "${e}"`);return n.encoder.encode(t).substring(1)}const NB=parseInt("11111",2),Eb=parseInt("10000000",2),BB=parseInt("01111111",2),$2={0:Sc,1:Sc,2:IB,3:UB,4:zB,5:$B,6:PB,16:Sc,22:Sc,48:Sc};function rp(t,e={offset:0}){const n=t[e.offset]&NB;if(e.offset++,$2[n]!=null)return $2[n](t,e);throw new Error("No decoder for tag "+n)}function wu(t,e){let n=0;if((t[e.offset]&Eb)===Eb){const r=t[e.offset]&BB;let s="0x";e.offset++;for(let a=0;a<r;a++,e.offset++)s+=t[e.offset].toString(16).padStart(2,"0");n=parseInt(s,16)}else n=t[e.offset],e.offset++;return n}function Sc(t,e){wu(t,e);const n=[];for(;!(e.offset>=t.byteLength);){const r=rp(t,e);if(r===null)break;n.push(r)}return n}function IB(t,e){const n=wu(t,e),r=e.offset,s=e.offset+n,a=[];for(let c=r;c<s;c++)c===r&&t[c]===0||a.push(t[c]);return e.offset+=n,Uint8Array.from(a)}function PB(t,e){const n=wu(t,e),r=e.offset+n,s=t[e.offset];e.offset++;let a=0,c=0;s<40?(a=0,c=s):s<80?(a=1,c=s-40):(a=2,c=s-80);let f=`${a}.${c}`,d=[];for(;e.offset<r;){const p=t[e.offset];if(e.offset++,d.push(p&127),p<128){d.reverse();let g=0;for(let y=0;y<d.length;y++)g+=d[y]<<y*7;f+=`.${g}`,d=[]}}return f}function $B(t,e){return e.offset++,null}function UB(t,e){const n=wu(t,e),r=t[e.offset];e.offset++;const s=t.subarray(e.offset,e.offset+n-1);if(e.offset+=n,r!==0)throw new Error("Unused bits in bit string is unimplemented");return s}function zB(t,e){const n=wu(t,e),r=t.subarray(e.offset,e.offset+n);return e.offset+=n,r}function FB(t){let e=t.toString(16);e.length%2===1&&(e="0"+e);const n=new xt;for(let r=0;r<e.length;r+=2)n.append(Uint8Array.from([parseInt(`${e[r]}${e[r+1]}`,16)]));return n}function U0(t){if(t.byteLength<128)return Uint8Array.from([t.byteLength]);const e=FB(t.byteLength);return new xt(Uint8Array.from([e.byteLength|Eb]),e)}function xb(t){const e=new xt,n=128;return(t.subarray()[0]&n)===n&&e.append(Uint8Array.from([0])),e.append(t),new xt(Uint8Array.from([2]),U0(e),e)}function s_(t){const e=Uint8Array.from([0]),n=new xt(e,t);return new xt(Uint8Array.from([3]),U0(n),n)}function qc(t,e=48){const n=new xt;for(const r of t)n.append(r);return new xt(Uint8Array.from([e]),U0(n),n)}async function qB(t,e,n,r){const s=await crypto.subtle.importKey("jwk",t,{name:"ECDSA",namedCurve:t.crv??"P-256"},!1,["verify"]);r?.signal?.throwIfAborted();const a=await crypto.subtle.verify({name:"ECDSA",hash:{name:"SHA-256"}},s,e,n.subarray());return r?.signal?.throwIfAborted(),a}const HB=Uint8Array.from([6,8,42,134,72,206,61,3,1,7]),jB=Uint8Array.from([6,5,43,129,4,0,34]),VB=Uint8Array.from([6,5,43,129,4,0,35]),KB={ext:!0,kty:"EC",crv:"P-256"},GB={ext:!0,kty:"EC",crv:"P-384"},YB={ext:!0,kty:"EC",crv:"P-521"},ny=32,ry=48,iy=66;function o_(t){const e=rp(t);return XB(e)}function XB(t){const e=t[1][1][0],n=1;let r,s;if(e.byteLength===ny*2+1)return r=He(e.subarray(n,n+ny),"base64url"),s=He(e.subarray(n+ny),"base64url"),new sy({...KB,key_ops:["verify"],x:r,y:s});if(e.byteLength===ry*2+1)return r=He(e.subarray(n,n+ry),"base64url"),s=He(e.subarray(n+ry),"base64url"),new sy({...GB,key_ops:["verify"],x:r,y:s});if(e.byteLength===iy*2+1)return r=He(e.subarray(n,n+iy),"base64url"),s=He(e.subarray(n+iy),"base64url"),new sy({...YB,key_ops:["verify"],x:r,y:s});throw new bt(`coordinates were wrong length, got ${e.byteLength}, expected 65, 97 or 133`)}function WB(t){return qc([xb(Uint8Array.from([1])),qc([QB(t.crv)],160),qc([s_(new xt(Uint8Array.from([4]),Pe(t.x??"","base64url"),Pe(t.y??"","base64url")))],161)]).subarray()}function QB(t){if(t==="P-256")return HB;if(t==="P-384")return jB;if(t==="P-521")return VB;throw new bt(`Invalid curve ${t}`)}class sy{type="ECDSA";jwk;_raw;constructor(e){this.jwk=e}get raw(){return this._raw==null&&(this._raw=WB(this.jwk)),this._raw}toMultihash(){return vu.digest(Ts(this))}toCID(){return yi.createV1(114,this.toMultihash())}toString(){return dn.encode(this.toMultihash().bytes).substring(1)}equals(e){return e==null||!(e.raw instanceof Uint8Array)?!1:$n(this.raw,e.raw)}async verify(e,n,r){return qB(this.jwk,n,e,r)}}const Ea=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Su(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Zd(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function Bs(t,...e){if(!Su(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function ip(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");Zd(t.outputLen),Zd(t.blockLen)}function Jd(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function ZB(t,e){Bs(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function So(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function oy(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function ii(t,e){return t<<32-e|t>>>e}const a_=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",JB=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function yo(t){if(Bs(t),a_)return t.toHex();let e="";for(let n=0;n<t.length;n++)e+=JB[t[n]];return e}const $i={_0:48,_9:57,A:65,F:70,a:97,f:102};function U2(t){if(t>=$i._0&&t<=$i._9)return t-$i._0;if(t>=$i.A&&t<=$i.F)return t-($i.A-10);if(t>=$i.a&&t<=$i.f)return t-($i.a-10)}function eh(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(a_)return Uint8Array.fromHex(t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let s=0,a=0;s<n;s++,a+=2){const c=U2(t.charCodeAt(a)),f=U2(t.charCodeAt(a+1));if(c===void 0||f===void 0){const d=t[a]+t[a+1];throw new Error('hex string expected, got non-hex character "'+d+'" at index '+a)}r[s]=c*16+f}return r}function eI(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function eu(t){return typeof t=="string"&&(t=eI(t)),Bs(t),t}function li(...t){let e=0;for(let r=0;r<t.length;r++){const s=t[r];Bs(s),e+=s.length}const n=new Uint8Array(e);for(let r=0,s=0;r<t.length;r++){const a=t[r];n.set(a,s),s+=a.length}return n}class l_{}function c_(t){const e=r=>t().update(eu(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function Eu(t=32){if(Ea&&typeof Ea.getRandomValues=="function")return Ea.getRandomValues(new Uint8Array(t));if(Ea&&typeof Ea.randomBytes=="function")return Uint8Array.from(Ea.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}function tI(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const s=BigInt(32),a=BigInt(4294967295),c=Number(n>>s&a),f=Number(n&a),d=r?4:0,p=r?0:4;t.setUint32(e+d,c,r),t.setUint32(e+p,f,r)}function nI(t,e,n){return t&e^~t&n}function rI(t,e,n){return t&e^t&n^e&n}class u_ extends l_{constructor(e,n,r,s){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=s,this.buffer=new Uint8Array(e),this.view=oy(this.buffer)}update(e){Jd(this),e=eu(e),Bs(e);const{view:n,buffer:r,blockLen:s}=this,a=e.length;for(let c=0;c<a;){const f=Math.min(s-this.pos,a-c);if(f===s){const d=oy(e);for(;s<=a-c;c+=s)this.process(d,c);continue}r.set(e.subarray(c,c+f),this.pos),this.pos+=f,c+=f,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Jd(this),ZB(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:a}=this;let{pos:c}=this;n[c++]=128,So(this.buffer.subarray(c)),this.padOffset>s-c&&(this.process(r,0),c=0);for(let y=c;y<s;y++)n[y]=0;tI(r,s-8,BigInt(this.length*8),a),this.process(r,0);const f=oy(e),d=this.outputLen;if(d%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const p=d/4,g=this.get();if(p>g.length)throw new Error("_sha2: outputLen bigger than state");for(let y=0;y<p;y++)f.setUint32(4*y,g[y],a)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:a,destroyed:c,pos:f}=this;return e.destroyed=c,e.finished=a,e.length=s,e.pos=f,s%n&&e.buffer.set(r),e}clone(){return this._cloneInto()}}const ys=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),_n=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),id=BigInt(2**32-1),z2=BigInt(32);function iI(t,e=!1){return e?{h:Number(t&id),l:Number(t>>z2&id)}:{h:Number(t>>z2&id)|0,l:Number(t&id)|0}}function sI(t,e=!1){const n=t.length;let r=new Uint32Array(n),s=new Uint32Array(n);for(let a=0;a<n;a++){const{h:c,l:f}=iI(t[a],e);[r[a],s[a]]=[c,f]}return[r,s]}const F2=(t,e,n)=>t>>>n,q2=(t,e,n)=>t<<32-n|e>>>n,xa=(t,e,n)=>t>>>n|e<<32-n,Ca=(t,e,n)=>t<<32-n|e>>>n,sd=(t,e,n)=>t<<64-n|e>>>n-32,od=(t,e,n)=>t>>>n-32|e<<64-n;function Ui(t,e,n,r){const s=(e>>>0)+(r>>>0);return{h:t+n+(s/2**32|0)|0,l:s|0}}const oI=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),aI=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,lI=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),cI=(t,e,n,r,s)=>e+n+r+s+(t/2**32|0)|0,uI=(t,e,n,r,s)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(s>>>0),fI=(t,e,n,r,s,a)=>e+n+r+s+a+(t/2**32|0)|0,dI=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),bs=new Uint32Array(64);class hI extends u_{constructor(e=32){super(64,e,8,!1),this.A=ys[0]|0,this.B=ys[1]|0,this.C=ys[2]|0,this.D=ys[3]|0,this.E=ys[4]|0,this.F=ys[5]|0,this.G=ys[6]|0,this.H=ys[7]|0}get(){const{A:e,B:n,C:r,D:s,E:a,F:c,G:f,H:d}=this;return[e,n,r,s,a,c,f,d]}set(e,n,r,s,a,c,f,d){this.A=e|0,this.B=n|0,this.C=r|0,this.D=s|0,this.E=a|0,this.F=c|0,this.G=f|0,this.H=d|0}process(e,n){for(let y=0;y<16;y++,n+=4)bs[y]=e.getUint32(n,!1);for(let y=16;y<64;y++){const b=bs[y-15],w=bs[y-2],v=ii(b,7)^ii(b,18)^b>>>3,S=ii(w,17)^ii(w,19)^w>>>10;bs[y]=S+bs[y-7]+v+bs[y-16]|0}let{A:r,B:s,C:a,D:c,E:f,F:d,G:p,H:g}=this;for(let y=0;y<64;y++){const b=ii(f,6)^ii(f,11)^ii(f,25),w=g+b+nI(f,d,p)+dI[y]+bs[y]|0,S=(ii(r,2)^ii(r,13)^ii(r,22))+rI(r,s,a)|0;g=p,p=d,d=f,f=c+w|0,c=a,a=s,s=r,r=w+S|0}r=r+this.A|0,s=s+this.B|0,a=a+this.C|0,c=c+this.D|0,f=f+this.E|0,d=d+this.F|0,p=p+this.G|0,g=g+this.H|0,this.set(r,s,a,c,f,d,p,g)}roundClean(){So(bs)}destroy(){this.set(0,0,0,0,0,0,0,0),So(this.buffer)}}const f_=sI(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),pI=f_[0],gI=f_[1],vs=new Uint32Array(80),ws=new Uint32Array(80);class mI extends u_{constructor(e=64){super(128,e,16,!1),this.Ah=_n[0]|0,this.Al=_n[1]|0,this.Bh=_n[2]|0,this.Bl=_n[3]|0,this.Ch=_n[4]|0,this.Cl=_n[5]|0,this.Dh=_n[6]|0,this.Dl=_n[7]|0,this.Eh=_n[8]|0,this.El=_n[9]|0,this.Fh=_n[10]|0,this.Fl=_n[11]|0,this.Gh=_n[12]|0,this.Gl=_n[13]|0,this.Hh=_n[14]|0,this.Hl=_n[15]|0}get(){const{Ah:e,Al:n,Bh:r,Bl:s,Ch:a,Cl:c,Dh:f,Dl:d,Eh:p,El:g,Fh:y,Fl:b,Gh:w,Gl:v,Hh:S,Hl:E}=this;return[e,n,r,s,a,c,f,d,p,g,y,b,w,v,S,E]}set(e,n,r,s,a,c,f,d,p,g,y,b,w,v,S,E){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=s|0,this.Ch=a|0,this.Cl=c|0,this.Dh=f|0,this.Dl=d|0,this.Eh=p|0,this.El=g|0,this.Fh=y|0,this.Fl=b|0,this.Gh=w|0,this.Gl=v|0,this.Hh=S|0,this.Hl=E|0}process(e,n){for(let A=0;A<16;A++,n+=4)vs[A]=e.getUint32(n),ws[A]=e.getUint32(n+=4);for(let A=16;A<80;A++){const T=vs[A-15]|0,R=ws[A-15]|0,I=xa(T,R,1)^xa(T,R,8)^F2(T,R,7),$=Ca(T,R,1)^Ca(T,R,8)^q2(T,R,7),j=vs[A-2]|0,P=ws[A-2]|0,G=xa(j,P,19)^sd(j,P,61)^F2(j,P,6),W=Ca(j,P,19)^od(j,P,61)^q2(j,P,6),_=lI($,W,ws[A-7],ws[A-16]),B=cI(_,I,G,vs[A-7],vs[A-16]);vs[A]=B|0,ws[A]=_|0}let{Ah:r,Al:s,Bh:a,Bl:c,Ch:f,Cl:d,Dh:p,Dl:g,Eh:y,El:b,Fh:w,Fl:v,Gh:S,Gl:E,Hh:C,Hl:k}=this;for(let A=0;A<80;A++){const T=xa(y,b,14)^xa(y,b,18)^sd(y,b,41),R=Ca(y,b,14)^Ca(y,b,18)^od(y,b,41),I=y&w^~y&S,$=b&v^~b&E,j=uI(k,R,$,gI[A],ws[A]),P=fI(j,C,T,I,pI[A],vs[A]),G=j|0,W=xa(r,s,28)^sd(r,s,34)^sd(r,s,39),_=Ca(r,s,28)^od(r,s,34)^od(r,s,39),B=r&a^r&f^a&f,L=s&c^s&d^c&d;C=S|0,k=E|0,S=w|0,E=v|0,w=y|0,v=b|0,{h:y,l:b}=Ui(p|0,g|0,P|0,G|0),p=f|0,g=d|0,f=a|0,d=c|0,a=r|0,c=s|0;const N=oI(G,_,L);r=aI(N,P,W,B),s=N|0}({h:r,l:s}=Ui(this.Ah|0,this.Al|0,r|0,s|0)),{h:a,l:c}=Ui(this.Bh|0,this.Bl|0,a|0,c|0),{h:f,l:d}=Ui(this.Ch|0,this.Cl|0,f|0,d|0),{h:p,l:g}=Ui(this.Dh|0,this.Dl|0,p|0,g|0),{h:y,l:b}=Ui(this.Eh|0,this.El|0,y|0,b|0),{h:w,l:v}=Ui(this.Fh|0,this.Fl|0,w|0,v|0),{h:S,l:E}=Ui(this.Gh|0,this.Gl|0,S|0,E|0),{h:C,l:k}=Ui(this.Hh|0,this.Hl|0,C|0,k|0),this.set(r,s,a,c,f,d,p,g,y,b,w,v,S,E,C,k)}roundClean(){So(vs,ws)}destroy(){So(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const d_=c_(()=>new hI),yI=c_(()=>new mI);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const z0=BigInt(0),Cb=BigInt(1);function Eo(t,e=""){if(typeof t!="boolean"){const n=e&&`"${e}"`;throw new Error(n+"expected boolean, got type="+typeof t)}return t}function jr(t,e,n=""){const r=Su(t),s=t?.length,a=e!==void 0;if(!r||a&&s!==e){const c=n&&`"${n}" `,f=a?` of length ${e}`:"",d=r?`length=${s}`:`type=${typeof t}`;throw new Error(c+"expected Uint8Array"+f+", got "+d)}return t}function ad(t){const e=t.toString(16);return e.length&1?"0"+e:e}function h_(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?z0:BigInt("0x"+t)}function sp(t){return h_(yo(t))}function xo(t){return Bs(t),h_(yo(Uint8Array.from(t).reverse()))}function F0(t,e){return eh(t.toString(16).padStart(e*2,"0"))}function q0(t,e){return F0(t,e).reverse()}function Ot(t,e,n){let r;if(typeof e=="string")try{r=eh(e)}catch(a){throw new Error(t+" must be hex string or Uint8Array, cause: "+a)}else if(Su(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(t+" of length "+n+" expected, got "+s);return r}function H2(t){return Uint8Array.from(t)}const ay=t=>typeof t=="bigint"&&z0<=t;function bI(t,e,n){return ay(t)&&ay(e)&&ay(n)&&e<=t&&t<n}function tu(t,e,n,r){if(!bI(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function p_(t){let e;for(e=0;t>z0;t>>=Cb,e+=1);return e}const xu=t=>(Cb<<BigInt(t))-Cb;function vI(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");const r=w=>new Uint8Array(w),s=w=>Uint8Array.of(w);let a=r(t),c=r(t),f=0;const d=()=>{a.fill(1),c.fill(0),f=0},p=(...w)=>n(c,a,...w),g=(w=r(0))=>{c=p(s(0),w),a=p(),w.length!==0&&(c=p(s(1),w),a=p())},y=()=>{if(f++>=1e3)throw new Error("drbg: tried 1000 values");let w=0;const v=[];for(;w<e;){a=p();const S=a.slice();v.push(S),w+=a.length}return li(...v)};return(w,v)=>{d(),g(w);let S;for(;!(S=v(y()));)g();return d(),S}}function ul(t,e,n={}){if(!t||typeof t!="object")throw new Error("expected valid options object");function r(s,a,c){const f=t[s];if(c&&f===void 0)return;const d=typeof f;if(d!==a||f===null)throw new Error(`param "${s}" is invalid: expected ${a}, got ${d}`)}Object.entries(e).forEach(([s,a])=>r(s,a,!1)),Object.entries(n).forEach(([s,a])=>r(s,a,!0))}function th(t){const e=new WeakMap;return(n,...r)=>{const s=e.get(n);if(s!==void 0)return s;const a=t(n,...r);return e.set(n,a),a}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Xn=BigInt(0),vn=BigInt(1),uo=BigInt(2),g_=BigInt(3),m_=BigInt(4),y_=BigInt(5),wI=BigInt(7),b_=BigInt(8),SI=BigInt(9),v_=BigInt(16);function Ft(t,e){const n=t%e;return n>=Xn?n:e+n}function kt(t,e,n){let r=t;for(;e-- >Xn;)r*=r,r%=n;return r}function j2(t,e){if(t===Xn)throw new Error("invert: expected non-zero number");if(e<=Xn)throw new Error("invert: expected positive modulus, got "+e);let n=Ft(t,e),r=e,s=Xn,a=vn;for(;n!==Xn;){const f=r/n,d=r%n,p=s-a*f;r=n,n=d,s=a,a=p}if(r!==vn)throw new Error("invert: does not exist");return Ft(s,e)}function H0(t,e,n){if(!t.eql(t.sqr(e),n))throw new Error("Cannot find square root")}function w_(t,e){const n=(t.ORDER+vn)/m_,r=t.pow(e,n);return H0(t,r,e),r}function EI(t,e){const n=(t.ORDER-y_)/b_,r=t.mul(e,uo),s=t.pow(r,n),a=t.mul(e,s),c=t.mul(t.mul(a,uo),s),f=t.mul(a,t.sub(c,t.ONE));return H0(t,f,e),f}function xI(t){const e=Do(t),n=S_(t),r=n(e,e.neg(e.ONE)),s=n(e,r),a=n(e,e.neg(r)),c=(t+wI)/v_;return(f,d)=>{let p=f.pow(d,c),g=f.mul(p,r);const y=f.mul(p,s),b=f.mul(p,a),w=f.eql(f.sqr(g),d),v=f.eql(f.sqr(y),d);p=f.cmov(p,g,w),g=f.cmov(b,y,v);const S=f.eql(f.sqr(g),d),E=f.cmov(p,g,S);return H0(f,E,d),E}}function S_(t){if(t<g_)throw new Error("sqrt is not defined for small field");let e=t-vn,n=0;for(;e%uo===Xn;)e/=uo,n++;let r=uo;const s=Do(t);for(;V2(s,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return w_;let a=s.pow(r,e);const c=(e+vn)/uo;return function(d,p){if(d.is0(p))return p;if(V2(d,p)!==1)throw new Error("Cannot find square root");let g=n,y=d.mul(d.ONE,a),b=d.pow(p,e),w=d.pow(p,c);for(;!d.eql(b,d.ONE);){if(d.is0(b))return d.ZERO;let v=1,S=d.sqr(b);for(;!d.eql(S,d.ONE);)if(v++,S=d.sqr(S),v===g)throw new Error("Cannot find square root");const E=vn<<BigInt(g-v-1),C=d.pow(y,E);g=v,y=d.sqr(C),b=d.mul(b,y),w=d.mul(w,C)}return w}}function CI(t){return t%m_===g_?w_:t%b_===y_?EI:t%v_===SI?xI(t):S_(t)}const AI=(t,e)=>(Ft(t,e)&vn)===vn,_I=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function TI(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},n=_I.reduce((r,s)=>(r[s]="function",r),e);return ul(t,n),t}function RI(t,e,n){if(n<Xn)throw new Error("invalid exponent, negatives unsupported");if(n===Xn)return t.ONE;if(n===vn)return e;let r=t.ONE,s=e;for(;n>Xn;)n&vn&&(r=t.mul(r,s)),s=t.sqr(s),n>>=vn;return r}function E_(t,e,n=!1){const r=new Array(e.length).fill(n?t.ZERO:void 0),s=e.reduce((c,f,d)=>t.is0(f)?c:(r[d]=c,t.mul(c,f)),t.ONE),a=t.inv(s);return e.reduceRight((c,f,d)=>t.is0(f)?c:(r[d]=t.mul(c,r[d]),t.mul(c,f)),a),r}function V2(t,e){const n=(t.ORDER-vn)/uo,r=t.pow(e,n),s=t.eql(r,t.ONE),a=t.eql(r,t.ZERO),c=t.eql(r,t.neg(t.ONE));if(!s&&!a&&!c)throw new Error("invalid Legendre symbol result");return s?1:a?0:-1}function x_(t,e){e!==void 0&&Zd(e);const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function Do(t,e,n=!1,r={}){if(t<=Xn)throw new Error("invalid field: expected ORDER > 0, got "+t);let s,a,c=!1,f;if(typeof e=="object"&&e!=null){if(r.sqrt||n)throw new Error("cannot specify opts in two arguments");const b=e;b.BITS&&(s=b.BITS),b.sqrt&&(a=b.sqrt),typeof b.isLE=="boolean"&&(n=b.isLE),typeof b.modFromBytes=="boolean"&&(c=b.modFromBytes),f=b.allowedLengths}else typeof e=="number"&&(s=e),r.sqrt&&(a=r.sqrt);const{nBitLength:d,nByteLength:p}=x_(t,s);if(p>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let g;const y=Object.freeze({ORDER:t,isLE:n,BITS:d,BYTES:p,MASK:xu(d),ZERO:Xn,ONE:vn,allowedLengths:f,create:b=>Ft(b,t),isValid:b=>{if(typeof b!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof b);return Xn<=b&&b<t},is0:b=>b===Xn,isValidNot0:b=>!y.is0(b)&&y.isValid(b),isOdd:b=>(b&vn)===vn,neg:b=>Ft(-b,t),eql:(b,w)=>b===w,sqr:b=>Ft(b*b,t),add:(b,w)=>Ft(b+w,t),sub:(b,w)=>Ft(b-w,t),mul:(b,w)=>Ft(b*w,t),pow:(b,w)=>RI(y,b,w),div:(b,w)=>Ft(b*j2(w,t),t),sqrN:b=>b*b,addN:(b,w)=>b+w,subN:(b,w)=>b-w,mulN:(b,w)=>b*w,inv:b=>j2(b,t),sqrt:a||(b=>(g||(g=CI(t)),g(y,b))),toBytes:b=>n?q0(b,p):F0(b,p),fromBytes:(b,w=!0)=>{if(f){if(!f.includes(b.length)||b.length>p)throw new Error("Field.fromBytes: expected "+f+" bytes, got "+b.length);const S=new Uint8Array(p);S.set(b,n?0:S.length-b.length),b=S}if(b.length!==p)throw new Error("Field.fromBytes: expected "+p+" bytes, got "+b.length);let v=n?xo(b):sp(b);if(c&&(v=Ft(v,t)),!w&&!y.isValid(v))throw new Error("invalid field element: outside of range 0..ORDER");return v},invertBatch:b=>E_(y,b),cmov:(b,w,v)=>v?w:b});return Object.freeze(y)}function C_(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function A_(t){const e=C_(t);return e+Math.ceil(e/2)}function OI(t,e,n=!1){const r=t.length,s=C_(e),a=A_(e);if(r<16||r<a||r>1024)throw new Error("expected "+a+"-1024 bytes of input, got "+r);const c=n?xo(t):sp(t),f=Ft(c,e-vn)+vn;return n?q0(f,s):F0(f,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Wa=BigInt(0),fo=BigInt(1);function nh(t,e){const n=e.negate();return t?n:e}function ho(t,e){const n=E_(t.Fp,e.map(r=>r.Z));return e.map((r,s)=>t.fromAffine(r.toAffine(n[s])))}function __(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function ly(t,e){__(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1),s=2**t,a=xu(t),c=BigInt(t);return{windows:n,windowSize:r,mask:a,maxNumber:s,shiftBy:c}}function K2(t,e,n){const{windowSize:r,mask:s,maxNumber:a,shiftBy:c}=n;let f=Number(t&s),d=t>>c;f>r&&(f-=a,d+=fo);const p=e*r,g=p+Math.abs(f)-1,y=f===0,b=f<0,w=e%2!==0;return{nextN:d,offset:g,isZero:y,isNeg:b,isNegF:w,offsetF:p}}function MI(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function DI(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const cy=new WeakMap,T_=new WeakMap;function uy(t){return T_.get(t)||1}function G2(t){if(t!==Wa)throw new Error("invalid wNAF")}class R_{constructor(e,n){this.BASE=e.BASE,this.ZERO=e.ZERO,this.Fn=e.Fn,this.bits=n}_unsafeLadder(e,n,r=this.ZERO){let s=e;for(;n>Wa;)n&fo&&(r=r.add(s)),s=s.double(),n>>=fo;return r}precomputeWindow(e,n){const{windows:r,windowSize:s}=ly(n,this.bits),a=[];let c=e,f=c;for(let d=0;d<r;d++){f=c,a.push(f);for(let p=1;p<s;p++)f=f.add(c),a.push(f);c=f.double()}return a}wNAF(e,n,r){if(!this.Fn.isValid(r))throw new Error("invalid scalar");let s=this.ZERO,a=this.BASE;const c=ly(e,this.bits);for(let f=0;f<c.windows;f++){const{nextN:d,offset:p,isZero:g,isNeg:y,isNegF:b,offsetF:w}=K2(r,f,c);r=d,g?a=a.add(nh(b,n[w])):s=s.add(nh(y,n[p]))}return G2(r),{p:s,f:a}}wNAFUnsafe(e,n,r,s=this.ZERO){const a=ly(e,this.bits);for(let c=0;c<a.windows&&r!==Wa;c++){const{nextN:f,offset:d,isZero:p,isNeg:g}=K2(r,c,a);if(r=f,!p){const y=n[d];s=s.add(g?y.negate():y)}}return G2(r),s}getPrecomputes(e,n,r){let s=cy.get(n);return s||(s=this.precomputeWindow(n,e),e!==1&&(typeof r=="function"&&(s=r(s)),cy.set(n,s))),s}cached(e,n,r){const s=uy(e);return this.wNAF(s,this.getPrecomputes(s,e,r),n)}unsafe(e,n,r,s){const a=uy(e);return a===1?this._unsafeLadder(e,n,s):this.wNAFUnsafe(a,this.getPrecomputes(a,e,r),n,s)}createCache(e,n){__(n,this.bits),T_.set(e,n),cy.delete(e)}hasCache(e){return uy(e)!==1}}function kI(t,e,n,r){let s=e,a=t.ZERO,c=t.ZERO;for(;n>Wa||r>Wa;)n&fo&&(a=a.add(s)),r&fo&&(c=c.add(s)),s=s.double(),n>>=fo,r>>=fo;return{p1:a,p2:c}}function O_(t,e,n,r){MI(n,t),DI(r,e);const s=n.length,a=r.length;if(s!==a)throw new Error("arrays of points and scalars must have equal length");const c=t.ZERO,f=p_(BigInt(s));let d=1;f>12?d=f-3:f>4?d=f-2:f>0&&(d=2);const p=xu(d),g=new Array(Number(p)+1).fill(c),y=Math.floor((e.BITS-1)/d)*d;let b=c;for(let w=y;w>=0;w-=d){g.fill(c);for(let S=0;S<a;S++){const E=r[S],C=Number(E>>BigInt(w)&p);g[C]=g[C].add(n[S])}let v=c;for(let S=g.length-1,E=c;S>0;S--)E=E.add(g[S]),v=v.add(E);if(b=b.add(v),w!==0)for(let S=0;S<d;S++)b=b.double()}return b}function Y2(t,e,n){if(e){if(e.ORDER!==t)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return TI(e),e}else return Do(t,{isLE:n})}function M_(t,e,n={},r){if(r===void 0&&(r=t==="edwards"),!e||typeof e!="object")throw new Error(`expected valid ${t} CURVE object`);for(const d of["p","n","h"]){const p=e[d];if(!(typeof p=="bigint"&&p>Wa))throw new Error(`CURVE.${d} must be positive bigint`)}const s=Y2(e.p,n.Fp,r),a=Y2(e.n,n.Fn,r),f=["Gx","Gy","a",t==="weierstrass"?"b":"d"];for(const d of f)if(!s.isValid(e[d]))throw new Error(`CURVE.${d} must be valid field element of CURVE.Fp`);return e=Object.freeze(Object.assign({},e)),{CURVE:e,Fp:s,Fn:a}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ss=BigInt(0),fn=BigInt(1),fy=BigInt(2),LI=BigInt(8);function NI(t,e,n,r){const s=t.sqr(n),a=t.sqr(r),c=t.add(t.mul(e.a,s),a),f=t.add(t.ONE,t.mul(e.d,t.mul(s,a)));return t.eql(c,f)}function BI(t,e={}){const n=M_("edwards",t,e,e.FpFnLE),{Fp:r,Fn:s}=n;let a=n.CURVE;const{h:c}=a;ul(e,{},{uvRatio:"function"});const f=fy<<BigInt(s.BYTES*8)-fn,d=E=>r.create(E),p=e.uvRatio||((E,C)=>{try{return{isValid:!0,value:r.sqrt(r.div(E,C))}}catch{return{isValid:!1,value:Ss}}});if(!NI(r,a,a.Gx,a.Gy))throw new Error("bad curve params: generator point");function g(E,C,k=!1){const A=k?fn:Ss;return tu("coordinate "+E,C,A,f),C}function y(E){if(!(E instanceof v))throw new Error("ExtendedPoint expected")}const b=th((E,C)=>{const{X:k,Y:A,Z:T}=E,R=E.is0();C==null&&(C=R?LI:r.inv(T));const I=d(k*C),$=d(A*C),j=r.mul(T,C);if(R)return{x:Ss,y:fn};if(j!==fn)throw new Error("invZ was invalid");return{x:I,y:$}}),w=th(E=>{const{a:C,d:k}=a;if(E.is0())throw new Error("bad point: ZERO");const{X:A,Y:T,Z:R,T:I}=E,$=d(A*A),j=d(T*T),P=d(R*R),G=d(P*P),W=d($*C),_=d(P*d(W+j)),B=d(G+d(k*d($*j)));if(_!==B)throw new Error("bad point: equation left != right (1)");const L=d(A*T),N=d(R*I);if(L!==N)throw new Error("bad point: equation left != right (2)");return!0});class v{constructor(C,k,A,T){this.X=g("x",C),this.Y=g("y",k),this.Z=g("z",A,!0),this.T=g("t",T),Object.freeze(this)}static CURVE(){return a}static fromAffine(C){if(C instanceof v)throw new Error("extended point not allowed");const{x:k,y:A}=C||{};return g("x",k),g("y",A),new v(k,A,fn,d(k*A))}static fromBytes(C,k=!1){const A=r.BYTES,{a:T,d:R}=a;C=H2(jr(C,A,"point")),Eo(k,"zip215");const I=H2(C),$=C[A-1];I[A-1]=$&-129;const j=xo(I),P=k?f:r.ORDER;tu("point.y",j,Ss,P);const G=d(j*j),W=d(G-fn),_=d(R*G-T);let{isValid:B,value:L}=p(W,_);if(!B)throw new Error("bad point: invalid y coordinate");const N=(L&fn)===fn,M=($&128)!==0;if(!k&&L===Ss&&M)throw new Error("bad point: x=0 and x_0=1");return M!==N&&(L=d(-L)),v.fromAffine({x:L,y:j})}static fromHex(C,k=!1){return v.fromBytes(Ot("point",C),k)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(C=8,k=!0){return S.createCache(this,C),k||this.multiply(fy),this}assertValidity(){w(this)}equals(C){y(C);const{X:k,Y:A,Z:T}=this,{X:R,Y:I,Z:$}=C,j=d(k*$),P=d(R*T),G=d(A*$),W=d(I*T);return j===P&&G===W}is0(){return this.equals(v.ZERO)}negate(){return new v(d(-this.X),this.Y,this.Z,d(-this.T))}double(){const{a:C}=a,{X:k,Y:A,Z:T}=this,R=d(k*k),I=d(A*A),$=d(fy*d(T*T)),j=d(C*R),P=k+A,G=d(d(P*P)-R-I),W=j+I,_=W-$,B=j-I,L=d(G*_),N=d(W*B),M=d(G*B),q=d(_*W);return new v(L,N,q,M)}add(C){y(C);const{a:k,d:A}=a,{X:T,Y:R,Z:I,T:$}=this,{X:j,Y:P,Z:G,T:W}=C,_=d(T*j),B=d(R*P),L=d($*A*W),N=d(I*G),M=d((T+R)*(j+P)-_-B),q=N-L,K=N+L,F=d(B-k*_),D=d(M*q),H=d(K*F),Q=d(M*F),te=d(q*K);return new v(D,H,te,Q)}subtract(C){return this.add(C.negate())}multiply(C){if(!s.isValidNot0(C))throw new Error("invalid scalar: expected 1 <= sc < curve.n");const{p:k,f:A}=S.cached(this,C,T=>ho(v,T));return ho(v,[k,A])[0]}multiplyUnsafe(C,k=v.ZERO){if(!s.isValid(C))throw new Error("invalid scalar: expected 0 <= sc < curve.n");return C===Ss?v.ZERO:this.is0()||C===fn?this:S.unsafe(this,C,A=>ho(v,A),k)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return S.unsafe(this,a.n).is0()}toAffine(C){return b(this,C)}clearCofactor(){return c===fn?this:this.multiplyUnsafe(c)}toBytes(){const{x:C,y:k}=this.toAffine(),A=r.toBytes(k);return A[A.length-1]|=C&fn?128:0,A}toHex(){return yo(this.toBytes())}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get ex(){return this.X}get ey(){return this.Y}get ez(){return this.Z}get et(){return this.T}static normalizeZ(C){return ho(v,C)}static msm(C,k){return O_(v,s,C,k)}_setWindowSize(C){this.precompute(C)}toRawBytes(){return this.toBytes()}}v.BASE=new v(a.Gx,a.Gy,fn,d(a.Gx*a.Gy)),v.ZERO=new v(Ss,fn,fn,Ss),v.Fp=r,v.Fn=s;const S=new R_(v,s.BITS);return v.BASE.precompute(8),v}function II(t,e,n={}){if(typeof e!="function")throw new Error('"hash" function param is required');ul(n,{},{adjustScalarBytes:"function",randomBytes:"function",domain:"function",prehash:"function",mapToCurve:"function"});const{prehash:r}=n,{BASE:s,Fp:a,Fn:c}=t,f=n.randomBytes||Eu,d=n.adjustScalarBytes||(P=>P),p=n.domain||((P,G,W)=>{if(Eo(W,"phflag"),G.length||W)throw new Error("Contexts/pre-hash are not supported");return P});function g(P){return c.create(xo(P))}function y(P){const G=A.secretKey;P=Ot("private key",P,G);const W=Ot("hashed private key",e(P),2*G),_=d(W.slice(0,G)),B=W.slice(G,2*G),L=g(_);return{head:_,prefix:B,scalar:L}}function b(P){const{head:G,prefix:W,scalar:_}=y(P),B=s.multiply(_),L=B.toBytes();return{head:G,prefix:W,scalar:_,point:B,pointBytes:L}}function w(P){return b(P).pointBytes}function v(P=Uint8Array.of(),...G){const W=li(...G);return g(e(p(W,Ot("context",P),!!r)))}function S(P,G,W={}){P=Ot("message",P),r&&(P=r(P));const{prefix:_,scalar:B,pointBytes:L}=b(G),N=v(W.context,_,P),M=s.multiply(N).toBytes(),q=v(W.context,M,L,P),K=c.create(N+q*B);if(!c.isValid(K))throw new Error("sign failed: invalid s");const F=li(M,c.toBytes(K));return jr(F,A.signature,"result")}const E={zip215:!0};function C(P,G,W,_=E){const{context:B,zip215:L}=_,N=A.signature;P=Ot("signature",P,N),G=Ot("message",G),W=Ot("publicKey",W,A.publicKey),L!==void 0&&Eo(L,"zip215"),r&&(G=r(G));const M=N/2,q=P.subarray(0,M),K=xo(P.subarray(M,N));let F,D,H;try{F=t.fromBytes(W,L),D=t.fromBytes(q,L),H=s.multiplyUnsafe(K)}catch{return!1}if(!L&&F.isSmallOrder())return!1;const Q=v(B,D.toBytes(),F.toBytes(),G);return D.add(F.multiplyUnsafe(Q)).subtract(H).clearCofactor().is0()}const k=a.BYTES,A={secretKey:k,publicKey:k,signature:2*k,seed:k};function T(P=f(A.seed)){return jr(P,A.seed,"seed")}function R(P){const G=j.randomSecretKey(P);return{secretKey:G,publicKey:w(G)}}function I(P){return Su(P)&&P.length===c.BYTES}function $(P,G){try{return!!t.fromBytes(P,G)}catch{return!1}}const j={getExtendedPublicKey:b,randomSecretKey:T,isValidSecretKey:I,isValidPublicKey:$,toMontgomery(P){const{y:G}=t.fromBytes(P),W=A.publicKey,_=W===32;if(!_&&W!==57)throw new Error("only defined for 25519 and 448");const B=_?a.div(fn+G,fn-G):a.div(G-fn,G+fn);return a.toBytes(B)},toMontgomeryPriv(P){const G=A.secretKey;jr(P,G);const W=e(P.subarray(0,G));return d(W).subarray(0,G)},randomPrivateKey:T,precompute(P=8,G=t.BASE){return G.precompute(P,!1)}};return Object.freeze({keygen:R,getPublicKey:w,sign:S,verify:C,utils:j,Point:t,lengths:A})}function PI(t){const e={a:t.a,d:t.d,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},n=t.Fp,r=Do(e.n,t.nBitLength,!0),s={Fp:n,Fn:r,uvRatio:t.uvRatio},a={randomBytes:t.randomBytes,adjustScalarBytes:t.adjustScalarBytes,domain:t.domain,prehash:t.prehash,mapToCurve:t.mapToCurve};return{CURVE:e,curveOpts:s,hash:t.hash,eddsaOpts:a}}function $I(t,e){const n=e.Point;return Object.assign({},e,{ExtendedPoint:n,CURVE:t,nBitLength:n.Fn.BITS,nByteLength:n.Fn.BYTES})}function UI(t){const{CURVE:e,curveOpts:n,hash:r,eddsaOpts:s}=PI(t),a=BI(e,n),c=II(a,r,s);return $I(t,c)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ec=BigInt(0),Aa=BigInt(1),ld=BigInt(2);function zI(t){return ul(t,{adjustScalarBytes:"function",powPminus2:"function"}),Object.freeze({...t})}function FI(t){const e=zI(t),{P:n,type:r,adjustScalarBytes:s,powPminus2:a,randomBytes:c}=e,f=r==="x25519";if(!f&&r!=="x448")throw new Error("invalid type");const d=c||Eu,p=f?255:448,g=f?32:56,y=BigInt(f?9:5),b=BigInt(f?121665:39081),w=f?ld**BigInt(254):ld**BigInt(447),v=f?BigInt(8)*ld**BigInt(251)-Aa:BigInt(4)*ld**BigInt(445)-Aa,S=w+v+Aa,E=B=>Ft(B,n),C=k(y);function k(B){return q0(E(B),g)}function A(B){const L=Ot("u coordinate",B,g);return f&&(L[31]&=127),E(xo(L))}function T(B){return xo(s(Ot("scalar",B,g)))}function R(B,L){const N=j(A(L),T(B));if(N===Ec)throw new Error("invalid private or public key received");return k(N)}function I(B){return R(B,C)}function $(B,L,N){const M=E(B*(L-N));return L=E(L-M),N=E(N+M),{x_2:L,x_3:N}}function j(B,L){tu("u",B,Ec,n),tu("scalar",L,w,S);const N=L,M=B;let q=Aa,K=Ec,F=B,D=Aa,H=Ec;for(let te=BigInt(p-1);te>=Ec;te--){const ae=N>>te&Aa;H^=ae,{x_2:q,x_3:F}=$(H,q,F),{x_2:K,x_3:D}=$(H,K,D),H=ae;const se=q+K,le=E(se*se),ge=q-K,he=E(ge*ge),fe=le-he,de=F+D,De=F-D,Le=E(De*se),wt=E(de*ge),ke=Le+wt,Ye=Le-wt;F=E(ke*ke),D=E(M*E(Ye*Ye)),q=E(le*he),K=E(fe*(le+E(b*fe)))}({x_2:q,x_3:F}=$(H,q,F)),{x_2:K,x_3:D}=$(H,K,D);const Q=a(K);return E(q*Q)}const P={secretKey:g,publicKey:g,seed:g},G=(B=d(g))=>(Bs(B,P.seed),B);function W(B){const L=G(B);return{secretKey:L,publicKey:I(L)}}return{keygen:W,getSharedSecret:(B,L)=>R(B,L),getPublicKey:B=>I(B),scalarMult:R,scalarMultBase:I,utils:{randomSecretKey:G,randomPrivateKey:G},GuBytes:C.slice(),lengths:P}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const qI=BigInt(1),X2=BigInt(2),HI=BigInt(3),jI=BigInt(5),VI=BigInt(8),j0=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),D_={p:j0,n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),h:VI,a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function k_(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),s=BigInt(80),a=j0,f=t*t%a*t%a,d=kt(f,X2,a)*f%a,p=kt(d,qI,a)*t%a,g=kt(p,jI,a)*p%a,y=kt(g,e,a)*g%a,b=kt(y,n,a)*y%a,w=kt(b,r,a)*b%a,v=kt(w,s,a)*w%a,S=kt(v,s,a)*w%a,E=kt(S,e,a)*g%a;return{pow_p_5_8:kt(E,X2,a)*t%a,b2:f}}function L_(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}const W2=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");function KI(t,e){const n=j0,r=Ft(e*e*e,n),s=Ft(r*r*e,n),a=k_(t*s).pow_p_5_8;let c=Ft(t*r*a,n);const f=Ft(e*c*c,n),d=c,p=Ft(c*W2,n),g=f===t,y=f===Ft(-t,n),b=f===Ft(-t*W2,n);return g&&(c=d),(y||b)&&(c=p),AI(c,n)&&(c=Ft(-c,n)),{isValid:g||y,value:c}}const N_=Do(D_.p,{isLE:!0}),GI={...D_,Fp:N_,hash:yI,adjustScalarBytes:L_,uvRatio:KI},rh=UI(GI),cd=(()=>{const t=N_.ORDER;return FI({P:t,type:"x25519",powPminus2:e=>{const{pow_p_5_8:n,b2:r}=k_(e);return Ft(kt(n,HI,t)*r,t)},adjustScalarBytes:L_})})();class Q2 extends Error{constructor(e="An error occurred while verifying a message"){super(e),this.name="VerificationError"}}class YI extends Error{constructor(e="Missing Web Crypto API"){super(e),this.name="WebCryptoMissingError"}}const Co={get(t=globalThis){const e=t.crypto;if(e?.subtle==null)throw new YI("Missing Web Crypto API. The most likely cause of this error is that this page is being accessed from an insecure context (i.e. not HTTPS). For more information and possible resolutions see https://github.com/libp2p/js-libp2p/blob/main/packages/crypto/README.md#web-crypto-api");return e}},B_=32,V0=64,Ab=32;let Ba;const I_=(async()=>{try{return await Co.get().subtle.generateKey({name:"Ed25519"},!0,["sign","verify"]),!0}catch{return!1}})();function XI(){const t=rh.utils.randomPrivateKey(),e=rh.getPublicKey(t);return{privateKey:nP(t,e),publicKey:e}}async function WI(t,e){let n;t.length===V0?n=t.subarray(0,32):n=t;const r={crv:"Ed25519",kty:"OKP",x:He(t.subarray(32),"base64url"),d:He(n,"base64url"),ext:!0,key_ops:["sign"]},s=await Co.get().subtle.importKey("jwk",r,{name:"Ed25519"},!0,["sign"]),a=await Co.get().subtle.sign({name:"Ed25519"},s,e instanceof Uint8Array?e:e.subarray());return new Uint8Array(a,0,a.byteLength)}function QI(t,e){const n=t.subarray(0,Ab);return rh.sign(e instanceof Uint8Array?e:e.subarray(),n)}async function ZI(t,e){return Ba==null&&(Ba=await I_),Ba?WI(t,e):QI(t,e)}async function JI(t,e,n){if(t.buffer instanceof ArrayBuffer){const r=await Co.get().subtle.importKey("raw",t.buffer,{name:"Ed25519"},!1,["verify"]);return await Co.get().subtle.verify({name:"Ed25519"},r,e,n instanceof Uint8Array?n:n.subarray())}throw new TypeError("WebCrypto does not support SharedArrayBuffer for Ed25519 keys")}function eP(t,e,n){return rh.verify(e,n instanceof Uint8Array?n:n.subarray(),t)}async function tP(t,e,n){return Ba==null&&(Ba=await I_),Ba?JI(t,e,n):eP(t,e,n)}function nP(t,e){const n=new Uint8Array(V0);for(let r=0;r<Ab;r++)n[r]=t[r],n[Ab+r]=e[r];return n}function K0(t){return t==null?!1:typeof t.then=="function"&&typeof t.catch=="function"&&typeof t.finally=="function"}class P_{type="Ed25519";raw;constructor(e){this.raw=G0(e,B_)}toMultihash(){return vu.digest(Ts(this))}toCID(){return yi.createV1(114,this.toMultihash())}toString(){return dn.encode(this.toMultihash().bytes).substring(1)}equals(e){return e==null||!(e.raw instanceof Uint8Array)?!1:$n(this.raw,e.raw)}verify(e,n,r){r?.signal?.throwIfAborted();const s=tP(this.raw,n,e);return K0(s)?s.then(a=>(r?.signal?.throwIfAborted(),a)):s}}class rP{type="Ed25519";raw;publicKey;constructor(e,n){this.raw=G0(e,V0),this.publicKey=new P_(n)}equals(e){return e==null||!(e.raw instanceof Uint8Array)?!1:$n(this.raw,e.raw)}sign(e,n){n?.signal?.throwIfAborted();const r=ZI(this.raw,e);return K0(r)?r.then(s=>(n?.signal?.throwIfAborted(),s)):(n?.signal?.throwIfAborted(),r)}}function $_(t){return t=G0(t,B_),new P_(t)}async function iP(){const{privateKey:t,publicKey:e}=XI();return new rP(t,e)}function G0(t,e){if(t=Uint8Array.from(t??[]),t.length!==e)throw new bt(`Key must be a Uint8Array of length ${e}, got ${t.length}`);return t}const sP=Math.pow(2,7),oP=Math.pow(2,14),aP=Math.pow(2,21),Y0=Math.pow(2,28),X0=Math.pow(2,35),W0=Math.pow(2,42),Q0=Math.pow(2,49),et=128,Dn=127;function Mr(t){if(t<sP)return 1;if(t<oP)return 2;if(t<aP)return 3;if(t<Y0)return 4;if(t<X0)return 5;if(t<W0)return 6;if(t<Q0)return 7;if(Number.MAX_SAFE_INTEGER!=null&&t>Number.MAX_SAFE_INTEGER)throw new RangeError("Could not encode varint");return 8}function ih(t,e,n=0){switch(Mr(t)){case 8:e[n++]=t&255|et,t/=128;case 7:e[n++]=t&255|et,t/=128;case 6:e[n++]=t&255|et,t/=128;case 5:e[n++]=t&255|et,t/=128;case 4:e[n++]=t&255|et,t>>>=7;case 3:e[n++]=t&255|et,t>>>=7;case 2:e[n++]=t&255|et,t>>>=7;case 1:{e[n++]=t&255,t>>>=7;break}default:throw new Error("unreachable")}return e}function lP(t,e,n=0){switch(Mr(t)){case 8:e.set(n++,t&255|et),t/=128;case 7:e.set(n++,t&255|et),t/=128;case 6:e.set(n++,t&255|et),t/=128;case 5:e.set(n++,t&255|et),t/=128;case 4:e.set(n++,t&255|et),t>>>=7;case 3:e.set(n++,t&255|et),t>>>=7;case 2:e.set(n++,t&255|et),t>>>=7;case 1:{e.set(n++,t&255),t>>>=7;break}default:throw new Error("unreachable")}return e}function U_(t,e){let n=t[e],r=0;if(r+=n&Dn,n<et||(n=t[e+1],r+=(n&Dn)<<7,n<et)||(n=t[e+2],r+=(n&Dn)<<14,n<et)||(n=t[e+3],r+=(n&Dn)<<21,n<et)||(n=t[e+4],r+=(n&Dn)*Y0,n<et)||(n=t[e+5],r+=(n&Dn)*X0,n<et)||(n=t[e+6],r+=(n&Dn)*W0,n<et)||(n=t[e+7],r+=(n&Dn)*Q0,n<et))return r;throw new RangeError("Could not decode varint")}function cP(t,e){let n=t.get(e),r=0;if(r+=n&Dn,n<et||(n=t.get(e+1),r+=(n&Dn)<<7,n<et)||(n=t.get(e+2),r+=(n&Dn)<<14,n<et)||(n=t.get(e+3),r+=(n&Dn)<<21,n<et)||(n=t.get(e+4),r+=(n&Dn)*Y0,n<et)||(n=t.get(e+5),r+=(n&Dn)*X0,n<et)||(n=t.get(e+6),r+=(n&Dn)*W0,n<et)||(n=t.get(e+7),r+=(n&Dn)*Q0,n<et))return r;throw new RangeError("Could not decode varint")}function Ia(t,e,n=0){return e==null&&(e=hi(Mr(t))),e instanceof Uint8Array?ih(t,e,n):lP(t,e,n)}function op(t,e=0){return t instanceof Uint8Array?U_(t,e):cP(t,e)}const Z0=new Float32Array([-0]),Es=new Uint8Array(Z0.buffer);function uP(t,e,n){Z0[0]=t,e[n]=Es[0],e[n+1]=Es[1],e[n+2]=Es[2],e[n+3]=Es[3]}function fP(t,e){return Es[0]=t[e],Es[1]=t[e+1],Es[2]=t[e+2],Es[3]=t[e+3],Z0[0]}const J0=new Float64Array([-0]),kn=new Uint8Array(J0.buffer);function dP(t,e,n){J0[0]=t,e[n]=kn[0],e[n+1]=kn[1],e[n+2]=kn[2],e[n+3]=kn[3],e[n+4]=kn[4],e[n+5]=kn[5],e[n+6]=kn[6],e[n+7]=kn[7]}function hP(t,e){return kn[0]=t[e],kn[1]=t[e+1],kn[2]=t[e+2],kn[3]=t[e+3],kn[4]=t[e+4],kn[5]=t[e+5],kn[6]=t[e+6],kn[7]=t[e+7],J0[0]}const pP=BigInt(Number.MAX_SAFE_INTEGER),gP=BigInt(Number.MIN_SAFE_INTEGER);class Ln{lo;hi;constructor(e,n){this.lo=e|0,this.hi=n|0}toNumber(e=!1){if(!e&&this.hi>>>31>0){const n=~this.lo+1>>>0;let r=~this.hi>>>0;return n===0&&(r=r+1>>>0),-(n+r*4294967296)}return this.lo+this.hi*4294967296}toBigInt(e=!1){if(e)return BigInt(this.lo>>>0)+(BigInt(this.hi>>>0)<<32n);if(this.hi>>>31){const n=~this.lo+1>>>0;let r=~this.hi>>>0;return n===0&&(r=r+1>>>0),-(BigInt(n)+(BigInt(r)<<32n))}return BigInt(this.lo>>>0)+(BigInt(this.hi>>>0)<<32n)}toString(e=!1){return this.toBigInt(e).toString()}zzEncode(){const e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this}zzDecode(){const e=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this}length(){const e=this.lo,n=(this.lo>>>28|this.hi<<4)>>>0,r=this.hi>>>24;return r===0?n===0?e<16384?e<128?1:2:e<2097152?3:4:n<16384?n<128?5:6:n<2097152?7:8:r<128?9:10}static fromBigInt(e){if(e===0n)return bo;if(e<pP&&e>gP)return this.fromNumber(Number(e));const n=e<0n;n&&(e=-e);let r=e>>32n,s=e-(r<<32n);return n&&(r=~r|0n,s=~s|0n,++s>Z2&&(s=0n,++r>Z2&&(r=0n))),new Ln(Number(s),Number(r))}static fromNumber(e){if(e===0)return bo;const n=e<0;n&&(e=-e);let r=e>>>0,s=(e-r)/4294967296>>>0;return n&&(s=~s>>>0,r=~r>>>0,++r>4294967295&&(r=0,++s>4294967295&&(s=0))),new Ln(r,s)}static from(e){return typeof e=="number"?Ln.fromNumber(e):typeof e=="bigint"?Ln.fromBigInt(e):typeof e=="string"?Ln.fromBigInt(BigInt(e)):e.low!=null||e.high!=null?new Ln(e.low>>>0,e.high>>>0):bo}}const bo=new Ln(0,0);bo.toBigInt=function(){return 0n};bo.zzEncode=bo.zzDecode=function(){return this};bo.length=function(){return 1};const Z2=4294967296n;function mP(t){let e=0,n=0;for(let r=0;r<t.length;++r)n=t.charCodeAt(r),n<128?e+=1:n<2048?e+=2:(n&64512)===55296&&(t.charCodeAt(r+1)&64512)===56320?(++r,e+=4):e+=3;return e}function yP(t,e,n){if(n-e<1)return"";let s;const a=[];let c=0,f;for(;e<n;)f=t[e++],f<128?a[c++]=f:f>191&&f<224?a[c++]=(f&31)<<6|t[e++]&63:f>239&&f<365?(f=((f&7)<<18|(t[e++]&63)<<12|(t[e++]&63)<<6|t[e++]&63)-65536,a[c++]=55296+(f>>10),a[c++]=56320+(f&1023)):a[c++]=(f&15)<<12|(t[e++]&63)<<6|t[e++]&63,c>8191&&((s??(s=[])).push(String.fromCharCode.apply(String,a)),c=0);return s!=null?(c>0&&s.push(String.fromCharCode.apply(String,a.slice(0,c))),s.join("")):String.fromCharCode.apply(String,a.slice(0,c))}function z_(t,e,n){const r=n;let s,a;for(let c=0;c<t.length;++c)s=t.charCodeAt(c),s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&((a=t.charCodeAt(c+1))&64512)===56320?(s=65536+((s&1023)<<10)+(a&1023),++c,e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128);return n-r}function Ur(t,e){return RangeError(`index out of range: ${t.pos} + ${e??1} > ${t.len}`)}function ud(t,e){return(t[e-4]|t[e-3]<<8|t[e-2]<<16|t[e-1]<<24)>>>0}class bP{buf;pos;len;_slice=Uint8Array.prototype.subarray;constructor(e){this.buf=e,this.pos=0,this.len=e.length}uint32(){let e=4294967295;if(e=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(e=(e|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return e;if((this.pos+=5)>this.len)throw this.pos=this.len,Ur(this,10);return e}int32(){return this.uint32()|0}sint32(){const e=this.uint32();return e>>>1^-(e&1)|0}bool(){return this.uint32()!==0}fixed32(){if(this.pos+4>this.len)throw Ur(this,4);return ud(this.buf,this.pos+=4)}sfixed32(){if(this.pos+4>this.len)throw Ur(this,4);return ud(this.buf,this.pos+=4)|0}float(){if(this.pos+4>this.len)throw Ur(this,4);const e=fP(this.buf,this.pos);return this.pos+=4,e}double(){if(this.pos+8>this.len)throw Ur(this,4);const e=hP(this.buf,this.pos);return this.pos+=8,e}bytes(){const e=this.uint32(),n=this.pos,r=this.pos+e;if(r>this.len)throw Ur(this,e);return this.pos+=e,n===r?new Uint8Array(0):this.buf.subarray(n,r)}string(){const e=this.bytes();return yP(e,0,e.length)}skip(e){if(typeof e=="number"){if(this.pos+e>this.len)throw Ur(this,e);this.pos+=e}else do if(this.pos>=this.len)throw Ur(this);while((this.buf[this.pos++]&128)!==0);return this}skipType(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(e=this.uint32()&7)!==4;)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error(`invalid wire type ${e} at offset ${this.pos}`)}return this}readLongVarint(){const e=new Ln(0,0);let n=0;if(this.len-this.pos>4){for(;n<4;++n)if(e.lo=(e.lo|(this.buf[this.pos]&127)<<n*7)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(this.buf[this.pos]&127)<<28)>>>0,e.hi=(e.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return e;n=0}else{for(;n<3;++n){if(this.pos>=this.len)throw Ur(this);if(e.lo=(e.lo|(this.buf[this.pos]&127)<<n*7)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(this.buf[this.pos++]&127)<<n*7)>>>0,e}if(this.len-this.pos>4){for(;n<5;++n)if(e.hi=(e.hi|(this.buf[this.pos]&127)<<n*7+3)>>>0,this.buf[this.pos++]<128)return e}else for(;n<5;++n){if(this.pos>=this.len)throw Ur(this);if(e.hi=(e.hi|(this.buf[this.pos]&127)<<n*7+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}readFixed64(){if(this.pos+8>this.len)throw Ur(this,8);const e=ud(this.buf,this.pos+=4),n=ud(this.buf,this.pos+=4);return new Ln(e,n)}int64(){return this.readLongVarint().toBigInt()}int64Number(){return this.readLongVarint().toNumber()}int64String(){return this.readLongVarint().toString()}uint64(){return this.readLongVarint().toBigInt(!0)}uint64Number(){const e=U_(this.buf,this.pos);return this.pos+=Mr(e),e}uint64String(){return this.readLongVarint().toString(!0)}sint64(){return this.readLongVarint().zzDecode().toBigInt()}sint64Number(){return this.readLongVarint().zzDecode().toNumber()}sint64String(){return this.readLongVarint().zzDecode().toString()}fixed64(){return this.readFixed64().toBigInt()}fixed64Number(){return this.readFixed64().toNumber()}fixed64String(){return this.readFixed64().toString()}sfixed64(){return this.readFixed64().toBigInt()}sfixed64Number(){return this.readFixed64().toNumber()}sfixed64String(){return this.readFixed64().toString()}}function vP(t){return new bP(t instanceof Uint8Array?t:t.subarray())}function _r(t,e,n){const r=vP(t);return e.decode(r,void 0,n)}function wP(t){let r,s=8192;return function(c){if(c<1||c>4096)return hi(c);s+c>8192&&(r=hi(8192),s=0);const f=r.subarray(s,s+=c);return(s&7)!==0&&(s=(s|7)+1),f}}class Lc{fn;len;next;val;constructor(e,n,r){this.fn=e,this.len=n,this.next=void 0,this.val=r}}function dy(){}class SP{head;tail;len;next;constructor(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}}const EP=wP();function xP(t){return globalThis.Buffer!=null?hi(t):EP(t)}class _b{len;head;tail;states;constructor(){this.len=0,this.head=new Lc(dy,0,0),this.tail=this.head,this.states=null}_push(e,n,r){return this.tail=this.tail.next=new Lc(e,n,r),this.len+=n,this}uint32(e){return this.len+=(this.tail=this.tail.next=new AP((e=e>>>0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this}int32(e){return e<0?this._push(fd,10,Ln.fromNumber(e)):this.uint32(e)}sint32(e){return this.uint32((e<<1^e>>31)>>>0)}uint64(e){const n=Ln.fromBigInt(e);return this._push(fd,n.length(),n)}uint64Number(e){return this._push(ih,Mr(e),e)}uint64String(e){return this.uint64(BigInt(e))}int64(e){return this.uint64(e)}int64Number(e){return this.uint64Number(e)}int64String(e){return this.uint64String(e)}sint64(e){const n=Ln.fromBigInt(e).zzEncode();return this._push(fd,n.length(),n)}sint64Number(e){const n=Ln.fromNumber(e).zzEncode();return this._push(fd,n.length(),n)}sint64String(e){return this.sint64(BigInt(e))}bool(e){return this._push(hy,1,e?1:0)}fixed32(e){return this._push(xc,4,e>>>0)}sfixed32(e){return this.fixed32(e)}fixed64(e){const n=Ln.fromBigInt(e);return this._push(xc,4,n.lo)._push(xc,4,n.hi)}fixed64Number(e){const n=Ln.fromNumber(e);return this._push(xc,4,n.lo)._push(xc,4,n.hi)}fixed64String(e){return this.fixed64(BigInt(e))}sfixed64(e){return this.fixed64(e)}sfixed64Number(e){return this.fixed64Number(e)}sfixed64String(e){return this.fixed64String(e)}float(e){return this._push(uP,4,e)}double(e){return this._push(dP,8,e)}bytes(e){const n=e.length>>>0;return n===0?this._push(hy,1,0):this.uint32(n)._push(_P,n,e)}string(e){const n=mP(e);return n!==0?this.uint32(n)._push(z_,n,e):this._push(hy,1,0)}fork(){return this.states=new SP(this),this.head=this.tail=new Lc(dy,0,0),this.len=0,this}reset(){return this.states!=null?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new Lc(dy,0,0),this.len=0),this}ldelim(){const e=this.head,n=this.tail,r=this.len;return this.reset().uint32(r),r!==0&&(this.tail.next=e.next,this.tail=n,this.len+=r),this}finish(){let e=this.head.next;const n=xP(this.len);let r=0;for(;e!=null;)e.fn(e.val,n,r),r+=e.len,e=e.next;return n}}function hy(t,e,n){e[n]=t&255}function CP(t,e,n){for(;t>127;)e[n++]=t&127|128,t>>>=7;e[n]=t}class AP extends Lc{next;constructor(e,n){super(CP,e,n),this.next=void 0}}function fd(t,e,n){for(;t.hi!==0;)e[n++]=t.lo&127|128,t.lo=(t.lo>>>7|t.hi<<25)>>>0,t.hi>>>=7;for(;t.lo>127;)e[n++]=t.lo&127|128,t.lo=t.lo>>>7;e[n++]=t.lo}function xc(t,e,n){e[n]=t&255,e[n+1]=t>>>8&255,e[n+2]=t>>>16&255,e[n+3]=t>>>24}function _P(t,e,n){e.set(t,n)}globalThis.Buffer!=null&&(_b.prototype.bytes=function(t){const e=t.length>>>0;return this.uint32(e),e>0&&this._push(TP,e,t),this},_b.prototype.string=function(t){const e=globalThis.Buffer.byteLength(t);return this.uint32(e),e>0&&this._push(RP,e,t),this});function TP(t,e,n){e.set(t,n)}function RP(t,e,n){t.length<40?z_(t,e,n):e.utf8Write!=null?e.utf8Write(t,n):e.set(Pe(t),n)}function OP(){return new _b}function Tr(t,e){const n=OP();return e.encode(t,n,{lengthDelimited:!1}),n.finish()}var sh;(function(t){t[t.VARINT=0]="VARINT",t[t.BIT64=1]="BIT64",t[t.LENGTH_DELIMITED=2]="LENGTH_DELIMITED",t[t.START_GROUP=3]="START_GROUP",t[t.END_GROUP=4]="END_GROUP",t[t.BIT32=5]="BIT32"})(sh||(sh={}));function F_(t,e,n,r){return{name:t,type:e,encode:n,decode:r}}function MP(t){function e(s){if(t[s.toString()]==null)throw new Error("Invalid enum value");return t[s]}const n=function(a,c){const f=e(a);c.int32(f)},r=function(a){const c=a.int32();return e(c)};return F_("enum",sh.VARINT,n,r)}function Rr(t,e){return F_("message",sh.LENGTH_DELIMITED,t,e)}class nu extends Error{code="ERR_MAX_LENGTH";name="MaxLengthError"}class J2 extends Error{code="ERR_MAX_SIZE";name="MaxSizeError"}var bn;(function(t){t.RSA="RSA",t.Ed25519="Ed25519",t.secp256k1="secp256k1",t.ECDSA="ECDSA"})(bn||(bn={}));var Tb;(function(t){t[t.RSA=0]="RSA",t[t.Ed25519=1]="Ed25519",t[t.secp256k1=2]="secp256k1",t[t.ECDSA=3]="ECDSA"})(Tb||(Tb={}));(function(t){t.codec=()=>MP(Tb)})(bn||(bn={}));var Qa;(function(t){let e;t.codec=()=>(e==null&&(e=Rr((n,r,s={})=>{s.lengthDelimited!==!1&&r.fork(),n.Type!=null&&(r.uint32(8),bn.codec().encode(n.Type,r)),n.Data!=null&&(r.uint32(18),r.bytes(n.Data)),s.lengthDelimited!==!1&&r.ldelim()},(n,r,s={})=>{const a={},c=r==null?n.len:n.pos+r;for(;n.pos<c;){const f=n.uint32();switch(f>>>3){case 1:{a.Type=bn.codec().decode(n);break}case 2:{a.Data=n.bytes();break}default:{n.skipType(f&7);break}}}return a})),e),t.encode=n=>Tr(n,t.codec()),t.decode=(n,r)=>_r(n,t.codec(),r)})(Qa||(Qa={}));var ex;(function(t){let e;t.codec=()=>(e==null&&(e=Rr((n,r,s={})=>{s.lengthDelimited!==!1&&r.fork(),n.Type!=null&&(r.uint32(8),bn.codec().encode(n.Type,r)),n.Data!=null&&(r.uint32(18),r.bytes(n.Data)),s.lengthDelimited!==!1&&r.ldelim()},(n,r,s={})=>{const a={},c=r==null?n.len:n.pos+r;for(;n.pos<c;){const f=n.uint32();switch(f>>>3){case 1:{a.Type=bn.codec().decode(n);break}case 2:{a.Data=n.bytes();break}default:{n.skipType(f&7);break}}}return a})),e),t.encode=n=>Tr(n,t.codec()),t.decode=(n,r)=>_r(n,t.codec(),r)})(ex||(ex={}));function q_(t){if(isNaN(t)||t<=0)throw new bt("random bytes length must be a Number bigger than 0");return Eu(t)}const Ld=d_;class DP{type="RSA";jwk;_raw;_multihash;constructor(e,n){this.jwk=e,this._multihash=n}get raw(){return this._raw==null&&(this._raw=IP(this.jwk)),this._raw}toMultihash(){return this._multihash}toCID(){return yi.createV1(114,this._multihash)}toString(){return dn.encode(this.toMultihash().bytes).substring(1)}equals(e){return e==null||!(e.raw instanceof Uint8Array)?!1:$n(this.raw,e.raw)}verify(e,n,r){return UP(this.jwk,n,e,r)}}const kP=18,LP=1062,NP=Uint8Array.from([48,13,6,9,42,134,72,134,247,13,1,1,1,5,0]);function BP(t){const e=rp(t[1],{offset:0});return{kty:"RSA",n:He(e[0],"base64url"),e:He(e[1],"base64url")}}function IP(t){if(t.n==null||t.e==null)throw new bt("JWK was missing components");return qc([NP,s_(qc([xb(Pe(t.n,"base64url")),xb(Pe(t.e,"base64url"))]))]).subarray()}function PP(t,e){if(t.byteLength>=LP)throw new HA("Key size is too large");const n=rp(t,{offset:0});return $P(n,t,e)}function $P(t,e,n){const r=BP(t);if(n==null){const s=Ld(Qa.encode({Type:bn.RSA,Data:e}));n=tp(kP,s)}return new DP(r,n)}async function UP(t,e,n,r){const s=await Co.get().subtle.importKey("jwk",t,{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!1,["verify"]);r?.signal?.throwIfAborted();const a=await Co.get().subtle.verify({name:"RSASSA-PKCS1-v1_5"},s,e,n instanceof Uint8Array?n:n.subarray());return r?.signal?.throwIfAborted(),a}class H_ extends l_{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,ip(e);const r=eu(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,a=new Uint8Array(s);a.set(r.length>s?e.create().update(r).digest():r);for(let c=0;c<a.length;c++)a[c]^=54;this.iHash.update(a),this.oHash=e.create();for(let c=0;c<a.length;c++)a[c]^=106;this.oHash.update(a),So(a)}update(e){return Jd(this),this.iHash.update(e),this}digestInto(e){Jd(this),Bs(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:s,destroyed:a,blockLen:c,outputLen:f}=this;return e=e,e.finished=s,e.destroyed=a,e.blockLen=c,e.outputLen=f,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const ap=(t,e,n)=>new H_(t,e).update(n).digest();ap.create=(t,e)=>new H_(t,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const tx=(t,e)=>(t+(t>=0?e:-e)/j_)/e;function zP(t,e,n){const[[r,s],[a,c]]=e,f=tx(c*t,n),d=tx(-s*t,n);let p=t-f*r-d*a,g=-f*s-d*c;const y=p<qi,b=g<qi;y&&(p=-p),b&&(g=-g);const w=xu(Math.ceil(p_(n)/2))+Pa;if(p<qi||p>=w||g<qi||g>=w)throw new Error("splitScalar (endomorphism): failed, k="+t);return{k1neg:y,k1:p,k2neg:b,k2:g}}function Rb(t){if(!["compact","recovered","der"].includes(t))throw new Error('Signature format must be "compact", "recovered", or "der"');return t}function py(t,e){const n={};for(let r of Object.keys(e))n[r]=t[r]===void 0?e[r]:t[r];return Eo(n.lowS,"lowS"),Eo(n.prehash,"prehash"),n.format!==void 0&&Rb(n.format),n}class FP extends Error{constructor(e=""){super(e)}}const Fi={Err:FP,_tlv:{encode:(t,e)=>{const{Err:n}=Fi;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const r=e.length/2,s=ad(r);if(s.length/2&128)throw new n("tlv.encode: long form length too big");const a=r>127?ad(s.length/2|128):"";return ad(t)+a+s+e},decode(t,e){const{Err:n}=Fi;let r=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new n("tlv.decode: wrong tlv");const s=e[r++],a=!!(s&128);let c=0;if(!a)c=s;else{const d=s&127;if(!d)throw new n("tlv.decode(long): indefinite length not supported");if(d>4)throw new n("tlv.decode(long): byte length is too big");const p=e.subarray(r,r+d);if(p.length!==d)throw new n("tlv.decode: length bytes not complete");if(p[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const g of p)c=c<<8|g;if(r+=d,c<128)throw new n("tlv.decode(long): not minimal encoding")}const f=e.subarray(r,r+c);if(f.length!==c)throw new n("tlv.decode: wrong value length");return{v:f,l:e.subarray(r+c)}}},_int:{encode(t){const{Err:e}=Fi;if(t<qi)throw new e("integer: negative integers are not allowed");let n=ad(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=Fi;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return sp(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=Fi,s=Ot("signature",t),{v:a,l:c}=r.decode(48,s);if(c.length)throw new e("invalid signature: left bytes after parsing");const{v:f,l:d}=r.decode(2,a),{v:p,l:g}=r.decode(2,d);if(g.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(f),s:n.decode(p)}},hexFromSig(t){const{_tlv:e,_int:n}=Fi,r=e.encode(2,n.encode(t.r)),s=e.encode(2,n.encode(t.s)),a=r+s;return e.encode(48,a)}},qi=BigInt(0),Pa=BigInt(1),j_=BigInt(2),dd=BigInt(3),qP=BigInt(4);function Ma(t,e){const{BYTES:n}=t;let r;if(typeof e=="bigint")r=e;else{let s=Ot("private key",e);try{r=t.fromBytes(s)}catch{throw new Error(`invalid private key: expected ui8a of size ${n}, got ${typeof e}`)}}if(!t.isValidNot0(r))throw new Error("invalid private key: out of range [1..N-1]");return r}function HP(t,e={}){const n=M_("weierstrass",t,e),{Fp:r,Fn:s}=n;let a=n.CURVE;const{h:c,n:f}=a;ul(e,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:d}=e;if(d&&(!r.is0(a.a)||typeof d.beta!="bigint"||!Array.isArray(d.basises)))throw new Error('invalid endo: expected "beta": bigint and "basises": array');const p=K_(r,s);function g(){if(!r.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function y(_,B,L){const{x:N,y:M}=B.toAffine(),q=r.toBytes(N);if(Eo(L,"isCompressed"),L){g();const K=!r.isOdd(M);return li(V_(K),q)}else return li(Uint8Array.of(4),q,r.toBytes(M))}function b(_){jr(_,void 0,"Point");const{publicKey:B,publicKeyUncompressed:L}=p,N=_.length,M=_[0],q=_.subarray(1);if(N===B&&(M===2||M===3)){const K=r.fromBytes(q);if(!r.isValid(K))throw new Error("bad point: is not on curve, wrong x");const F=S(K);let D;try{D=r.sqrt(F)}catch(te){const ae=te instanceof Error?": "+te.message:"";throw new Error("bad point: is not on curve, sqrt error"+ae)}g();const H=r.isOdd(D);return(M&1)===1!==H&&(D=r.neg(D)),{x:K,y:D}}else if(N===L&&M===4){const K=r.BYTES,F=r.fromBytes(q.subarray(0,K)),D=r.fromBytes(q.subarray(K,K*2));if(!E(F,D))throw new Error("bad point: is not on curve");return{x:F,y:D}}else throw new Error(`bad point: got length ${N}, expected compressed=${B} or uncompressed=${L}`)}const w=e.toBytes||y,v=e.fromBytes||b;function S(_){const B=r.sqr(_),L=r.mul(B,_);return r.add(r.add(L,r.mul(_,a.a)),a.b)}function E(_,B){const L=r.sqr(B),N=S(_);return r.eql(L,N)}if(!E(a.Gx,a.Gy))throw new Error("bad curve params: generator point");const C=r.mul(r.pow(a.a,dd),qP),k=r.mul(r.sqr(a.b),BigInt(27));if(r.is0(r.add(C,k)))throw new Error("bad curve params: a or b");function A(_,B,L=!1){if(!r.isValid(B)||L&&r.is0(B))throw new Error(`bad point coordinate ${_}`);return B}function T(_){if(!(_ instanceof P))throw new Error("ProjectivePoint expected")}function R(_){if(!d||!d.basises)throw new Error("no endo");return zP(_,d.basises,s.ORDER)}const I=th((_,B)=>{const{X:L,Y:N,Z:M}=_;if(r.eql(M,r.ONE))return{x:L,y:N};const q=_.is0();B==null&&(B=q?r.ONE:r.inv(M));const K=r.mul(L,B),F=r.mul(N,B),D=r.mul(M,B);if(q)return{x:r.ZERO,y:r.ZERO};if(!r.eql(D,r.ONE))throw new Error("invZ was invalid");return{x:K,y:F}}),$=th(_=>{if(_.is0()){if(e.allowInfinityPoint&&!r.is0(_.Y))return;throw new Error("bad point: ZERO")}const{x:B,y:L}=_.toAffine();if(!r.isValid(B)||!r.isValid(L))throw new Error("bad point: x or y not field elements");if(!E(B,L))throw new Error("bad point: equation left != right");if(!_.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function j(_,B,L,N,M){return L=new P(r.mul(L.X,_),L.Y,L.Z),B=nh(N,B),L=nh(M,L),B.add(L)}class P{constructor(B,L,N){this.X=A("x",B),this.Y=A("y",L,!0),this.Z=A("z",N),Object.freeze(this)}static CURVE(){return a}static fromAffine(B){const{x:L,y:N}=B||{};if(!B||!r.isValid(L)||!r.isValid(N))throw new Error("invalid affine point");if(B instanceof P)throw new Error("projective point not allowed");return r.is0(L)&&r.is0(N)?P.ZERO:new P(L,N,r.ONE)}static fromBytes(B){const L=P.fromAffine(v(jr(B,void 0,"point")));return L.assertValidity(),L}static fromHex(B){return P.fromBytes(Ot("pointHex",B))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(B=8,L=!0){return W.createCache(this,B),L||this.multiply(dd),this}assertValidity(){$(this)}hasEvenY(){const{y:B}=this.toAffine();if(!r.isOdd)throw new Error("Field doesn't support isOdd");return!r.isOdd(B)}equals(B){T(B);const{X:L,Y:N,Z:M}=this,{X:q,Y:K,Z:F}=B,D=r.eql(r.mul(L,F),r.mul(q,M)),H=r.eql(r.mul(N,F),r.mul(K,M));return D&&H}negate(){return new P(this.X,r.neg(this.Y),this.Z)}double(){const{a:B,b:L}=a,N=r.mul(L,dd),{X:M,Y:q,Z:K}=this;let F=r.ZERO,D=r.ZERO,H=r.ZERO,Q=r.mul(M,M),te=r.mul(q,q),ae=r.mul(K,K),se=r.mul(M,q);return se=r.add(se,se),H=r.mul(M,K),H=r.add(H,H),F=r.mul(B,H),D=r.mul(N,ae),D=r.add(F,D),F=r.sub(te,D),D=r.add(te,D),D=r.mul(F,D),F=r.mul(se,F),H=r.mul(N,H),ae=r.mul(B,ae),se=r.sub(Q,ae),se=r.mul(B,se),se=r.add(se,H),H=r.add(Q,Q),Q=r.add(H,Q),Q=r.add(Q,ae),Q=r.mul(Q,se),D=r.add(D,Q),ae=r.mul(q,K),ae=r.add(ae,ae),Q=r.mul(ae,se),F=r.sub(F,Q),H=r.mul(ae,te),H=r.add(H,H),H=r.add(H,H),new P(F,D,H)}add(B){T(B);const{X:L,Y:N,Z:M}=this,{X:q,Y:K,Z:F}=B;let D=r.ZERO,H=r.ZERO,Q=r.ZERO;const te=a.a,ae=r.mul(a.b,dd);let se=r.mul(L,q),le=r.mul(N,K),ge=r.mul(M,F),he=r.add(L,N),fe=r.add(q,K);he=r.mul(he,fe),fe=r.add(se,le),he=r.sub(he,fe),fe=r.add(L,M);let de=r.add(q,F);return fe=r.mul(fe,de),de=r.add(se,ge),fe=r.sub(fe,de),de=r.add(N,M),D=r.add(K,F),de=r.mul(de,D),D=r.add(le,ge),de=r.sub(de,D),Q=r.mul(te,fe),D=r.mul(ae,ge),Q=r.add(D,Q),D=r.sub(le,Q),Q=r.add(le,Q),H=r.mul(D,Q),le=r.add(se,se),le=r.add(le,se),ge=r.mul(te,ge),fe=r.mul(ae,fe),le=r.add(le,ge),ge=r.sub(se,ge),ge=r.mul(te,ge),fe=r.add(fe,ge),se=r.mul(le,fe),H=r.add(H,se),se=r.mul(de,fe),D=r.mul(he,D),D=r.sub(D,se),se=r.mul(he,le),Q=r.mul(de,Q),Q=r.add(Q,se),new P(D,H,Q)}subtract(B){return this.add(B.negate())}is0(){return this.equals(P.ZERO)}multiply(B){const{endo:L}=e;if(!s.isValidNot0(B))throw new Error("invalid scalar: out of range");let N,M;const q=K=>W.cached(this,K,F=>ho(P,F));if(L){const{k1neg:K,k1:F,k2neg:D,k2:H}=R(B),{p:Q,f:te}=q(F),{p:ae,f:se}=q(H);M=te.add(se),N=j(L.beta,Q,ae,K,D)}else{const{p:K,f:F}=q(B);N=K,M=F}return ho(P,[N,M])[0]}multiplyUnsafe(B){const{endo:L}=e,N=this;if(!s.isValid(B))throw new Error("invalid scalar: out of range");if(B===qi||N.is0())return P.ZERO;if(B===Pa)return N;if(W.hasCache(this))return this.multiply(B);if(L){const{k1neg:M,k1:q,k2neg:K,k2:F}=R(B),{p1:D,p2:H}=kI(P,N,q,F);return j(L.beta,D,H,M,K)}else return W.unsafe(N,B)}multiplyAndAddUnsafe(B,L,N){const M=this.multiplyUnsafe(L).add(B.multiplyUnsafe(N));return M.is0()?void 0:M}toAffine(B){return I(this,B)}isTorsionFree(){const{isTorsionFree:B}=e;return c===Pa?!0:B?B(P,this):W.unsafe(this,f).is0()}clearCofactor(){const{clearCofactor:B}=e;return c===Pa?this:B?B(P,this):this.multiplyUnsafe(c)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}toBytes(B=!0){return Eo(B,"isCompressed"),this.assertValidity(),w(P,this,B)}toHex(B=!0){return yo(this.toBytes(B))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get px(){return this.X}get py(){return this.X}get pz(){return this.Z}toRawBytes(B=!0){return this.toBytes(B)}_setWindowSize(B){this.precompute(B)}static normalizeZ(B){return ho(P,B)}static msm(B,L){return O_(P,s,B,L)}static fromPrivateKey(B){return P.BASE.multiply(Ma(s,B))}}P.BASE=new P(a.Gx,a.Gy,r.ONE),P.ZERO=new P(r.ZERO,r.ONE,r.ZERO),P.Fp=r,P.Fn=s;const G=s.BITS,W=new R_(P,e.endo?Math.ceil(G/2):G);return P.BASE.precompute(8),P}function V_(t){return Uint8Array.of(t?2:3)}function K_(t,e){return{secretKey:e.BYTES,publicKey:1+t.BYTES,publicKeyUncompressed:1+2*t.BYTES,publicKeyHasPrefix:!0,signature:2*e.BYTES}}function jP(t,e={}){const{Fn:n}=t,r=e.randomBytes||Eu,s=Object.assign(K_(t.Fp,n),{seed:A_(n.ORDER)});function a(w){try{return!!Ma(n,w)}catch{return!1}}function c(w,v){const{publicKey:S,publicKeyUncompressed:E}=s;try{const C=w.length;return v===!0&&C!==S||v===!1&&C!==E?!1:!!t.fromBytes(w)}catch{return!1}}function f(w=r(s.seed)){return OI(jr(w,s.seed,"seed"),n.ORDER)}function d(w,v=!0){return t.BASE.multiply(Ma(n,w)).toBytes(v)}function p(w){const v=f(w);return{secretKey:v,publicKey:d(v)}}function g(w){if(typeof w=="bigint")return!1;if(w instanceof t)return!0;const{secretKey:v,publicKey:S,publicKeyUncompressed:E}=s;if(n.allowedLengths||v===S)return;const C=Ot("key",w).length;return C===S||C===E}function y(w,v,S=!0){if(g(w)===!0)throw new Error("first arg must be private key");if(g(v)===!1)throw new Error("second arg must be public key");const E=Ma(n,w);return t.fromHex(v).multiply(E).toBytes(S)}return Object.freeze({getPublicKey:d,getSharedSecret:y,keygen:p,Point:t,utils:{isValidSecretKey:a,isValidPublicKey:c,randomSecretKey:f,isValidPrivateKey:a,randomPrivateKey:f,normPrivateKeyToScalar:w=>Ma(n,w),precompute(w=8,v=t.BASE){return v.precompute(w,!1)}},lengths:s})}function VP(t,e,n={}){ip(e),ul(n,{},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const r=n.randomBytes||Eu,s=n.hmac||((L,...N)=>ap(e,L,li(...N))),{Fp:a,Fn:c}=t,{ORDER:f,BITS:d}=c,{keygen:p,getPublicKey:g,getSharedSecret:y,utils:b,lengths:w}=jP(t,n),v={prehash:!1,lowS:typeof n.lowS=="boolean"?n.lowS:!1,format:void 0,extraEntropy:!1},S="compact";function E(L){const N=f>>Pa;return L>N}function C(L,N){if(!c.isValidNot0(N))throw new Error(`invalid signature ${L}: out of range 1..Point.Fn.ORDER`);return N}function k(L,N){Rb(N);const M=w.signature,q=N==="compact"?M:N==="recovered"?M+1:void 0;return jr(L,q,`${N} signature`)}class A{constructor(N,M,q){this.r=C("r",N),this.s=C("s",M),q!=null&&(this.recovery=q),Object.freeze(this)}static fromBytes(N,M=S){k(N,M);let q;if(M==="der"){const{r:H,s:Q}=Fi.toSig(jr(N));return new A(H,Q)}M==="recovered"&&(q=N[0],M="compact",N=N.subarray(1));const K=c.BYTES,F=N.subarray(0,K),D=N.subarray(K,K*2);return new A(c.fromBytes(F),c.fromBytes(D),q)}static fromHex(N,M){return this.fromBytes(eh(N),M)}addRecoveryBit(N){return new A(this.r,this.s,N)}recoverPublicKey(N){const M=a.ORDER,{r:q,s:K,recovery:F}=this;if(F==null||![0,1,2,3].includes(F))throw new Error("recovery id invalid");if(f*j_<M&&F>1)throw new Error("recovery id is ambiguous for h>1 curve");const H=F===2||F===3?q+f:q;if(!a.isValid(H))throw new Error("recovery id 2 or 3 invalid");const Q=a.toBytes(H),te=t.fromBytes(li(V_((F&1)===0),Q)),ae=c.inv(H),se=R(Ot("msgHash",N)),le=c.create(-se*ae),ge=c.create(K*ae),he=t.BASE.multiplyUnsafe(le).add(te.multiplyUnsafe(ge));if(he.is0())throw new Error("point at infinify");return he.assertValidity(),he}hasHighS(){return E(this.s)}toBytes(N=S){if(Rb(N),N==="der")return eh(Fi.hexFromSig(this));const M=c.toBytes(this.r),q=c.toBytes(this.s);if(N==="recovered"){if(this.recovery==null)throw new Error("recovery bit must be present");return li(Uint8Array.of(this.recovery),M,q)}return li(M,q)}toHex(N){return yo(this.toBytes(N))}assertValidity(){}static fromCompact(N){return A.fromBytes(Ot("sig",N),"compact")}static fromDER(N){return A.fromBytes(Ot("sig",N),"der")}normalizeS(){return this.hasHighS()?new A(this.r,c.neg(this.s),this.recovery):this}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return yo(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return yo(this.toBytes("compact"))}}const T=n.bits2int||function(N){if(N.length>8192)throw new Error("input is too large");const M=sp(N),q=N.length*8-d;return q>0?M>>BigInt(q):M},R=n.bits2int_modN||function(N){return c.create(T(N))},I=xu(d);function $(L){return tu("num < 2^"+d,L,qi,I),c.toBytes(L)}function j(L,N){return jr(L,void 0,"message"),N?jr(e(L),void 0,"prehashed message"):L}function P(L,N,M){if(["recovered","canonical"].some(le=>le in M))throw new Error("sign() legacy options not supported");const{lowS:q,prehash:K,extraEntropy:F}=py(M,v);L=j(L,K);const D=R(L),H=Ma(c,N),Q=[$(H),$(D)];if(F!=null&&F!==!1){const le=F===!0?r(w.secretKey):F;Q.push(Ot("extraEntropy",le))}const te=li(...Q),ae=D;function se(le){const ge=T(le);if(!c.isValidNot0(ge))return;const he=c.inv(ge),fe=t.BASE.multiply(ge).toAffine(),de=c.create(fe.x);if(de===qi)return;const De=c.create(he*c.create(ae+de*H));if(De===qi)return;let Le=(fe.x===de?0:2)|Number(fe.y&Pa),wt=De;return q&&E(De)&&(wt=c.neg(De),Le^=1),new A(de,wt,Le)}return{seed:te,k2sig:se}}function G(L,N,M={}){L=Ot("message",L);const{seed:q,k2sig:K}=P(L,N,M);return vI(e.outputLen,c.BYTES,s)(q,K)}function W(L){let N;const M=typeof L=="string"||Su(L),q=!M&&L!==null&&typeof L=="object"&&typeof L.r=="bigint"&&typeof L.s=="bigint";if(!M&&!q)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");if(q)N=new A(L.r,L.s);else if(M){try{N=A.fromBytes(Ot("sig",L),"der")}catch(K){if(!(K instanceof Fi.Err))throw K}if(!N)try{N=A.fromBytes(Ot("sig",L),"compact")}catch{return!1}}return N||!1}function _(L,N,M,q={}){const{lowS:K,prehash:F,format:D}=py(q,v);if(M=Ot("publicKey",M),N=j(Ot("message",N),F),"strict"in q)throw new Error("options.strict was renamed to lowS");const H=D===void 0?W(L):A.fromBytes(Ot("sig",L),D);if(H===!1)return!1;try{const Q=t.fromBytes(M);if(K&&H.hasHighS())return!1;const{r:te,s:ae}=H,se=R(N),le=c.inv(ae),ge=c.create(se*le),he=c.create(te*le),fe=t.BASE.multiplyUnsafe(ge).add(Q.multiplyUnsafe(he));return fe.is0()?!1:c.create(fe.x)===te}catch{return!1}}function B(L,N,M={}){const{prehash:q}=py(M,v);return N=j(N,q),A.fromBytes(L,"recovered").recoverPublicKey(N).toBytes()}return Object.freeze({keygen:p,getPublicKey:g,getSharedSecret:y,utils:b,lengths:w,Point:t,sign:G,verify:_,recoverPublicKey:B,Signature:A,hash:e})}function KP(t){const e={a:t.a,b:t.b,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},n=t.Fp;let r=t.allowedPrivateKeyLengths?Array.from(new Set(t.allowedPrivateKeyLengths.map(c=>Math.ceil(c/2)))):void 0;const s=Do(e.n,{BITS:t.nBitLength,allowedLengths:r,modFromBytes:t.wrapPrivateKey}),a={Fp:n,Fn:s,allowInfinityPoint:t.allowInfinityPoint,endo:t.endo,isTorsionFree:t.isTorsionFree,clearCofactor:t.clearCofactor,fromBytes:t.fromBytes,toBytes:t.toBytes};return{CURVE:e,curveOpts:a}}function GP(t){const{CURVE:e,curveOpts:n}=KP(t),r={hmac:t.hmac,randomBytes:t.randomBytes,lowS:t.lowS,bits2int:t.bits2int,bits2int_modN:t.bits2int_modN};return{CURVE:e,curveOpts:n,hash:t.hash,ecdsaOpts:r}}function YP(t,e){const n=e.Point;return Object.assign({},e,{ProjectivePoint:n,CURVE:Object.assign({},t,x_(n.Fn.ORDER,n.Fn.BITS))})}function XP(t){const{CURVE:e,curveOpts:n,hash:r,ecdsaOpts:s}=GP(t),a=HP(e,n),c=VP(a,r,s);return YP(t,c)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function WP(t,e){const n=r=>XP({...t,hash:r});return{...n(e),create:n}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ev={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:BigInt(1),a:BigInt(0),b:BigInt(7),Gx:BigInt("0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),Gy:BigInt("0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8")},QP={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),basises:[[BigInt("0x3086d221a7d46bcde86c90e49284eb15"),-BigInt("0xe4437ed6010e88286f547fa90abfe4c3")],[BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),BigInt("0x3086d221a7d46bcde86c90e49284eb15")]]},nx=BigInt(2);function ZP(t){const e=ev.p,n=BigInt(3),r=BigInt(6),s=BigInt(11),a=BigInt(22),c=BigInt(23),f=BigInt(44),d=BigInt(88),p=t*t*t%e,g=p*p*t%e,y=kt(g,n,e)*g%e,b=kt(y,n,e)*g%e,w=kt(b,nx,e)*p%e,v=kt(w,s,e)*w%e,S=kt(v,a,e)*v%e,E=kt(S,f,e)*S%e,C=kt(E,d,e)*E%e,k=kt(C,f,e)*S%e,A=kt(k,n,e)*g%e,T=kt(A,c,e)*v%e,R=kt(T,r,e)*p%e,I=kt(R,nx,e);if(!Ob.eql(Ob.sqr(I),t))throw new Error("Cannot find square root");return I}const Ob=Do(ev.p,{sqrt:ZP}),oh=WP({...ev,Fp:Ob,lowS:!0,endo:QP},d_);function JP(t,e,n,r){const s=n_.digest(n instanceof Uint8Array?n:n.subarray());if(K0(s))return s.then(({digest:a})=>(r?.signal?.throwIfAborted(),oh.verify(e,a,t))).catch(a=>{throw a.name==="AbortError"?a:new Q2(String(a))});try{return r?.signal?.throwIfAborted(),oh.verify(e,s.digest,t)}catch(a){throw new Q2(String(a))}}class e${type="secp256k1";raw;_key;constructor(e){this._key=n$(e),this.raw=t$(this._key)}toMultihash(){return vu.digest(Ts(this))}toCID(){return yi.createV1(114,this.toMultihash())}toString(){return dn.encode(this.toMultihash().bytes).substring(1)}equals(e){return e==null||!(e.raw instanceof Uint8Array)?!1:$n(this.raw,e.raw)}verify(e,n,r){return JP(this._key,n,e,r)}}function G_(t){return new e$(t)}function t$(t){return oh.ProjectivePoint.fromHex(t).toRawBytes(!0)}function n$(t){try{return oh.ProjectivePoint.fromHex(t),t}catch(e){throw new HA(String(e))}}async function r$(t,e){return iP()}function Za(t,e){const{Type:n,Data:r}=Qa.decode(t),s=r??new Uint8Array;switch(n){case bn.RSA:return PP(s,e);case bn.Ed25519:return $_(s);case bn.secp256k1:return G_(s);case bn.ECDSA:return o_(s);default:throw new I0}}function i$(t){const{Type:e,Data:n}=Qa.decode(t.digest),r=n??new Uint8Array;switch(e){case bn.Ed25519:return $_(r);case bn.secp256k1:return G_(r);case bn.ECDSA:return o_(r);default:throw new I0}}function Ts(t){return Qa.encode({Type:bn[t.type],Data:t.raw})}const Y_=Symbol.for("nodejs.util.inspect.custom"),s$=114;let tv=class{type;multihash;publicKey;string;constructor(e){this.type=e.type,this.multihash=e.multihash,Object.defineProperty(this,"string",{enumerable:!1,writable:!0})}get[Symbol.toStringTag](){return`PeerId(${this.toString()})`}[N0]=!0;toString(){return this.string==null&&(this.string=dn.encode(this.multihash.bytes).slice(1)),this.string}toMultihash(){return this.multihash}toCID(){return yi.createV1(s$,this.multihash)}toJSON(){return this.toString()}equals(e){if(e==null)return!1;if(e instanceof Uint8Array)return $n(this.multihash.bytes,e);if(typeof e=="string")return this.toString()===e;if(e?.toMultihash()?.bytes!=null)return $n(this.multihash.bytes,e.toMultihash().bytes);throw new Error("not valid Id")}[Y_](){return`PeerId(${this.toString()})`}};class X_ extends tv{type="RSA";publicKey;constructor(e){super({...e,type:"RSA"}),this.publicKey=e.publicKey}}class W_ extends tv{type="Ed25519";publicKey;constructor(e){super({...e,type:"Ed25519"}),this.publicKey=e.publicKey}}class Q_ extends tv{type="secp256k1";publicKey;constructor(e){super({...e,type:"secp256k1"}),this.publicKey=e.publicKey}}const o$=2336;class Z_{type="url";multihash;publicKey;url;constructor(e){this.url=e.toString(),this.multihash=vu.digest(Pe(this.url))}[Y_](){return`PeerId(${this.url})`}[N0]=!0;toString(){return this.toCID().toString()}toMultihash(){return this.multihash}toCID(){return yi.createV1(o$,this.toMultihash())}toJSON(){return this.toString()}equals(e){return e==null?!1:(e instanceof Uint8Array&&(e=He(e)),e.toString()===this.toString())}}const a$=114,rx=2336;function Ja(t,e){let n;if(t.charAt(0)==="1"||t.charAt(0)==="Q")n=np(dn.decode(`z${t}`));else{if(t.startsWith("k51qzi5uqu5")||t.startsWith("kzwfwjn5ji4")||t.startsWith("k2k4r8")||t.startsWith("bafz"))return nv(yi.parse(t));throw new bt('Please pass a multibase decoder for strings that do not start with "1" or "Q"')}return lp(n)}function ah(t){if(t.type==="Ed25519")return new W_({multihash:t.toCID().multihash,publicKey:t});if(t.type==="secp256k1")return new Q_({multihash:t.toCID().multihash,publicKey:t});if(t.type==="RSA")return new X_({multihash:t.toCID().multihash,publicKey:t});throw new I0}function l$(t){return ah(t.publicKey)}function lp(t){if(u$(t))return new X_({multihash:t});if(c$(t))try{const e=i$(t);if(e.type==="Ed25519")return new W_({multihash:t,publicKey:e});if(e.type==="secp256k1")return new Q_({multihash:t,publicKey:e})}catch{const n=He(t.digest);return new Z_(new URL(n))}throw new aN("Supplied PeerID Multihash is invalid")}function nv(t){if(t?.multihash==null||t.version==null||t.version===1&&t.code!==a$&&t.code!==rx)throw new oN("Supplied PeerID CID is invalid");if(t.code===rx){const e=He(t.multihash.digest);return new Z_(new URL(e))}return lp(t.multihash)}function c$(t){return t.code===vu.code}function u$(t){return t.code===n_.code}function lh(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}const{hasOwnProperty:J_}=Object.prototype,{propertyIsEnumerable:f$}=Object,el=(t,e,n)=>{Object.defineProperty(t,e,{value:n,writable:!0,enumerable:!0,configurable:!0})},d$=void 0,ix={concatArrays:!1,ignoreUndefined:!1},cp=t=>{const e=[];for(const n in t)J_.call(t,n)&&e.push(n);if(Object.getOwnPropertySymbols){const n=Object.getOwnPropertySymbols(t);for(const r of n)f$.call(t,r)&&e.push(r)}return e};function fl(t){return Array.isArray(t)?h$(t):lh(t)?p$(t):t}function h$(t){const e=t.slice(0,0);return cp(t).forEach(n=>{el(e,n,fl(t[n]))}),e}function p$(t){const e=Object.getPrototypeOf(t)===null?Object.create(null):{};return cp(t).forEach(n=>{el(e,n,fl(t[n]))}),e}const eT=(t,e,n,r)=>(n.forEach(s=>{typeof e[s]>"u"&&r.ignoreUndefined||(s in t&&t[s]!==Object.getPrototypeOf(t)?el(t,s,Mb(t[s],e[s],r)):el(t,s,fl(e[s])))}),t),g$=(t,e,n)=>{let r=t.slice(0,0),s=0;return[t,e].forEach(a=>{const c=[];for(let f=0;f<a.length;f++)J_.call(a,f)&&(c.push(String(f)),a===t?el(r,s++,a[f]):el(r,s++,fl(a[f])));r=eT(r,a,cp(a).filter(f=>!c.includes(f)),n)}),r};function Mb(t,e,n){return n.concatArrays&&Array.isArray(t)&&Array.isArray(e)?g$(t,e,n):!lh(e)||!lh(t)?fl(e):eT(t,e,cp(e),n)}function tT(...t){const e=Mb(fl(ix),this!==d$&&this||{},ix);let n={_:{}};for(const r of t)if(r!==void 0){if(!lh(r))throw new TypeError("`"+r+"` is not an Option Object");n=Mb(n,{_:r},e)}return n._}class Yn extends Event{type;detail;constructor(e,n){super(e),this.type=e,this.detail=n}}var gy={exports:{}},sx;function m$(){return sx||(sx=1,function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function s(d,p,g){this.fn=d,this.context=p,this.once=g||!1}function a(d,p,g,y,b){if(typeof g!="function")throw new TypeError("The listener must be a function");var w=new s(g,y||d,b),v=n?n+p:p;return d._events[v]?d._events[v].fn?d._events[v]=[d._events[v],w]:d._events[v].push(w):(d._events[v]=w,d._eventsCount++),d}function c(d,p){--d._eventsCount===0?d._events=new r:delete d._events[p]}function f(){this._events=new r,this._eventsCount=0}f.prototype.eventNames=function(){var p=[],g,y;if(this._eventsCount===0)return p;for(y in g=this._events)e.call(g,y)&&p.push(n?y.slice(1):y);return Object.getOwnPropertySymbols?p.concat(Object.getOwnPropertySymbols(g)):p},f.prototype.listeners=function(p){var g=n?n+p:p,y=this._events[g];if(!y)return[];if(y.fn)return[y.fn];for(var b=0,w=y.length,v=new Array(w);b<w;b++)v[b]=y[b].fn;return v},f.prototype.listenerCount=function(p){var g=n?n+p:p,y=this._events[g];return y?y.fn?1:y.length:0},f.prototype.emit=function(p,g,y,b,w,v){var S=n?n+p:p;if(!this._events[S])return!1;var E=this._events[S],C=arguments.length,k,A;if(E.fn){switch(E.once&&this.removeListener(p,E.fn,void 0,!0),C){case 1:return E.fn.call(E.context),!0;case 2:return E.fn.call(E.context,g),!0;case 3:return E.fn.call(E.context,g,y),!0;case 4:return E.fn.call(E.context,g,y,b),!0;case 5:return E.fn.call(E.context,g,y,b,w),!0;case 6:return E.fn.call(E.context,g,y,b,w,v),!0}for(A=1,k=new Array(C-1);A<C;A++)k[A-1]=arguments[A];E.fn.apply(E.context,k)}else{var T=E.length,R;for(A=0;A<T;A++)switch(E[A].once&&this.removeListener(p,E[A].fn,void 0,!0),C){case 1:E[A].fn.call(E[A].context);break;case 2:E[A].fn.call(E[A].context,g);break;case 3:E[A].fn.call(E[A].context,g,y);break;case 4:E[A].fn.call(E[A].context,g,y,b);break;default:if(!k)for(R=1,k=new Array(C-1);R<C;R++)k[R-1]=arguments[R];E[A].fn.apply(E[A].context,k)}}return!0},f.prototype.on=function(p,g,y){return a(this,p,g,y,!1)},f.prototype.once=function(p,g,y){return a(this,p,g,y,!0)},f.prototype.removeListener=function(p,g,y,b){var w=n?n+p:p;if(!this._events[w])return this;if(!g)return c(this,w),this;var v=this._events[w];if(v.fn)v.fn===g&&(!b||v.once)&&(!y||v.context===y)&&c(this,w);else{for(var S=0,E=[],C=v.length;S<C;S++)(v[S].fn!==g||b&&!v[S].once||y&&v[S].context!==y)&&E.push(v[S]);E.length?this._events[w]=E.length===1?E[0]:E:c(this,w)}return this},f.prototype.removeAllListeners=function(p){var g;return p?(g=n?n+p:p,this._events[g]&&c(this,g)):(this._events=new r,this._eventsCount=0),this},f.prototype.off=f.prototype.removeListener,f.prototype.addListener=f.prototype.on,f.prefixed=n,f.EventEmitter=f,t.exports=f}(gy)),gy.exports}var y$=m$();const b$=gi(y$);let nT=class extends Error{constructor(e){super(e),this.name="TimeoutError"}},v$=class extends Error{constructor(e){super(),this.name="AbortError",this.message=e}};const ox=t=>globalThis.DOMException===void 0?new v$(t):new DOMException(t),ax=t=>{const e=t.reason===void 0?ox("This operation was aborted."):t.reason;return e instanceof Error?e:ox(e)};function w$(t,e){const{milliseconds:n,fallback:r,message:s,customTimers:a={setTimeout,clearTimeout}}=e;let c,f;const p=new Promise((g,y)=>{if(typeof n!="number"||Math.sign(n)!==1)throw new TypeError(`Expected \`milliseconds\` to be a positive number, got \`${n}\``);if(e.signal){const{signal:w}=e;w.aborted&&y(ax(w)),f=()=>{y(ax(w))},w.addEventListener("abort",f,{once:!0})}if(n===Number.POSITIVE_INFINITY){t.then(g,y);return}const b=new nT;c=a.setTimeout.call(void 0,()=>{if(r){try{g(r())}catch(w){y(w)}return}typeof t.cancel=="function"&&t.cancel(),s===!1?g():s instanceof Error?y(s):(b.message=s??`Promise timed out after ${n} milliseconds`,y(b))},n),(async()=>{try{g(await t)}catch(w){y(w)}})()}).finally(()=>{p.clear(),f&&e.signal&&e.signal.removeEventListener("abort",f)});return p.clear=()=>{a.clearTimeout.call(void 0,c),c=void 0},p}function S$(t,e,n){let r=0,s=t.length;for(;s>0;){const a=Math.trunc(s/2);let c=r+a;n(t[c],e)<=0?(r=++c,s-=a+1):s=a}return r}let E$=class{#e=[];enqueue(e,n){n={priority:0,...n};const r={priority:n.priority,id:n.id,run:e};if(this.size===0||this.#e[this.size-1].priority>=n.priority){this.#e.push(r);return}const s=S$(this.#e,r,(a,c)=>c.priority-a.priority);this.#e.splice(s,0,r)}setPriority(e,n){const r=this.#e.findIndex(a=>a.id===e);if(r===-1)throw new ReferenceError(`No promise function with the id "${e}" exists in the queue.`);const[s]=this.#e.splice(r,1);this.enqueue(s.run,{priority:n,id:e})}dequeue(){return this.#e.shift()?.run}filter(e){return this.#e.filter(n=>n.priority===e.priority).map(n=>n.run)}get size(){return this.#e.length}};class x$ extends b${#e;#r;#t=0;#h;#a;#p=0;#i;#l;#n;#g;#s=0;#c;#o;#m;#v=1n;timeout;constructor(e){if(super(),e={carryoverConcurrencyCount:!1,intervalCap:Number.POSITIVE_INFINITY,interval:0,concurrency:Number.POSITIVE_INFINITY,autoStart:!0,queueClass:E$,...e},!(typeof e.intervalCap=="number"&&e.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${e.intervalCap?.toString()??""}\` (${typeof e.intervalCap})`);if(e.interval===void 0||!(Number.isFinite(e.interval)&&e.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${e.interval?.toString()??""}\` (${typeof e.interval})`);this.#e=e.carryoverConcurrencyCount,this.#r=e.intervalCap===Number.POSITIVE_INFINITY||e.interval===0,this.#h=e.intervalCap,this.#a=e.interval,this.#n=new e.queueClass,this.#g=e.queueClass,this.concurrency=e.concurrency,this.timeout=e.timeout,this.#m=e.throwOnTimeout===!0,this.#o=e.autoStart===!1}get#w(){return this.#r||this.#t<this.#h}get#S(){return this.#s<this.#c}#E(){this.#s--,this.#u(),this.emit("next")}#x(){this.#b(),this.#y(),this.#l=void 0}get#C(){const e=Date.now();if(this.#i===void 0){const n=this.#p-e;if(n<0)this.#t=this.#e?this.#s:0;else return this.#l===void 0&&(this.#l=setTimeout(()=>{this.#x()},n)),!0}return!1}#u(){if(this.#n.size===0)return this.#i&&clearInterval(this.#i),this.#i=void 0,this.emit("empty"),this.#s===0&&this.emit("idle"),!1;if(!this.#o){const e=!this.#C;if(this.#w&&this.#S){const n=this.#n.dequeue();return n?(this.emit("active"),n(),e&&this.#y(),!0):!1}}return!1}#y(){this.#r||this.#i!==void 0||(this.#i=setInterval(()=>{this.#b()},this.#a),this.#p=Date.now()+this.#a)}#b(){this.#t===0&&this.#s===0&&this.#i&&(clearInterval(this.#i),this.#i=void 0),this.#t=this.#e?this.#s:0,this.#f()}#f(){for(;this.#u(););}get concurrency(){return this.#c}set concurrency(e){if(!(typeof e=="number"&&e>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${e}\` (${typeof e})`);this.#c=e,this.#f()}async#A(e){return new Promise((n,r)=>{e.addEventListener("abort",()=>{r(e.reason)},{once:!0})})}setPriority(e,n){this.#n.setPriority(e,n)}async add(e,n={}){return n.id??=(this.#v++).toString(),n={timeout:this.timeout,throwOnTimeout:this.#m,...n},new Promise((r,s)=>{this.#n.enqueue(async()=>{this.#s++,this.#t++;try{n.signal?.throwIfAborted();let a=e({signal:n.signal});n.timeout&&(a=w$(Promise.resolve(a),{milliseconds:n.timeout})),n.signal&&(a=Promise.race([a,this.#A(n.signal)]));const c=await a;r(c),this.emit("completed",c)}catch(a){if(a instanceof nT&&!n.throwOnTimeout){r();return}s(a),this.emit("error",a)}finally{this.#E()}},n),this.emit("add"),this.#u()})}async addAll(e,n){return Promise.all(e.map(async r=>this.add(r,n)))}start(){return this.#o?(this.#o=!1,this.#f(),this):this}pause(){this.#o=!0}clear(){this.#n=new this.#g}async onEmpty(){this.#n.size!==0&&await this.#d("empty")}async onSizeLessThan(e){this.#n.size<e||await this.#d("next",()=>this.#n.size<e)}async onIdle(){this.#s===0&&this.#n.size===0||await this.#d("idle")}async#d(e,n){return new Promise(r=>{const s=()=>{n&&!n()||(this.off(e,s),r())};this.on(e,s)})}get size(){return this.#n.size}sizeBy(e){return this.#n.filter(e).length}get pending(){return this.#s}get isPaused(){return this.#o}}function rT(t){const e=[ks.A];return t==null?e:Array.isArray(t)?t.length===0?e:t:[t]}const iT=60;function sT(t){return{Status:t.Status??0,TC:t.TC??t.flag_tc??!1,RD:t.RD??t.flag_rd??!1,RA:t.RA??t.flag_ra??!1,AD:t.AD??t.flag_ad??!1,CD:t.CD??t.flag_cd??!1,Question:(t.Question??t.questions??[]).map(e=>({name:e.name,type:ks[e.type]})),Answer:(t.Answer??t.answers??[]).map(e=>({name:e.name,type:ks[e.type],TTL:e.TTL??e.ttl??iT,data:e.data instanceof Uint8Array?He(e.data):e.data}))}}const C$=4;function lx(t,e={}){const n=new x$({concurrency:e.queryConcurrency??C$});return async(r,s={})=>{const a=new URLSearchParams;a.set("name",r),rT(s.types).forEach(f=>{a.append("type",ks[f])}),s.onProgress?.(new Yn("dns:query",{detail:r}));const c=await n.add(async()=>{const f=await fetch(`${t}?${a}`,{headers:{accept:"application/dns-json"},signal:s?.signal});if(f.status!==200)throw new Error(`Unexpected HTTP status: ${f.status} - ${f.statusText}`);const d=sT(await f.json());return s.onProgress?.(new Yn("dns:response",{detail:d})),d},{signal:s.signal});if(c==null)throw new Error("No DNS response received");return c}}function A$(){return[lx("https://cloudflare-dns.com/dns-query"),lx("https://dns.google/resolve")]}var my,cx;function _$(){return cx||(cx=1,my=function(t){if(!t)throw Error("hashlru must have a max value, of type number, greater than 0");var e=0,n=Object.create(null),r=Object.create(null);function s(a,c){n[a]=c,e++,e>=t&&(e=0,r=n,n=Object.create(null))}return{has:function(a){return n[a]!==void 0||r[a]!==void 0},remove:function(a){n[a]!==void 0&&(n[a]=void 0),r[a]!==void 0&&(r[a]=void 0)},get:function(a){var c=n[a];if(c!==void 0)return c;if((c=r[a])!==void 0)return s(a,c),c},set:function(a,c){n[a]!==void 0?n[a]=c:s(a,c)},clear:function(){n=Object.create(null),r=Object.create(null)}}}),my}var T$=_$();const R$=gi(T$);class O${lru;constructor(e){this.lru=R$(e)}get(e,n){let r=!0;const s=[];for(const a of n){const c=this.getAnswers(e,a);if(c.length===0){r=!1;break}s.push(...c)}if(r)return sT({answers:s})}getAnswers(e,n){const r=`${e.toLowerCase()}-${n}`,s=this.lru.get(r);if(s!=null){const a=s.filter(c=>c.expires>Date.now()).map(({expires:c,value:f})=>({...f,TTL:Math.round((c-Date.now())/1e3),type:ks[f.type]}));return a.length===0&&this.lru.remove(r),a}return[]}add(e,n){const r=`${e.toLowerCase()}-${n.type}`,s=this.lru.get(r)??[];s.push({expires:Date.now()+(n.TTL??iT)*1e3,value:n}),this.lru.set(r,s)}remove(e,n){const r=`${e.toLowerCase()}-${n}`;this.lru.remove(r)}clear(){this.lru.clear()}}function M$(t){return new O$(t)}const D$=1e3;let k$=class{resolvers;cache;constructor(e){this.resolvers={},this.cache=M$(e.cacheSize??D$),Object.entries(e.resolvers??{}).forEach(([n,r])=>{Array.isArray(r)||(r=[r]),n.endsWith(".")||(n=`${n}.`),this.resolvers[n]=r}),this.resolvers["."]==null&&(this.resolvers["."]=A$())}async query(e,n={}){const r=rT(n.types),s=n.cached!==!1?this.cache.get(e,r):void 0;if(s!=null)return n.onProgress?.(new Yn("dns:cache",{detail:s})),s;const a=`${e.split(".").pop()}.`,c=(this.resolvers[a]??this.resolvers["."]).sort(()=>Math.random()>.5?-1:1),f=[];for(const d of c){if(n.signal?.aborted===!0)break;try{const p=await d(e,{...n,types:r});for(const g of p.Answer)this.cache.add(e,g);return p}catch(p){f.push(p),n.onProgress?.(new Yn("dns:error",{detail:p}))}}throw f.length===1?f[0]:new AggregateError(f,`DNS lookup of ${e} ${r} failed`)}};var ks;(function(t){t[t.A=1]="A",t[t.CNAME=5]="CNAME",t[t.TXT=16]="TXT",t[t.AAAA=28]="AAAA"})(ks||(ks={}));function L$(t={}){return new k$(t)}class Ar extends Error{static name="InvalidMultiaddrError";name="InvalidMultiaddrError"}class ru extends Error{static name="ValidationError";name="ValidationError"}class N$ extends Error{static name="InvalidParametersError";name="InvalidParametersError"}class B$ extends Error{static name="UnknownProtocolError";name="UnknownProtocolError"}class I${index=0;input="";new(e){return this.index=0,this.input=e,this}readAtomically(e){const n=this.index,r=e();return r===void 0&&(this.index=n),r}parseWith(e){const n=e();if(this.index===this.input.length)return n}peekChar(){if(!(this.index>=this.input.length))return this.input[this.index]}readChar(){if(!(this.index>=this.input.length))return this.input[this.index++]}readGivenChar(e){return this.readAtomically(()=>{const n=this.readChar();if(n===e)return n})}readSeparator(e,n,r){return this.readAtomically(()=>{if(!(n>0&&this.readGivenChar(e)===void 0))return r()})}readNumber(e,n,r,s){return this.readAtomically(()=>{let a=0,c=0;const f=this.peekChar();if(f===void 0)return;const d=f==="0",p=2**(8*s)-1;for(;;){const g=this.readAtomically(()=>{const y=this.readChar();if(y===void 0)return;const b=Number.parseInt(y,e);if(!Number.isNaN(b))return b});if(g===void 0)break;if(a*=e,a+=g,a>p||(c+=1,n!==void 0&&c>n))return}if(c!==0)return!r&&d&&c>1?void 0:a})}readIPv4Addr(){return this.readAtomically(()=>{const e=new Uint8Array(4);for(let n=0;n<e.length;n++){const r=this.readSeparator(".",n,()=>this.readNumber(10,3,!1,1));if(r===void 0)return;e[n]=r}return e})}readIPv6Addr(){const e=n=>{for(let r=0;r<n.length/2;r++){const s=r*2;if(r<n.length-3){const c=this.readSeparator(":",r,()=>this.readIPv4Addr());if(c!==void 0)return n[s]=c[0],n[s+1]=c[1],n[s+2]=c[2],n[s+3]=c[3],[s+4,!0]}const a=this.readSeparator(":",r,()=>this.readNumber(16,4,!0,2));if(a===void 0)return[s,!1];n[s]=a>>8,n[s+1]=a&255}return[n.length,!1]};return this.readAtomically(()=>{const n=new Uint8Array(16),[r,s]=e(n);if(r===16)return n;if(s||this.readGivenChar(":")===void 0||this.readGivenChar(":")===void 0)return;const a=new Uint8Array(14),c=16-(r+2),[f]=e(a.subarray(0,c));return n.set(a.subarray(0,f),16-f),n})}readIPAddr(){return this.readIPv4Addr()??this.readIPv6Addr()}}const oT=45,P$=15,tl=new I$;function aT(t){if(!(t.length>P$))return tl.new(t).parseWith(()=>tl.readIPv4Addr())}function lT(t){if(t.includes("%")&&(t=t.split("%")[0]),!(t.length>oT))return tl.new(t).parseWith(()=>tl.readIPv6Addr())}function Db(t,e=!1){if(t.includes("%")&&(t=t.split("%")[0]),t.length>oT)return;const n=tl.new(t).parseWith(()=>tl.readIPAddr());if(n)return e&&n.length===4?Uint8Array.from([0,0,0,0,0,0,0,0,0,0,255,255,n[0],n[1],n[2],n[3]]):n}function nl(t){return!!aT(t)}function cT(t){return!!lT(t)}const Ao=4,Hi=6,ch=273,$$=33,ji=41,dl=42,rv=43,Cu=53,Au=54,hl=55,_u=56,U$=132,z$=301,F$=302,uT=400,ct=421,q$=444,H$=445,j$=446,V$=447,$a=448,fT=449,K$=454,dT=460,hT=461,pT=465,iu=466,Ua=480,G$=481,kb=443,iv=477,gT=478,Y$=479,X$=277,W$=275,Q$=276,mT=280,Nd=281,up=290,yT=777;function ux(t){return e=>He(e,t)}function fx(t){return e=>Pe(e,t)}function Nc(t){return new DataView(t.buffer).getUint16(t.byteOffset).toString()}function Da(t){const e=new ArrayBuffer(2);return new DataView(e).setUint16(0,typeof t=="string"?parseInt(t):t),new Uint8Array(e)}function Z$(t){const e=t.split(":");if(e.length!==2)throw new Error(`failed to parse onion addr: ["'${e.join('", "')}'"]' does not contain a port number`);if(e[0].length!==16)throw new Error(`failed to parse onion addr: ${e[0]} not a Tor onion address.`);const n=Pe(e[0],"base32"),r=parseInt(e[1],10);if(r<1||r>65536)throw new Error("Port number is not in range(1, 65536)");const s=Da(r);return wo([n,s],n.length+s.length)}function J$(t){const e=t.split(":");if(e.length!==2)throw new Error(`failed to parse onion addr: ["'${e.join('", "')}'"]' does not contain a port number`);if(e[0].length!==56)throw new Error(`failed to parse onion addr: ${e[0]} not a Tor onion3 address.`);const n=_s.decode(`b${e[0]}`),r=parseInt(e[1],10);if(r<1||r>65536)throw new Error("Port number is not in range(1, 65536)");const s=Da(r);return wo([n,s],n.length+s.length)}function dx(t){const e=t.subarray(0,t.length-2),n=t.subarray(t.length-2),r=He(e,"base32"),s=Nc(n);return`${r}:${s}`}const bT=function(t){t=t.toString().trim();const e=new Uint8Array(4);return t.split(/\./g).forEach((n,r)=>{const s=parseInt(n,10);if(isNaN(s)||s<0||s>255)throw new Ar("Invalid byte value in IP address");e[r]=s}),e},eU=function(t){let e=0;t=t.toString().trim();const n=t.split(":",8);let r;for(r=0;r<n.length;r++){const a=nl(n[r]);let c;a&&(c=bT(n[r]),n[r]=He(c.subarray(0,2),"base16")),c!=null&&++r<8&&n.splice(r,0,He(c.subarray(2,4),"base16"))}if(n[0]==="")for(;n.length<8;)n.unshift("0");else if(n[n.length-1]==="")for(;n.length<8;)n.push("0");else if(n.length<8){for(r=0;r<n.length&&n[r]!=="";r++);const a=[r,1];for(r=9-n.length;r>0;r--)a.push("0");n.splice.apply(n,a)}const s=new Uint8Array(e+16);for(r=0;r<n.length;r++){n[r]===""&&(n[r]="0");const a=parseInt(n[r],16);if(isNaN(a)||a<0||a>65535)throw new Ar("Invalid byte value in IP address");s[e++]=a>>8&255,s[e++]=a&255}return s},tU=function(t){if(t.byteLength!==4)throw new Ar("IPv4 address was incorrect length");const e=[];for(let n=0;n<t.byteLength;n++)e.push(t[n]);return e.join(".")},nU=function(t){if(t.byteLength!==16)throw new Ar("IPv6 address was incorrect length");const e=[];for(let r=0;r<t.byteLength;r+=2){const s=t[r],a=t[r+1],c=`${s.toString(16).padStart(2,"0")}${a.toString(16).padStart(2,"0")}`;e.push(c)}const n=e.join(":");try{const r=new URL(`http://[${n}]`);return r.hostname.substring(1,r.hostname.length-1)}catch{throw new Ar(`Invalid IPv6 address "${n}"`)}};function rU(t){try{const e=new URL(`http://[${t}]`);return e.hostname.substring(1,e.hostname.length-1)}catch{throw new Ar(`Invalid IPv6 address "${t}"`)}}const yy=Object.values(Sb).map(t=>t.decoder),iU=function(){let t=yy[0].or(yy[1]);return yy.slice(2).forEach(e=>t=t.or(e)),t}();function sU(t){return iU.decode(t)}function oU(t){return e=>t.encoder.encode(e)}function aU(t){if(parseInt(t).toString()!==t)throw new ru("Value must be an integer")}function lU(t){if(t<0)throw new ru("Value must be a positive integer, or zero")}function cU(t){return e=>{if(e>t)throw new ru(`Value must be smaller than or equal to ${t}`)}}function uU(...t){return e=>{for(const n of t)n(e)}}const hd=uU(aU,lU,cU(65535)),On=-1;class fU{protocolsByCode=new Map;protocolsByName=new Map;getProtocol(e){let n;if(typeof e=="string"?n=this.protocolsByName.get(e):n=this.protocolsByCode.get(e),n==null)throw new B$(`Protocol ${e} was unknown`);return n}addProtocol(e){this.protocolsByCode.set(e.code,e),this.protocolsByName.set(e.name,e),e.aliases?.forEach(n=>{this.protocolsByName.set(n,e)})}removeProtocol(e){const n=this.protocolsByCode.get(e);n!=null&&(this.protocolsByCode.delete(n.code),this.protocolsByName.delete(n.name),n.aliases?.forEach(r=>{this.protocolsByName.delete(r)}))}}const fi=new fU,dU=[{code:Ao,name:"ip4",size:32,valueToBytes:bT,bytesToValue:tU,validate:t=>{if(!nl(t))throw new ru(`Invalid IPv4 address "${t}"`)}},{code:Hi,name:"tcp",size:16,valueToBytes:Da,bytesToValue:Nc,validate:hd},{code:ch,name:"udp",size:16,valueToBytes:Da,bytesToValue:Nc,validate:hd},{code:$$,name:"dccp",size:16,valueToBytes:Da,bytesToValue:Nc,validate:hd},{code:ji,name:"ip6",size:128,valueToBytes:eU,bytesToValue:nU,stringToValue:rU,validate:t=>{if(!cT(t))throw new ru(`Invalid IPv6 address "${t}"`)}},{code:dl,name:"ip6zone",size:On},{code:rv,name:"ipcidr",size:8,bytesToValue:ux("base10"),valueToBytes:fx("base10")},{code:Cu,name:"dns",size:On,resolvable:!0},{code:Au,name:"dns4",size:On,resolvable:!0},{code:hl,name:"dns6",size:On,resolvable:!0},{code:_u,name:"dnsaddr",size:On,resolvable:!0},{code:U$,name:"sctp",size:16,valueToBytes:Da,bytesToValue:Nc,validate:hd},{code:z$,name:"udt"},{code:F$,name:"utp"},{code:uT,name:"unix",size:On,path:!0,stringToValue:t=>decodeURIComponent(t),valueToString:t=>encodeURIComponent(t)},{code:ct,name:"p2p",aliases:["ipfs"],size:On,bytesToValue:ux("base58btc"),valueToBytes:t=>t.startsWith("Q")||t.startsWith("1")?fx("base58btc")(t):yi.parse(t).multihash.bytes},{code:q$,name:"onion",size:96,bytesToValue:dx,valueToBytes:Z$},{code:H$,name:"onion3",size:296,bytesToValue:dx,valueToBytes:J$},{code:j$,name:"garlic64",size:On},{code:V$,name:"garlic32",size:On},{code:$a,name:"tls"},{code:fT,name:"sni",size:On},{code:K$,name:"noise"},{code:dT,name:"quic"},{code:hT,name:"quic-v1"},{code:pT,name:"webtransport"},{code:iu,name:"certhash",size:On,bytesToValue:oU(t_),valueToBytes:sU},{code:Ua,name:"http"},{code:G$,name:"http-path",size:On,stringToValue:t=>`/${decodeURIComponent(t)}`,valueToString:t=>encodeURIComponent(t.substring(1))},{code:kb,name:"https"},{code:iv,name:"ws"},{code:gT,name:"wss"},{code:Y$,name:"p2p-websocket-star"},{code:X$,name:"p2p-stardust"},{code:W$,name:"p2p-webrtc-star"},{code:Q$,name:"p2p-webrtc-direct"},{code:mT,name:"webrtc-direct"},{code:Nd,name:"webrtc"},{code:up,name:"p2p-circuit"},{code:yT,name:"memory",size:On}];dU.forEach(t=>{fi.addProtocol(t)});function hU(t){const e=[];let n=0;for(;n<t.length;){const r=op(t,n),s=fi.getProtocol(r),a=Mr(r),c=yU(s,t,n+a);let f=0;c>0&&s.size===On&&(f=Mr(c));const d=a+f+c,p={code:r,name:s.name,bytes:t.subarray(n,n+d)};if(c>0){const g=n+a+f,y=t.subarray(g,g+c);p.value=s.bytesToValue?.(y)??He(y)}e.push(p),n+=d}return e}function pU(t){let e=0;const n=[];for(const r of t){if(r.bytes==null){const s=fi.getProtocol(r.code),a=Mr(r.code);let c,f=0,d=0;r.value!=null&&(c=s.valueToBytes?.(r.value)??Pe(r.value),f=c.byteLength,s.size===On&&(d=Mr(f)));const p=new Uint8Array(a+d+f);let g=0;ih(r.code,p,g),g+=a,c!=null&&(s.size===On&&(ih(f,p,g),g+=d),p.set(c,g)),r.bytes=p}n.push(r.bytes),e+=r.bytes.byteLength}return wo(n,e)}function gU(t){if(t.charAt(0)!=="/")throw new Ar('String multiaddr must start with "/"');const e=[];let n="protocol",r="",s="";for(let a=1;a<t.length;a++){const c=t.charAt(a);c!=="/"&&(n==="protocol"?s+=t.charAt(a):r+=t.charAt(a));const f=a===t.length-1;if(c==="/"||f){const d=fi.getProtocol(s);if(n==="protocol"){if(d.size==null||d.size===0){e.push({code:d.code,name:d.name}),r="",s="",n="protocol";continue}else if(f)throw new Ar(`Component ${s} was missing value`);n="value"}else if(n==="value"){const p={code:d.code,name:d.name};if(d.size!=null&&d.size!==0){if(r==="")throw new Ar(`Component ${s} was missing value`);p.value=d.stringToValue?.(r)??r}e.push(p),r="",s="",n="protocol"}}}if(s!==""&&r!=="")throw new Ar("Incomplete multiaddr");return e}function mU(t){return`/${t.flatMap(e=>{if(e.value==null)return e.name;const n=fi.getProtocol(e.code);if(n==null)throw new Ar(`Unknown protocol code ${e.code}`);return[e.name,n.valueToString?.(e.value)??e.value]}).join("/")}`}function yU(t,e,n){return t.size==null||t.size===0?0:t.size>0?t.size/8:op(e,n)}const bU=Symbol.for("nodejs.util.inspect.custom"),vT=Symbol.for("@multiformats/multiaddr"),vU=[Cu,Au,hl,_u];class wU extends Error{constructor(e="No available resolver"){super(e),this.name="NoAvailableResolverError"}}function SU(t){if(t==null&&(t="/"),Tu(t))return t.getComponents();if(t instanceof Uint8Array)return hU(t);if(typeof t=="string")return t=t.replace(/\/(\/)+/,"/").replace(/(\/)+$/,""),t===""&&(t="/"),gU(t);if(Array.isArray(t))return t;throw new Ar("Must be a string, Uint8Array, Component[], or another Multiaddr")}class ka{[vT]=!0;#e;#r;#t;constructor(e="/",n={}){this.#e=SU(e),n.validate!==!1&&EU(this)}get bytes(){return this.#t==null&&(this.#t=pU(this.#e)),this.#t}toString(){return this.#r==null&&(this.#r=mU(this.#e)),this.#r}toJSON(){return this.toString()}toOptions(){let e,n,r,s,a="";for(const{code:f,name:d,value:p}of this.#e)f===dl&&(a=`%${p??""}`),vU.includes(f)&&(n="tcp",s=443,r=`${p??""}${a}`,e=f===hl?6:4),(f===Hi||f===ch)&&(n=d==="tcp"?"tcp":"udp",s=parseInt(p??"")),(f===Ao||f===ji)&&(n="tcp",r=`${p??""}${a}`,e=f===ji?6:4);if(e==null||n==null||r==null||s==null)throw new Error('multiaddr must have a valid format: "/{ip4, ip6, dns4, dns6, dnsaddr}/{address}/{tcp, udp}/{port}".');return{family:e,host:r,transport:n,port:s}}getComponents(){return[...this.#e]}protos(){return this.#e.map(({code:e,value:n})=>{const r=fi.getProtocol(e);return{code:e,size:r.size??0,name:r.name,resolvable:!!r.resolvable,path:!!r.path}})}protoCodes(){return this.#e.map(({code:e})=>e)}protoNames(){return this.#e.map(({name:e})=>e)}tuples(){return this.#e.map(({code:e,value:n})=>{if(n==null)return[e];const r=fi.getProtocol(e),s=[e];return n!=null&&s.push(r.valueToBytes?.(n)??Pe(n)),s})}stringTuples(){return this.#e.map(({code:e,value:n})=>n==null?[e]:[e,n])}encapsulate(e){const n=new ka(e);return new ka([...this.#e,...n.getComponents()],{validate:!1})}decapsulate(e){const n=e.toString(),r=this.toString(),s=r.lastIndexOf(n);if(s<0)throw new N$(`Address ${this.toString()} does not contain subaddress: ${e.toString()}`);return new ka(r.slice(0,s),{validate:!1})}decapsulateCode(e){let n;for(let r=this.#e.length-1;r>-1;r--)if(this.#e[r].code===e){n=r;break}return new ka(this.#e.slice(0,n),{validate:!1})}getPeerId(){try{let e=[];this.#e.forEach(({code:r,value:s})=>{r===ct&&e.push([r,s]),r===up&&(e=[])});const n=e.pop();if(n?.[1]!=null){const r=n[1];return r[0]==="Q"||r[0]==="1"?He(dn.decode(`z${r}`),"base58btc"):He(yi.parse(r).multihash.bytes,"base58btc")}return null}catch{return null}}getPath(){for(const e of this.#e)if(fi.getProtocol(e.code).path)return e.value??null;return null}equals(e){return $n(this.bytes,e.bytes)}async resolve(e){const n=this.protos().find(a=>a.resolvable);if(n==null)return[this];const r=LU.get(n.name);if(r==null)throw new wU(`no available resolver for ${n.name}`);return(await r(this,e)).map(a=>_t(a))}nodeAddress(){const e=this.toOptions();if(e.transport!=="tcp"&&e.transport!=="udp")throw new Error(`multiaddr must have a valid format - no protocol with name: "${e.transport}". Must have a valid transport protocol: "{tcp, udp}"`);return{family:e.family,address:e.host,port:e.port}}isThinWaistAddress(){return!(this.#e.length!==2||this.#e[0].code!==Ao&&this.#e[0].code!==ji||this.#e[1].code!==Hi&&this.#e[1].code!==ch)}[bU](){return`Multiaddr(${this.toString()})`}}function EU(t){t.getComponents().forEach(e=>{const n=fi.getProtocol(e.code);e.value!=null&&n.validate?.(e.value)})}function xU(t,e,n){let r=0;for(const s of t)if(!(r<e)){if(r>n)break;if(s!==255)return!1;r++}return!0}function CU(t,e,n,r){let s=0;for(const a of t)if(!(s<n)){if(s>r)break;if(a!==e[s])return!1;s++}return!0}function AU(t){switch(t.length){case su:return t.join(".");case ou:{const e=[];for(let n=0;n<t.length;n++)n%2===0&&e.push(t[n].toString(16).padStart(2,"0")+t[n+1].toString(16).padStart(2,"0"));return e.join(":")}default:throw new Error("Invalid ip length")}}function _U(t){let e=0;for(let[n,r]of t.entries()){if(r===255){e+=8;continue}for(;(r&128)!=0;)e++,r=r<<1;if((r&128)!=0)return-1;for(let s=n+1;s<t.length;s++)if(t[s]!=0)return-1;break}return e}function TU(t){let e="0x";for(const n of t)e+=(n>>4).toString(16)+(n&15).toString(16);return e}const su=4,ou=16,RU=new Uint8Array([0,0,0,0,0,0,0,0,0,0,255,255]);function wT(t,e){e.length===ou&&t.length===su&&xU(e,0,11)&&(e=e.slice(12)),e.length===su&&t.length===ou&&CU(t,RU,0,11)&&(t=t.slice(12));const n=t.length;if(n!=e.length)throw new Error("Failed to mask ip");const r=new Uint8Array(n);for(let s=0;s<n;s++)r[s]=t[s]&e[s];return r}function OU(t,e){if(typeof e=="string"&&(e=Db(e)),e==null)throw new Error("Invalid ip");if(e.length!==t.network.length)return!1;for(let n=0;n<e.length;n++)if((t.network[n]&t.mask[n])!==(e[n]&t.mask[n]))return!1;return!0}function MU(t){const[e,n]=t.split("/");if(!e||!n)throw new Error("Failed to parse given CIDR: "+t);let r=su,s=aT(e);if(s==null&&(r=ou,s=lT(e),s==null))throw new Error("Failed to parse given CIDR: "+t);const a=parseInt(n,10);if(Number.isNaN(a)||String(a).length!==n.length||a<0||a>r*8)throw new Error("Failed to parse given CIDR: "+t);const c=ST(a,8*r);return{network:wT(s,c),mask:c}}function ST(t,e){if(e!==8*su&&e!==8*ou)throw new Error("Invalid CIDR mask");if(t<0||t>e)throw new Error("Invalid CIDR mask");const n=e/8,r=new Uint8Array(n);for(let s=0;s<n;s++){if(t>=8){r[s]=255,t-=8;continue}r[s]=255-(255>>t),t=0}return r}class DU{constructor(e,n){if(n==null)({network:this.network,mask:this.mask}=MU(e));else{const r=Db(e);if(r==null)throw new Error("Failed to parse network");n=String(n);const s=parseInt(n,10);if(Number.isNaN(s)||String(s).length!==n.length||s<0||s>r.length*8){const a=Db(n);if(a==null)throw new Error("Failed to parse mask");this.mask=a}else this.mask=ST(s,8*r.length);this.network=wT(r,this.mask)}}contains(e){return OU({network:this.network,mask:this.mask},e)}toString(){const e=_U(this.mask),n=e!==-1?String(e):TU(this.mask);return AU(this.network)+"/"+n}}function kU(t){let e,n;if(t.getComponents().forEach(r=>{(r.name==="ip4"||r.name==="ip6")&&(n=r.value),r.name==="ipcidr"&&(e=r.value)}),e==null||n==null)throw new Error("Invalid multiaddr");return new DU(n,e)}const LU=new Map;function NU(t){return Tu(t)?t.protos().some(e=>e.resolvable):!1}function Tu(t){return!!t?.[vT]}function _t(t){return new ka(t)}function ET(t){const e=fi.getProtocol(t);return{code:e.code,size:e.size??0,name:e.name,resolvable:!!e.resolvable,path:!!e.path}}class BU{dns;canResolve(e){return e.getComponents().some(({name:n})=>n==="dnsaddr")}async resolve(e,n){const r=e.getComponents().find(d=>d.name==="dnsaddr")?.value;if(r==null)return[e];const a=await this.getDNS(n).query(`_dnsaddr.${r}`,{signal:n?.signal,types:[ks.TXT]}),c=e.getComponents().find(d=>d.name==="p2p")?.value,f=[];for(const d of a.Answer){const p=d.data.replace(/["']/g,"").trim().split("=")[1];p!=null&&(c!=null&&!p.includes(c)||f.push(_t(p)))}return f}getDNS(e){return e.dns!=null?e.dns:(this.dns==null&&(this.dns=L$()),this.dns)}}const sv=new BU;var IU={};const PU={addresses:{listen:[],announce:[],noAnnounce:[],announceFilter:t=>t},connectionManager:{resolvers:{dnsaddr:sv}},transportManager:{faultTolerance:Zc.FATAL_ALL}};async function $U(t){const e=tT(PU,t);if(e.connectionProtector===null&&IU?.LIBP2P_FORCE_PNET!=null)throw new bt("Private network is enforced, but no protector was provided");return e}const rl=1e3,il=rl*60,sl=il*60,_o=sl*24,UU=_o*7,zU=_o*365.25;function xT(t,e){try{if(typeof t=="string"&&t.length>0)return FU(t);if(typeof t=="number"&&isFinite(t))return e?.long?HU(t):qU(t);throw new Error("Value is not a string or number.")}catch(n){const r=jU(n)?`${n.message}. value=${JSON.stringify(t)}`:"An unknown error has occured.";throw new Error(r)}}function FU(t){if(t=String(t),t.length>100)throw new Error("Value exceeds the maximum length of 100 characters.");const e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(!e)return NaN;const n=parseFloat(e[1]),r=(e[2]||"ms").toLowerCase();switch(r){case"years":case"year":case"yrs":case"yr":case"y":return n*zU;case"weeks":case"week":case"w":return n*UU;case"days":case"day":case"d":return n*_o;case"hours":case"hour":case"hrs":case"hr":case"h":return n*sl;case"minutes":case"minute":case"mins":case"min":case"m":return n*il;case"seconds":case"second":case"secs":case"sec":case"s":return n*rl;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:throw new Error(`The unit ${r} was matched, but no matching case exists.`)}}function qU(t){const e=Math.abs(t);return e>=_o?`${Math.round(t/_o)}d`:e>=sl?`${Math.round(t/sl)}h`:e>=il?`${Math.round(t/il)}m`:e>=rl?`${Math.round(t/rl)}s`:`${t}ms`}function HU(t){const e=Math.abs(t);return e>=_o?pd(t,e,_o,"day"):e>=sl?pd(t,e,sl,"hour"):e>=il?pd(t,e,il,"minute"):e>=rl?pd(t,e,rl,"second"):`${t} ms`}function pd(t,e,n,r){const s=e>=n*1.5;return`${Math.round(t/n)} ${r}${s?"s":""}`}function jU(t){return typeof t=="object"&&t!==null&&"message"in t}function VU(t){n.debug=n,n.default=n,n.coerce=d,n.disable=a,n.enable=s,n.enabled=c,n.humanize=xT,n.destroy=p,Object.keys(t).forEach(g=>{n[g]=t[g]}),n.names=[],n.skips=[],n.formatters={};function e(g){let y=0;for(let b=0;b<g.length;b++)y=(y<<5)-y+g.charCodeAt(b),y|=0;return n.colors[Math.abs(y)%n.colors.length]}n.selectColor=e;function n(g){let y,b=null,w,v;function S(...E){if(!S.enabled)return;const C=S,k=Number(new Date),A=k-(y||k);C.diff=A,C.prev=y,C.curr=k,y=k,E[0]=n.coerce(E[0]),typeof E[0]!="string"&&E.unshift("%O");let T=0;E[0]=E[0].replace(/%([a-zA-Z%])/g,(I,$)=>{if(I==="%%")return"%";T++;const j=n.formatters[$];if(typeof j=="function"){const P=E[T];I=j.call(C,P),E.splice(T,1),T--}return I}),n.formatArgs.call(C,E),(C.log||n.log).apply(C,E)}return S.namespace=g,S.useColors=n.useColors(),S.color=n.selectColor(g),S.extend=r,S.destroy=n.destroy,Object.defineProperty(S,"enabled",{enumerable:!0,configurable:!1,get:()=>b!==null?b:(w!==n.namespaces&&(w=n.namespaces,v=n.enabled(g)),v),set:E=>{b=E}}),typeof n.init=="function"&&n.init(S),S}function r(g,y){const b=n(this.namespace+(typeof y>"u"?":":y)+g);return b.log=this.log,b}function s(g){n.save(g),n.namespaces=g,n.names=[],n.skips=[];let y;const b=(typeof g=="string"?g:"").split(/[\s,]+/),w=b.length;for(y=0;y<w;y++)b[y]&&(g=b[y].replace(/\*/g,".*?"),g[0]==="-"?n.skips.push(new RegExp("^"+g.substr(1)+"$")):n.names.push(new RegExp("^"+g+"$")))}function a(){const g=[...n.names.map(f),...n.skips.map(f).map(y=>"-"+y)].join(",");return n.enable(""),g}function c(g){if(g[g.length-1]==="*")return!0;let y,b;for(y=0,b=n.skips.length;y<b;y++)if(n.skips[y].test(g))return!1;for(y=0,b=n.names.length;y<b;y++)if(n.names[y].test(g))return!0;return!1}function f(g){return g.toString().substring(2,g.toString().length-2).replace(/\.\*\?$/,"*")}function d(g){return g instanceof Error?g.stack??g.message:g}function p(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return n.setupFormatters(n.formatters),n.enable(n.load()),n}var KU={};const uh=JU(),GU=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function YU(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent?.toLowerCase().match(/(edge|trident)\/(\d+)/)!=null?!1:typeof document<"u"&&document.documentElement?.style?.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent?.toLowerCase().match(/firefox\/(\d+)/)!=null&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent?.toLowerCase().match(/applewebkit\/(\d+)/)}function XU(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+xT(this.diff),!this.useColors)return;const e="color: "+this.color;t.splice(1,0,e,"color: inherit");let n=0,r=0;t[0].replace(/%[a-zA-Z%]/g,s=>{s!=="%%"&&(n++,s==="%c"&&(r=n))}),t.splice(r,0,e)}const WU=console.debug??console.log??(()=>{});function QU(t){try{t?uh?.setItem("debug",t):uh?.removeItem("debug")}catch{}}function ZU(){let t;try{t=uh?.getItem("debug")}catch{}return!t&&typeof globalThis.process<"u"&&"env"in globalThis.process&&(t=KU.DEBUG),t}function JU(){try{return localStorage}catch{}}function e9(t){t.j=function(e){try{return JSON.stringify(e)}catch(n){return"[UnexpectedJSONParseError]: "+n.message}}}const lr=VU({formatArgs:XU,save:QU,load:ZU,useColors:YU,setupFormatters:e9,colors:GU,storage:uh,log:WU});lr.formatters.b=t=>t==null?"undefined":dn.baseEncode(t);lr.formatters.t=t=>t==null?"undefined":_s.baseEncode(t);lr.formatters.m=t=>t==null?"undefined":e_.baseEncode(t);lr.formatters.p=t=>t==null?"undefined":t.toString();lr.formatters.c=t=>t==null?"undefined":t.toString();lr.formatters.k=t=>t==null?"undefined":t.toString();lr.formatters.a=t=>t==null?"undefined":t.toString();lr.formatters.e=t=>t==null?"undefined":hx(t.stack)??hx(t.message)??t.toString();function t9(t){const e=()=>{};return e.enabled=!1,e.color="",e.diff=0,e.log=()=>{},e.namespace=t,e.destroy=()=>!0,e.extend=()=>e,e}function CT(){return{forComponent(t){return n9(t)}}}function n9(t){let e=t9(`${t}:trace`);return lr.enabled(`${t}:trace`)&&lr.names.map(n=>n.toString()).find(n=>n.includes(":trace"))!=null&&(e=lr(`${t}:trace`)),Object.assign(lr(t),{error:lr(`${t}:error`),trace:e})}function hx(t){if(t!=null&&(t=t.trim(),t.length!==0))return t}function Hc(t,e){const n={[Symbol.iterator]:()=>n,next:()=>{const r=t.next(),s=r.value;return r.done===!0||s==null?{done:!0,value:void 0}:{done:!1,value:e(s)}}};return n}function by(t){const e=np(dn.decode(`z${t}`));return lp(e)}class Ru{map;constructor(e){if(this.map=new Map,e!=null)for(const[n,r]of e.entries())this.map.set(n.toString(),{key:n,value:r})}[Symbol.iterator](){return this.entries()}clear(){this.map.clear()}delete(e){return this.map.delete(e.toString())}entries(){return Hc(this.map.entries(),e=>[e[1].key,e[1].value])}forEach(e){this.map.forEach((n,r)=>{e(n.value,n.key,this)})}get(e){return this.map.get(e.toString())?.value}has(e){return this.map.has(e.toString())}set(e,n){this.map.set(e.toString(),{key:e,value:n})}keys(){return Hc(this.map.values(),e=>e.key)}values(){return Hc(this.map.values(),e=>e.value)}get size(){return this.map.size}}class za{set;constructor(e){if(this.set=new Set,e!=null)for(const n of e)this.set.add(n.toString())}get size(){return this.set.size}[Symbol.iterator](){return this.values()}add(e){this.set.add(e.toString())}clear(){this.set.clear()}delete(e){this.set.delete(e.toString())}entries(){return Hc(this.set.entries(),e=>{const n=by(e[0]);return[n,n]})}forEach(e){this.set.forEach(n=>{const r=by(n);e(r,r,this)})}has(e){return this.set.has(e.toString())}values(){return Hc(this.set.values(),e=>by(e))}intersection(e){const n=new za;for(const r of e)this.has(r)&&n.add(r);return n}difference(e){const n=new za;for(const r of this)e.has(r)||n.add(r);return n}union(e){const n=new za;for(const r of e)n.add(r);for(const r of this)n.add(r);return n}}const ov={32:16777619n,64:1099511628211n,128:309485009821345068724781371n,256:374144419156711147060143317175368453031918731002211n,512:35835915874844867368919076489095108449946327955754392558399825615420669938882575126094039892345713852759n,1024:5016456510113118655434598811035278955030765345404790744303017523831112055108147451509157692220295382716162651878526895249385292291816524375083746691371804094271873160484737966720260389217684476157468082573n},AT={32:2166136261n,64:14695981039346656037n,128:144066263297769815596495629667062367629n,256:100029257958052580907070968620625704837092796014241193945225284501741471925557n,512:9659303129496669498009435400716310466090418745672637896108374329434462657994582932197716438449813051892206539805784495328239340083876191928701583869517785n,1024:14197795064947621068722070641403218320880622795441933960878474914617582723252296732303717722150864096521202355549365628174669108571814760471015076148029755969804077320157692458563003215304957150157403644460363550505412711285966361610267868082893823963790439336411086884584107735010676915n},_T=new globalThis.TextEncoder;function r9(t,e){const n=ov[e];let r=AT[e];for(let s=0;s<t.length;s++)r^=BigInt(t[s]),r=BigInt.asUintN(e,r*n);return r}function i9(t,e,n){if(n.length===0)throw new Error("The `utf8Buffer` option must have a length greater than zero");const r=ov[e];let s=AT[e],a=t;for(;a.length>0;){const c=_T.encodeInto(a,n);a=a.slice(c.read);for(let f=0;f<c.written;f++)s^=BigInt(n[f]),s=BigInt.asUintN(e,s*r)}return s}function s9(t,{size:e=32,utf8Buffer:n}={}){if(!ov[e])throw new Error("The `size` option must be one of 32, 64, 128, 256, 512, or 1024");if(typeof t=="string"){if(n)return i9(t,e,n);t=_T.encode(t)}return r9(t,e)}const av={hash:t=>Number(s9(t,{size:32})),hashV:(t,e)=>o9(av.hash(t,e))};function o9(t){let e=t.toString(16);return e.length%2===1&&(e=`0${e}`),Pe(e,"base16")}const TT=64;class po{fp;h;seed;constructor(e,n,r,s=2){if(s>TT)throw new TypeError("Invalid Fingerprint Size");const a=n.hashV(e,r),c=Lt(s);for(let f=0;f<c.length;f++)c[f]=a[f];c.length===0&&(c[0]=7),this.fp=c,this.h=n,this.seed=r}hash(){return this.h.hash(this.fp,this.seed)}equals(e){return e?.fp instanceof Uint8Array?$n(this.fp,e.fp):!1}}function fh(t,e){return Math.floor(Math.random()*(e-t))+t}class gd{contents;constructor(e){this.contents=new Array(e).fill(null)}has(e){if(!(e instanceof po))throw new TypeError("Invalid Fingerprint");return this.contents.some(n=>e.equals(n))}add(e){if(!(e instanceof po))throw new TypeError("Invalid Fingerprint");for(let n=0;n<this.contents.length;n++)if(this.contents[n]==null)return this.contents[n]=e,!0;return!0}swap(e){if(!(e instanceof po))throw new TypeError("Invalid Fingerprint");const n=fh(0,this.contents.length-1),r=this.contents[n];return this.contents[n]=e,r}remove(e){if(!(e instanceof po))throw new TypeError("Invalid Fingerprint");const n=this.contents.findIndex(r=>e.equals(r));return n>-1?(this.contents[n]=null,!0):!1}}const a9=500;class px{bucketSize;filterSize;fingerprintSize;buckets;count;hash;seed;constructor(e){this.filterSize=e.filterSize,this.bucketSize=e.bucketSize??4,this.fingerprintSize=e.fingerprintSize??2,this.count=0,this.buckets=[],this.hash=e.hash??av,this.seed=e.seed??fh(0,Math.pow(2,10))}add(e){typeof e=="string"&&(e=Pe(e));const n=new po(e,this.hash,this.seed,this.fingerprintSize),r=this.hash.hash(e,this.seed)%this.filterSize,s=(r^n.hash())%this.filterSize;if(this.buckets[r]==null&&(this.buckets[r]=new gd(this.bucketSize)),this.buckets[s]==null&&(this.buckets[s]=new gd(this.bucketSize)),this.buckets[r].add(n)||this.buckets[s].add(n))return this.count++,!0;const a=[r,s];let c=a[fh(0,a.length-1)];this.buckets[c]==null&&(this.buckets[c]=new gd(this.bucketSize));for(let f=0;f<a9;f++){const d=this.buckets[c].swap(n);if(d!=null&&(c=(c^d.hash())%this.filterSize,this.buckets[c]==null&&(this.buckets[c]=new gd(this.bucketSize)),this.buckets[c].add(d)))return this.count++,!0}return!1}has(e){typeof e=="string"&&(e=Pe(e));const n=new po(e,this.hash,this.seed,this.fingerprintSize),r=this.hash.hash(e,this.seed)%this.filterSize,s=this.buckets[r]?.has(n)??!1;if(s)return s;const a=(r^n.hash())%this.filterSize;return this.buckets[a]?.has(n)??!1}remove(e){typeof e=="string"&&(e=Pe(e));const n=new po(e,this.hash,this.seed,this.fingerprintSize),r=this.hash.hash(e,this.seed)%this.filterSize,s=this.buckets[r]?.remove(n)??!1;if(s)return this.count--,s;const a=(r^n.hash())%this.filterSize,c=this.buckets[a]?.remove(n)??!1;return c&&this.count--,c}get reliable(){return Math.floor(100*(this.count/this.filterSize))<=90}}const l9={1:.5,2:.84,4:.95,8:.98};function c9(t=.001){return t>.002?2:t>1e-5?4:8}function u9(t,e=.001){const n=c9(e),r=l9[n],s=Math.round(t/r),a=Math.min(Math.ceil(Math.log2(1/e)+Math.log2(2*n)),TT);return{filterSize:s,bucketSize:n,fingerprintSize:a}}class f9{filterSize;bucketSize;fingerprintSize;scale;filterSeries;hash;seed;constructor(e){this.bucketSize=e.bucketSize??4,this.filterSize=e.filterSize??(1<<18)/this.bucketSize,this.fingerprintSize=e.fingerprintSize??2,this.scale=e.scale??2,this.hash=e.hash??av,this.seed=e.seed??fh(0,Math.pow(2,10)),this.filterSeries=[new px({filterSize:this.filterSize,bucketSize:this.bucketSize,fingerprintSize:this.fingerprintSize,hash:this.hash,seed:this.seed})]}add(e){if(typeof e=="string"&&(e=Pe(e)),this.has(e))return!0;let n=this.filterSeries.find(r=>r.reliable);if(n==null){const r=this.filterSize*Math.pow(this.scale,this.filterSeries.length);n=new px({filterSize:r,bucketSize:this.bucketSize,fingerprintSize:this.fingerprintSize,hash:this.hash,seed:this.seed}),this.filterSeries.push(n)}return n.add(e)}has(e){typeof e=="string"&&(e=Pe(e));for(let n=0;n<this.filterSeries.length;n++)if(this.filterSeries[n].has(e))return!0;return!1}remove(e){typeof e=="string"&&(e=Pe(e));for(let n=0;n<this.filterSeries.length;n++)if(this.filterSeries[n].remove(e))return!0;return!1}get count(){return this.filterSeries.reduce((e,n)=>e+n.count,0)}}function RT(t,e=.001,n){return new f9({...u9(t,e)})}class d9 extends Ru{metric;constructor(e){super();const{name:n,metrics:r}=e;this.metric=r.registerMetric(n),this.updateComponentMetric()}set(e,n){return super.set(e,n),this.updateComponentMetric(),this}delete(e){const n=super.delete(e);return this.updateComponentMetric(),n}clear(){super.clear(),this.updateComponentMetric()}updateComponentMetric(){this.metric.update(this.size)}}function h9(t){const{name:e,metrics:n}=t;let r;return n!=null?r=new d9({name:e,metrics:n}):r=new Ru,r}var dh;(function(t){let e;t.codec=()=>(e==null&&(e=Rr((n,r,s={})=>{s.lengthDelimited!==!1&&r.fork(),n.publicKey!=null&&n.publicKey.byteLength>0&&(r.uint32(10),r.bytes(n.publicKey)),n.payloadType!=null&&n.payloadType.byteLength>0&&(r.uint32(18),r.bytes(n.payloadType)),n.payload!=null&&n.payload.byteLength>0&&(r.uint32(26),r.bytes(n.payload)),n.signature!=null&&n.signature.byteLength>0&&(r.uint32(42),r.bytes(n.signature)),s.lengthDelimited!==!1&&r.ldelim()},(n,r,s={})=>{const a={publicKey:Lt(0),payloadType:Lt(0),payload:Lt(0),signature:Lt(0)},c=r==null?n.len:n.pos+r;for(;n.pos<c;){const f=n.uint32();switch(f>>>3){case 1:{a.publicKey=n.bytes();break}case 2:{a.payloadType=n.bytes();break}case 3:{a.payload=n.bytes();break}case 5:{a.signature=n.bytes();break}default:{n.skipType(f&7);break}}}return a})),e),t.encode=n=>Tr(n,t.codec()),t.decode=(n,r)=>_r(n,t.codec(),r)})(dh||(dh={}));class p9 extends Error{constructor(e="Invalid signature"){super(e),this.name="InvalidSignatureError"}}class Fa{static createFromProtobuf=e=>{const n=dh.decode(e),r=Za(n.publicKey);return new Fa({publicKey:r,payloadType:n.payloadType,payload:n.payload,signature:n.signature})};static seal=async(e,n,r)=>{if(n==null)throw new Error("Missing private key");const s=e.domain,a=e.codec,c=e.marshal(),f=gx(s,a,c),d=await n.sign(f.subarray(),r);return new Fa({publicKey:n.publicKey,payloadType:a,payload:c,signature:d})};static openAndCertify=async(e,n,r)=>{const s=Fa.createFromProtobuf(e);if(!await s.validate(n,r))throw new p9("Envelope signature is not valid for the given domain");return s};publicKey;payloadType;payload;signature;marshaled;constructor(e){const{publicKey:n,payloadType:r,payload:s,signature:a}=e;this.publicKey=n,this.payloadType=r,this.payload=s,this.signature=a}marshal(){return this.marshaled==null&&(this.marshaled=dh.encode({publicKey:Ts(this.publicKey),payloadType:this.payloadType,payload:this.payload.subarray(),signature:this.signature})),this.marshaled}equals(e){return e==null?!1:$n(this.marshal(),e.marshal())}async validate(e,n){const r=gx(e,this.payloadType,this.payload);return this.publicKey.verify(r.subarray(),this.signature,n)}}const gx=(t,e,n)=>{const r=Pe(t),s=Ia(r.byteLength),a=Ia(e.length),c=Ia(n.length);return new xt(s,r,a,e,c,n)};function g9(t,e){const n=(r,s)=>r.toString().localeCompare(s.toString());return t.length!==e.length?!1:(e.sort(n),t.sort(n).every((r,s)=>e[s].equals(r)))}const m9="libp2p-peer-record",y9=Uint8Array.from([3,1]);var hh;(function(t){(function(n){let r;n.codec=()=>(r==null&&(r=Rr((s,a,c={})=>{c.lengthDelimited!==!1&&a.fork(),s.multiaddr!=null&&s.multiaddr.byteLength>0&&(a.uint32(10),a.bytes(s.multiaddr)),c.lengthDelimited!==!1&&a.ldelim()},(s,a,c={})=>{const f={multiaddr:Lt(0)},d=a==null?s.len:s.pos+a;for(;s.pos<d;){const p=s.uint32();switch(p>>>3){case 1:{f.multiaddr=s.bytes();break}default:{s.skipType(p&7);break}}}return f})),r),n.encode=s=>Tr(s,n.codec()),n.decode=(s,a)=>_r(s,n.codec(),a)})(t.AddressInfo||(t.AddressInfo={}));let e;t.codec=()=>(e==null&&(e=Rr((n,r,s={})=>{if(s.lengthDelimited!==!1&&r.fork(),n.peerId!=null&&n.peerId.byteLength>0&&(r.uint32(10),r.bytes(n.peerId)),n.seq!=null&&n.seq!==0n&&(r.uint32(16),r.uint64(n.seq)),n.addresses!=null)for(const a of n.addresses)r.uint32(26),t.AddressInfo.codec().encode(a,r);s.lengthDelimited!==!1&&r.ldelim()},(n,r,s={})=>{const a={peerId:Lt(0),seq:0n,addresses:[]},c=r==null?n.len:n.pos+r;for(;n.pos<c;){const f=n.uint32();switch(f>>>3){case 1:{a.peerId=n.bytes();break}case 2:{a.seq=n.uint64();break}case 3:{if(s.limits?.addresses!=null&&a.addresses.length===s.limits.addresses)throw new nu('Decode error - map field "addresses" had too many elements');a.addresses.push(t.AddressInfo.codec().decode(n,n.uint32(),{limits:s.limits?.addresses$}));break}default:{n.skipType(f&7);break}}}return a})),e),t.encode=n=>Tr(n,t.codec()),t.decode=(n,r)=>_r(n,t.codec(),r)})(hh||(hh={}));class xs{static createFromProtobuf=e=>{const n=hh.decode(e),r=lp(np(n.peerId)),s=(n.addresses??[]).map(c=>_t(c.multiaddr)),a=n.seq;return new xs({peerId:r,multiaddrs:s,seqNumber:a})};static DOMAIN=m9;static CODEC=y9;peerId;multiaddrs;seqNumber;domain=xs.DOMAIN;codec=xs.CODEC;marshaled;constructor(e){const{peerId:n,multiaddrs:r,seqNumber:s}=e;this.peerId=n,this.multiaddrs=r??[],this.seqNumber=s??BigInt(Date.now())}marshal(){return this.marshaled==null&&(this.marshaled=hh.encode({peerId:this.peerId.toMultihash().bytes,seq:BigInt(this.seqNumber),addresses:this.multiaddrs.map(e=>({multiaddr:e.bytes}))})),this.marshaled}equals(e){return!(!(e instanceof xs)||!this.peerId.equals(e.peerId)||this.seqNumber!==e.seqNumber||!g9(this.multiaddrs,e.multiaddrs))}}function b9(t){return t[Symbol.asyncIterator]!=null}function Lb(t){if(b9(t))return(async()=>{const n=[];for await(const r of t)n.push(r);return n})();const e=[];for(const n of t)e.push(n);return e}let ol=class extends Error{static name="AbortError";name="AbortError";constructor(e="The operation was aborted",...n){super(e,...n)}};function Gt(){const t={};return t.promise=new Promise((e,n)=>{t.resolve=e,t.reject=n}),t}class mx{buffer;mask;top;btm;next;constructor(e){if(!(e>0)||(e-1&e)!==0)throw new Error("Max size for a FixedFIFO should be a power of two");this.buffer=new Array(e),this.mask=e-1,this.top=0,this.btm=0,this.next=null}push(e){return this.buffer[this.top]!==void 0?!1:(this.buffer[this.top]=e,this.top=this.top+1&this.mask,!0)}shift(){const e=this.buffer[this.btm];if(e!==void 0)return this.buffer[this.btm]=void 0,this.btm=this.btm+1&this.mask,e}isEmpty(){return this.buffer[this.btm]===void 0}}class vy{size;hwm;head;tail;constructor(e={}){this.hwm=e.splitLimit??16,this.head=new mx(this.hwm),this.tail=this.head,this.size=0}calculateSize(e){return e?.byteLength!=null?e.byteLength:1}push(e){if(e?.value!=null&&(this.size+=this.calculateSize(e.value)),!this.head.push(e)){const n=this.head;this.head=n.next=new mx(2*this.head.buffer.length),this.head.push(e)}}shift(){let e=this.tail.shift();if(e===void 0&&this.tail.next!=null){const n=this.tail.next;this.tail.next=null,this.tail=n,e=this.tail.shift()}return e?.value!=null&&(this.size-=this.calculateSize(e.value)),e}isEmpty(){return this.head.isEmpty()}}let v9=class extends Error{type;code;constructor(e,n){super(e??"The operation was aborted"),this.type="aborted",this.code=n??"ABORT_ERR"}};function fp(t={}){return w9(n=>{const r=n.shift();if(r==null)return{done:!0};if(r.error!=null)throw r.error;return{done:r.done===!0,value:r.value}},t)}function w9(t,e){e=e??{};let n=e.onEnd,r=new vy,s,a,c,f=Gt();const d=async()=>{try{return r.isEmpty()?c?{done:!0}:await new Promise((E,C)=>{a=k=>{a=null,r.push(k);try{E(t(r))}catch(A){C(A)}return s}}):t(r)}finally{r.isEmpty()&&queueMicrotask(()=>{f.resolve(),f=Gt()})}},p=E=>a!=null?a(E):(r.push(E),s),g=E=>(r=new vy,a!=null?a({error:E}):(r.push({error:E}),s)),y=E=>{if(c)return s;if(e?.objectMode!==!0&&E?.byteLength==null)throw new Error("objectMode was not true but tried to push non-Uint8Array value");return p({done:!1,value:E})},b=E=>c?s:(c=!0,E!=null?g(E):p({done:!0})),w=()=>(r=new vy,b(),{done:!0}),v=E=>(b(E),{done:!0});if(s={[Symbol.asyncIterator](){return this},next:d,return:w,throw:v,push:y,end:b,get readableLength(){return r.size},onEmpty:async E=>{const C=E?.signal;if(C?.throwIfAborted(),r.isEmpty())return;let k,A;C!=null&&(k=new Promise((T,R)=>{A=()=>{R(new v9)},C.addEventListener("abort",A)}));try{await Promise.race([f.promise,k])}finally{A!=null&&C!=null&&C?.removeEventListener("abort",A)}}},n==null)return s;const S=s;return s={[Symbol.asyncIterator](){return this},next(){return S.next()},throw(E){return S.throw(E),n!=null&&(n(E),n=void 0),{done:!0}},return(){return S.return(),n!=null&&(n(),n=void 0),{done:!0}},push:y,end(E){return S.end(E),n!=null&&(n(E),n=void 0),s},get readableLength(){return S.readableLength},onEmpty:E=>S.onEmpty(E)},s}async function vo(t,e,n,r){const s=new ol(r?.errorMessage);r?.errorCode!=null&&(s.code=r.errorCode);const a=r?.errorEvent??"error";return n?.aborted===!0?Promise.reject(s):new Promise((c,f)=>{function d(){Sy(n,"abort",y),Sy(t,e,p),Sy(t,a,g)}const p=b=>{try{if(r?.filter?.(b)===!1)return}catch(w){d(),f(w);return}d(),c(b)},g=b=>{if(d(),b instanceof Error){f(b);return}f(b.detail??r?.error??new Error(`The "${r?.errorEvent}" event was emitted but the event had no '.detail' field. Pass an 'error' option to race-event to change this message.`))},y=()=>{d(),f(s)};wy(n,"abort",y),wy(t,e,p),wy(t,a,g)})}function wy(t,e,n){t!=null&&(OT(t)?t.addEventListener(e,n):t.addListener(e,n))}function Sy(t,e,n){t!=null&&(OT(t)?t.removeEventListener(e,n):t.removeListener(e,n))}function OT(t){return typeof t.addEventListener=="function"&&typeof t.removeEventListener=="function"}let S9=class extends Error{static name="QueueFullError";constructor(e="The queue was full"){super(e),this.name="QueueFullError"}},yx=class extends Error{type;code;constructor(e,n,r){super(e??"The operation was aborted"),this.type="aborted",this.name=r??"AbortError",this.code=n??"ABORT_ERR"}};async function Kr(t,e,n){if(e==null)return t;if(e.aborted)return t.catch(()=>{}),Promise.reject(new yx(n?.errorMessage,n?.errorCode,n?.errorName));let r;const s=new yx(n?.errorMessage,n?.errorCode,n?.errorName);try{return await Promise.race([t,new Promise((a,c)=>{r=()=>{c(s)},e.addEventListener("abort",r)})])}finally{r!=null&&e.removeEventListener("abort",r)}}let E9=class{deferred;signal;constructor(e){this.signal=e,this.deferred=Promise.withResolvers(),this.onAbort=this.onAbort.bind(this),this.signal?.addEventListener("abort",this.onAbort)}onAbort(){this.deferred.reject(this.signal?.reason??new ol)}cleanup(){this.signal?.removeEventListener("abort",this.onAbort)}};function x9(){return`${parseInt(String(Math.random()*1e9),10).toString()}${Date.now()}`}let C9=class{id;fn;options;recipients;status;timeline;controller;constructor(e,n){this.id=x9(),this.status="queued",this.fn=e,this.options=n,this.recipients=[],this.timeline={created:Date.now()},this.controller=new AbortController,this.controller.signal,this.onAbort=this.onAbort.bind(this)}abort(e){this.controller.abort(e)}onAbort(){this.recipients.reduce((n,r)=>n&&r.signal?.aborted===!0,!0)&&(this.controller.abort(new ol),this.cleanup())}async join(e={}){const n=new E9(e.signal);return this.recipients.push(n),e.signal?.addEventListener("abort",this.onAbort),n.deferred.promise}async run(){this.status="running",this.timeline.started=Date.now();try{this.controller.signal.throwIfAborted();const e=await Kr(this.fn({...this.options??{},signal:this.controller.signal}),this.controller.signal);this.recipients.forEach(n=>{n.deferred.resolve(e)}),this.status="complete"}catch(e){this.recipients.forEach(n=>{n.deferred.reject(e)}),this.status="errored"}finally{this.timeline.finished=Date.now(),this.cleanup()}}cleanup(){this.recipients.forEach(e=>{e.cleanup(),e.signal?.removeEventListener("abort",this.onAbort)})}};function bx(t,e){let n;const r=function(){const s=function(){n=void 0,t()};clearTimeout(n),n=setTimeout(s,e)};return r.start=()=>{},r.stop=()=>{clearTimeout(n)},r}let vx=class extends Xa{concurrency;maxSize;queue;pending;sort;autoStart;constructor(e={}){super(),this.concurrency=e.concurrency??Number.POSITIVE_INFINITY,this.maxSize=e.maxSize??Number.POSITIVE_INFINITY,this.pending=0,this.autoStart=e.autoStart??!0,this.sort=e.sort,this.queue=[],this.emitEmpty=bx(this.emitEmpty.bind(this),1),this.emitIdle=bx(this.emitIdle.bind(this),1)}[Symbol.asyncIterator](){return this.toGenerator()}emitEmpty(){this.size===0&&this.safeDispatchEvent("empty")}emitIdle(){this.running===0&&this.safeDispatchEvent("idle")}tryToStartAnother(){if(this.size===0)return this.emitEmpty(),this.running===0&&this.emitIdle(),!1;if(this.pending<this.concurrency){let e;for(const n of this.queue)if(n.status==="queued"){e=n;break}return e==null?!1:(this.safeDispatchEvent("active"),this.pending++,e.run().finally(()=>{for(let n=0;n<this.queue.length;n++)if(this.queue[n]===e){this.queue.splice(n,1);break}this.pending--,this.safeDispatchEvent("next"),this.autoStart&&this.tryToStartAnother()}),!0)}return!1}enqueue(e){this.queue.push(e),this.sort!=null&&this.queue.sort(this.sort)}start(){this.autoStart===!1&&(this.autoStart=!0,this.tryToStartAnother())}pause(){this.autoStart=!1}async add(e,n){if(n?.signal?.throwIfAborted(),this.size===this.maxSize)throw new S9;const r=new C9(e,n);return this.enqueue(r),this.safeDispatchEvent("add"),this.autoStart&&this.tryToStartAnother(),r.join(n).then(s=>(this.safeDispatchEvent("success",{detail:{job:r,result:s}}),s)).catch(s=>{if(r.status==="queued"){for(let a=0;a<this.queue.length;a++)if(this.queue[a]===r){this.queue.splice(a,1);break}}throw this.safeDispatchEvent("failure",{detail:{job:r,error:s}}),s})}clear(){this.queue.splice(0,this.queue.length)}abort(){this.queue.forEach(e=>{e.abort(new ol)}),this.clear()}async onEmpty(e){this.size!==0&&await vo(this,"empty",e?.signal)}async onSizeLessThan(e,n){this.size<e||await vo(this,"next",n?.signal,{filter:()=>this.size<e})}async onIdle(e){this.pending===0&&this.size===0||await vo(this,"idle",e?.signal)}get size(){return this.queue.length}get queued(){return this.queue.length-this.pending}get running(){return this.pending}async*toGenerator(e){e?.signal?.throwIfAborted();const n=fp({objectMode:!0}),r=d=>{d!=null?this.abort():this.clear(),n.end(d)},s=d=>{d.detail!=null&&n.push(d.detail.result)},a=d=>{r(d.detail.error)},c=()=>{r()},f=()=>{r(new ol("Queue aborted"))};this.addEventListener("success",s),this.addEventListener("failure",a),this.addEventListener("idle",c),e?.signal?.addEventListener("abort",f);try{yield*n}finally{this.removeEventListener("success",s),this.removeEventListener("failure",a),this.removeEventListener("idle",c),e?.signal?.removeEventListener("abort",f),r()}}};const MT="lock:worker:request-read",DT="lock:worker:abort-read-request",kT="lock:worker:release-read",LT="lock:master:grant-read",NT="lock:master:error-read",BT="lock:worker:request-write",IT="lock:worker:abort-write-request",PT="lock:worker:release-write",$T="lock:master:grant-write",UT="lock:master:error-write",zT="lock:worker:finalize",FT="mortice",A9={singleProcess:!1},wx=(t,e,n,r,s,a,c,f,d)=>p=>{if(p.data==null)return;const g={type:p.data.type,name:p.data.name,identifier:p.data.identifier};g.type===s&&t.safeDispatchEvent(n,{detail:{name:g.name,identifier:g.identifier,handler:async()=>{e.postMessage({type:d,name:g.name,identifier:g.identifier}),await new Promise(y=>{const b=w=>{if(w?.data==null)return;const v={type:w.data.type,name:w.data.name,identifier:w.data.identifier};v.type===f&&v.identifier===g.identifier&&(e.removeEventListener("message",b),y())};e.addEventListener("message",b)})},onError:y=>{e.postMessage({type:c,name:g.name,identifier:g.identifier,error:{message:y.message,name:y.name,stack:y.stack}})}}}),g.type===a&&t.safeDispatchEvent(r,{detail:{name:g.name,identifier:g.identifier}}),g.type===zT&&t.safeDispatchEvent("finalizeRequest",{detail:{name:g.name}})},_9=(t=10)=>Math.random().toString().substring(2,t+2);class T9{name;channel;constructor(e){this.name=e,this.channel=new BroadcastChannel(FT)}readLock(e){return this.sendRequest(MT,DT,LT,NT,kT,e)}writeLock(e){return this.sendRequest(BT,IT,$T,UT,PT,e)}finalize(){this.channel.postMessage({type:zT,name:this.name}),this.channel.close()}async sendRequest(e,n,r,s,a,c){c?.signal?.throwIfAborted();const f=_9();return this.channel.postMessage({type:e,identifier:f,name:this.name}),new Promise((d,p)=>{const g=()=>{this.channel.postMessage({type:n,identifier:f,name:this.name})};c?.signal?.addEventListener("abort",g,{once:!0});const y=b=>{if(b.data?.identifier===f&&(b.data?.type===r&&(this.channel.removeEventListener("message",y),c?.signal?.removeEventListener("abort",g),d(()=>{this.channel.postMessage({type:a,identifier:f,name:this.name})})),b.data.type===s)){this.channel.removeEventListener("message",y),c?.signal?.removeEventListener("abort",g);const w=new Error;b.data.error!=null&&(w.message=b.data.error.message,w.name=b.data.error.name,w.stack=b.data.error.stack),p(w)}};this.channel.addEventListener("message",y)})}}const R9=t=>{if(t=Object.assign({},A9,t),!!globalThis.document||t.singleProcess){const n=new BroadcastChannel(FT),r=new Xa;return n.addEventListener("message",wx(r,n,"requestReadLock","abortReadLockRequest",MT,DT,NT,kT,LT)),n.addEventListener("message",wx(r,n,"requestWriteLock","abortWriteLockRequest",BT,IT,UT,PT,$T)),r}return new T9(t.name)},go=new Map;let Cc;function qT(t){return typeof t?.readLock=="function"&&typeof t?.writeLock=="function"}function O9(t){if(Cc==null&&(Cc=R9(t),!qT(Cc))){const e=Cc;e.addEventListener("requestReadLock",n=>{const r=n.detail.name,s=n.detail.identifier,a=go.get(r);if(a==null)return;const c=new AbortController,f=d=>{d.detail.name!==r||d.detail.identifier!==s||c.abort()};e.addEventListener("abortReadLockRequest",f),a.readLock({signal:c.signal}).then(async d=>{await n.detail.handler().finally(()=>{d()})}).catch(d=>{n.detail.onError(d)}).finally(()=>{e.removeEventListener("abortReadLockRequest",f)})}),e.addEventListener("requestWriteLock",n=>{const r=n.detail.name,s=n.detail.identifier,a=go.get(r);if(a==null)return;const c=new AbortController,f=d=>{d.detail.name!==r||d.detail.identifier!==s||c.abort()};e.addEventListener("abortWriteLockRequest",f),a.writeLock({signal:c.signal}).then(async d=>{await n.detail.handler().finally(()=>{d()})}).catch(d=>{n.detail.onError(d)}).finally(()=>{e.removeEventListener("abortWriteLockRequest",f)})}),e.addEventListener("finalizeRequest",n=>{const r=n.detail.name,s=go.get(r);s?.finalize()})}return Cc}async function Ey(t,e){let n,r;const s=new Promise((c,f)=>{n=c,r=f}),a=()=>{r(new ol)};return e?.signal?.addEventListener("abort",a,{once:!0}),t.add(async()=>{await new Promise(c=>{n(()=>{e?.signal?.removeEventListener("abort",a),c()})})},{signal:e?.signal}).catch(c=>{r(c)}),s}const M9=(t,e)=>{let n=go.get(t);if(n!=null)return n;const r=O9(e);if(qT(r))return n=r,go.set(t,n),n;const s=new vx({concurrency:1});let a;return n={async readLock(c){if(a!=null)return Ey(a,c);a=new vx({concurrency:e.concurrency,autoStart:!1});const f=a,d=Ey(a,c);return s.add(async()=>{f.start(),await f.onIdle().then(()=>{a===f&&(a=null)})}),d},async writeLock(c){return a=null,Ey(s,c)},finalize:()=>{go.delete(t)},queue:s},go.set(t,n),e.autoFinalize===!0&&s.addEventListener("idle",()=>{n.finalize()},{once:!0}),n},D9={name:"lock",concurrency:1/0,singleProcess:!1,autoFinalize:!1};function k9(t){const e=Object.assign({},D9,t);return M9(e.name,e)}const L9=36e5,N9=216e5;var mo;(function(t){(function(n){let r;n.codec=()=>(r==null&&(r=Rr((s,a,c={})=>{c.lengthDelimited!==!1&&a.fork(),s.key!=null&&s.key!==""&&(a.uint32(10),a.string(s.key)),s.value!=null&&s.value.byteLength>0&&(a.uint32(18),a.bytes(s.value)),c.lengthDelimited!==!1&&a.ldelim()},(s,a,c={})=>{const f={key:"",value:Lt(0)},d=a==null?s.len:s.pos+a;for(;s.pos<d;){const p=s.uint32();switch(p>>>3){case 1:{f.key=s.string();break}case 2:{f.value=s.bytes();break}default:{s.skipType(p&7);break}}}return f})),r),n.encode=s=>Tr(s,n.codec()),n.decode=(s,a)=>_r(s,n.codec(),a)})(t.Peer$metadataEntry||(t.Peer$metadataEntry={})),function(n){let r;n.codec=()=>(r==null&&(r=Rr((s,a,c={})=>{c.lengthDelimited!==!1&&a.fork(),s.key!=null&&s.key!==""&&(a.uint32(10),a.string(s.key)),s.value!=null&&(a.uint32(18),gh.codec().encode(s.value,a)),c.lengthDelimited!==!1&&a.ldelim()},(s,a,c={})=>{const f={key:""},d=a==null?s.len:s.pos+a;for(;s.pos<d;){const p=s.uint32();switch(p>>>3){case 1:{f.key=s.string();break}case 2:{f.value=gh.codec().decode(s,s.uint32(),{limits:c.limits?.value});break}default:{s.skipType(p&7);break}}}return f})),r),n.encode=s=>Tr(s,n.codec()),n.decode=(s,a)=>_r(s,n.codec(),a)}(t.Peer$tagsEntry||(t.Peer$tagsEntry={}));let e;t.codec=()=>(e==null&&(e=Rr((n,r,s={})=>{if(s.lengthDelimited!==!1&&r.fork(),n.addresses!=null)for(const a of n.addresses)r.uint32(10),ph.codec().encode(a,r);if(n.protocols!=null)for(const a of n.protocols)r.uint32(18),r.string(a);if(n.publicKey!=null&&(r.uint32(34),r.bytes(n.publicKey)),n.peerRecordEnvelope!=null&&(r.uint32(42),r.bytes(n.peerRecordEnvelope)),n.metadata!=null&&n.metadata.size!==0)for(const[a,c]of n.metadata.entries())r.uint32(50),t.Peer$metadataEntry.codec().encode({key:a,value:c},r);if(n.tags!=null&&n.tags.size!==0)for(const[a,c]of n.tags.entries())r.uint32(58),t.Peer$tagsEntry.codec().encode({key:a,value:c},r);n.updated!=null&&(r.uint32(64),r.uint64Number(n.updated)),s.lengthDelimited!==!1&&r.ldelim()},(n,r,s={})=>{const a={addresses:[],protocols:[],metadata:new Map,tags:new Map},c=r==null?n.len:n.pos+r;for(;n.pos<c;){const f=n.uint32();switch(f>>>3){case 1:{if(s.limits?.addresses!=null&&a.addresses.length===s.limits.addresses)throw new nu('Decode error - map field "addresses" had too many elements');a.addresses.push(ph.codec().decode(n,n.uint32(),{limits:s.limits?.addresses$}));break}case 2:{if(s.limits?.protocols!=null&&a.protocols.length===s.limits.protocols)throw new nu('Decode error - map field "protocols" had too many elements');a.protocols.push(n.string());break}case 4:{a.publicKey=n.bytes();break}case 5:{a.peerRecordEnvelope=n.bytes();break}case 6:{if(s.limits?.metadata!=null&&a.metadata.size===s.limits.metadata)throw new J2('Decode error - map field "metadata" had too many elements');const d=t.Peer$metadataEntry.codec().decode(n,n.uint32());a.metadata.set(d.key,d.value);break}case 7:{if(s.limits?.tags!=null&&a.tags.size===s.limits.tags)throw new J2('Decode error - map field "tags" had too many elements');const d=t.Peer$tagsEntry.codec().decode(n,n.uint32(),{limits:{value:s.limits?.tags$value}});a.tags.set(d.key,d.value);break}case 8:{a.updated=n.uint64Number();break}default:{n.skipType(f&7);break}}}return a})),e),t.encode=n=>Tr(n,t.codec()),t.decode=(n,r)=>_r(n,t.codec(),r)})(mo||(mo={}));var ph;(function(t){let e;t.codec=()=>(e==null&&(e=Rr((n,r,s={})=>{s.lengthDelimited!==!1&&r.fork(),n.multiaddr!=null&&n.multiaddr.byteLength>0&&(r.uint32(10),r.bytes(n.multiaddr)),n.isCertified!=null&&(r.uint32(16),r.bool(n.isCertified)),n.observed!=null&&(r.uint32(24),r.uint64Number(n.observed)),s.lengthDelimited!==!1&&r.ldelim()},(n,r,s={})=>{const a={multiaddr:Lt(0)},c=r==null?n.len:n.pos+r;for(;n.pos<c;){const f=n.uint32();switch(f>>>3){case 1:{a.multiaddr=n.bytes();break}case 2:{a.isCertified=n.bool();break}case 3:{a.observed=n.uint64Number();break}default:{n.skipType(f&7);break}}}return a})),e),t.encode=n=>Tr(n,t.codec()),t.decode=(n,r)=>_r(n,t.codec(),r)})(ph||(ph={}));var gh;(function(t){let e;t.codec=()=>(e==null&&(e=Rr((n,r,s={})=>{s.lengthDelimited!==!1&&r.fork(),n.value!=null&&n.value!==0&&(r.uint32(8),r.uint32(n.value)),n.expiry!=null&&(r.uint32(16),r.uint64(n.expiry)),s.lengthDelimited!==!1&&r.ldelim()},(n,r,s={})=>{const a={value:0},c=r==null?n.len:n.pos+r;for(;n.pos<c;){const f=n.uint32();switch(f>>>3){case 1:{a.value=n.uint32();break}case 2:{a.expiry=n.uint64();break}default:{n.skipType(f&7);break}}}return a})),e),t.encode=n=>Tr(n,t.codec()),t.decode=(n,r)=>_r(n,t.codec(),r)})(gh||(gh={}));function B9(t,e){if(t.publicKey!=null||e.publicKey==null)return t;let n;t.type==="RSA"&&(n=t.toMultihash());const r=Za(e.publicKey,n);return ah(r)}function I9(t,e,n){const r=mo.decode(e);return Bc(t,r,n)}function Bc(t,e,n){const r=new Map,s=BigInt(Date.now());for(const[a,c]of e.tags.entries())c.expiry!=null&&c.expiry<s||r.set(a,c);return{...e,id:B9(t,e),addresses:e.addresses.filter(({observed:a})=>a!=null&&a>Date.now()-n).map(({multiaddr:a,isCertified:c})=>({multiaddr:_t(a),isCertified:c??!1})),metadata:e.metadata,peerRecordEnvelope:e.peerRecordEnvelope??void 0,tags:r}}function P9(t,e){return $9(t.addresses,e.addresses)&&U9(t.protocols,e.protocols)&&z9(t.publicKey,e.publicKey)&&F9(t.peerRecordEnvelope,e.peerRecordEnvelope)&&q9(t.metadata,e.metadata)&&H9(t.tags,e.tags)}function $9(t,e){return jT(t,e,(n,r)=>!(n.isCertified!==r.isCertified||!$n(n.multiaddr,r.multiaddr)))}function U9(t,e){return jT(t,e,(n,r)=>n===r)}function z9(t,e){return HT(t,e)}function F9(t,e){return HT(t,e)}function q9(t,e){return VT(t,e,(n,r)=>$n(n,r))}function H9(t,e){return VT(t,e,(n,r)=>n.value===r.value&&n.expiry===r.expiry)}function HT(t,e){return t==null&&e==null?!0:t!=null&&e!=null?$n(t,e):!1}function jT(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(!n(t[r],e[r]))return!1;return!0}function VT(t,e,n){if(t.size!==e.size)return!1;for(const[r,s]of t.entries()){const a=e.get(r);if(a==null||!n(s,a))return!1}return!0}const zi="/",KT=new TextEncoder().encode(zi),md=KT[0];class Pn{_buf;constructor(e,n){if(typeof e=="string")this._buf=Pe(e);else if(e instanceof Uint8Array)this._buf=e;else throw new Error("Invalid key, should be String of Uint8Array");if(n==null&&(n=!0),n&&this.clean(),this._buf.byteLength===0||this._buf[0]!==md)throw new Error("Invalid key")}toString(e="utf8"){return He(this._buf,e)}uint8Array(){return this._buf}get[Symbol.toStringTag](){return`Key(${this.toString()})`}static withNamespaces(e){return new Pn(e.join(zi))}static random(){return new Pn(Math.random().toString().substring(2))}static asKey(e){return e instanceof Uint8Array||typeof e=="string"?new Pn(e):typeof e.uint8Array=="function"?new Pn(e.uint8Array()):null}clean(){if((this._buf==null||this._buf.byteLength===0)&&(this._buf=KT),this._buf[0]!==md){const e=new Uint8Array(this._buf.byteLength+1);e.fill(md,0,1),e.set(this._buf,1),this._buf=e}for(;this._buf.byteLength>1&&this._buf[this._buf.byteLength-1]===md;)this._buf=this._buf.subarray(0,-1)}less(e){const n=this.list(),r=e.list();for(let s=0;s<n.length;s++){if(r.length<s+1)return!1;const a=n[s],c=r[s];if(a<c)return!0;if(a>c)return!1}return n.length<r.length}reverse(){return Pn.withNamespaces(this.list().slice().reverse())}namespaces(){return this.list()}baseNamespace(){const e=this.namespaces();return e[e.length-1]}list(){return this.toString().split(zi).slice(1)}type(){return j9(this.baseNamespace())}name(){return V9(this.baseNamespace())}instance(e){return new Pn(this.toString()+":"+e)}path(){let e=this.parent().toString();return e.endsWith(zi)||(e+=zi),e+=this.type(),new Pn(e)}parent(){const e=this.list();return e.length===1?new Pn(zi):new Pn(e.slice(0,-1).join(zi))}child(e){return this.toString()===zi?e:e.toString()===zi?this:new Pn(this.toString()+e.toString(),!1)}isAncestorOf(e){return e.toString()===this.toString()?!1:e.toString().startsWith(this.toString())}isDecendantOf(e){return e.toString()===this.toString()?!1:this.toString().startsWith(e.toString())}isTopLevel(){return this.list().length===1}concat(...e){return Pn.withNamespaces([...this.namespaces(),...K9(e.map(n=>n.namespaces()))])}}function j9(t){const e=t.split(":");return e.length<2?"":e.slice(0,-1).join(":")}function V9(t){const e=t.split(":");return e[e.length-1]}function K9(t){return[].concat(...t)}const GT="/peers/";function yd(t){if(!Fc(t)||t.type==null)throw new bt("Invalid PeerId");const e=t.toCID().toString();return new Pn(`${GT}${e}`)}async function G9(t,e,n,r,s){const a=new Map;for(const c of n){if(c==null)continue;if(c.multiaddr instanceof Uint8Array&&(c.multiaddr=_t(c.multiaddr)),!Tu(c.multiaddr))throw new bt("Multiaddr was invalid");if(!await e(t,c.multiaddr,s))continue;const f=c.isCertified??!1,d=c.multiaddr.toString(),p=a.get(d);p!=null?c.isCertified=p.isCertified||f:a.set(d,{multiaddr:c.multiaddr,isCertified:f})}return[...a.values()].sort((c,f)=>c.multiaddr.toString().localeCompare(f.multiaddr.toString())).map(({isCertified:c,multiaddr:f})=>{const d=f.getPeerId();return t.equals(d)&&(f=f.decapsulate(_t(`/p2p/${t}`))),{isCertified:c,multiaddr:f.bytes}})}async function xy(t,e,n,r){if(e==null)throw new bt("Invalid PeerData");if(e.publicKey!=null&&t.publicKey!=null&&!e.publicKey.equals(t.publicKey))throw new bt("publicKey bytes do not match peer id publicKey bytes");const s=r.existingPeer?.peer;if(s!=null&&!t.equals(s.id))throw new bt("peer id did not match existing peer id");let a=s?.addresses??[],c=new Set(s?.protocols??[]),f=s?.metadata??new Map,d=s?.tags??new Map,p=s?.peerRecordEnvelope;if(n==="patch"){if((e.multiaddrs!=null||e.addresses!=null)&&(a=[],e.multiaddrs!=null&&a.push(...e.multiaddrs.map(b=>({isCertified:!1,multiaddr:b}))),e.addresses!=null&&a.push(...e.addresses)),e.protocols!=null&&(c=new Set(e.protocols)),e.metadata!=null){const b=e.metadata instanceof Map?[...e.metadata.entries()]:Object.entries(e.metadata);f=bd(b,{validate:Sx})}if(e.tags!=null){const b=e.tags instanceof Map?[...e.tags.entries()]:Object.entries(e.tags);d=bd(b,{validate:Ex,map:xx})}e.peerRecordEnvelope!=null&&(p=e.peerRecordEnvelope)}if(n==="merge"){if(e.multiaddrs!=null&&a.push(...e.multiaddrs.map(b=>({isCertified:!1,multiaddr:b}))),e.addresses!=null&&a.push(...e.addresses),e.protocols!=null&&(c=new Set([...c,...e.protocols])),e.metadata!=null){const b=e.metadata instanceof Map?[...e.metadata.entries()]:Object.entries(e.metadata);for(const[w,v]of b)v==null?f.delete(w):f.set(w,v);f=bd([...f.entries()],{validate:Sx})}if(e.tags!=null){const b=e.tags instanceof Map?[...e.tags.entries()]:Object.entries(e.tags),w=new Map(d);for(const[v,S]of b)S==null?w.delete(v):w.set(v,S);d=bd([...w.entries()],{validate:Ex,map:xx})}e.peerRecordEnvelope!=null&&(p=e.peerRecordEnvelope)}let g;s?.id.publicKey!=null?g=Ts(s.id.publicKey):e.publicKey!=null?g=Ts(e.publicKey):t.publicKey!=null&&(g=Ts(t.publicKey));const y={addresses:await G9(t,r.addressFilter??(async()=>!0),a,r.existingPeer?.peerPB.addresses,r),protocols:[...c.values()].sort((b,w)=>b.localeCompare(w)),metadata:f,tags:d,publicKey:g,peerRecordEnvelope:p};return y.addresses.forEach(b=>{b.observed=r.existingPeer?.peerPB.addresses?.find(w=>$n(w.multiaddr,w.multiaddr))?.observed??Date.now()}),t.type!=="RSA"&&delete y.publicKey,y}function bd(t,e){const n=new Map;for(const[r,s]of t)s!=null&&e.validate(r,s);for(const[r,s]of t.sort(([a],[c])=>a.localeCompare(c)))s!=null&&n.set(r,e.map?.(r,s)??s);return n}function Sx(t,e){if(typeof t!="string")throw new bt("Metadata key must be a string");if(!(e instanceof Uint8Array))throw new bt("Metadata value must be a Uint8Array")}function Ex(t,e){if(typeof t!="string")throw new bt("Tag name must be a string");if(e.value!=null){if(parseInt(`${e.value}`,10)!==e.value)throw new bt("Tag value must be an integer");if(e.value<0||e.value>100)throw new bt("Tag value must be between 0-100")}if(e.ttl!=null){if(parseInt(`${e.ttl}`,10)!==e.ttl)throw new bt("Tag ttl must be an integer");if(e.ttl<0)throw new bt("Tag ttl must be between greater than 0")}}function xx(t,e){let n;e.expiry!=null&&(n=e.expiry),e.ttl!=null&&(n=BigInt(Date.now()+Number(e.ttl)));const r={value:e.value??0};return n!=null&&(r.expiry=n),r}function YT(t){const e=t.toString().split("/")[2],n=yi.parse(e,_s);return nv(n)}function Cy(t,e,n){const r=YT(t);return I9(r,e,n)}function Y9(t,e){return{prefix:GT,filters:(t.filters??[]).map(n=>({key:r,value:s})=>n(Cy(r,s,e))),orders:(t.orders??[]).map(n=>(r,s)=>n(Cy(r.key,r.value,e),Cy(s.key,s.value,e)))}}class X9{peerId;datastore;locks;addressFilter;log;maxAddressAge;maxPeerAge;constructor(e,n={}){this.log=e.logger.forComponent("libp2p:peer-store"),this.peerId=e.peerId,this.datastore=e.datastore,this.addressFilter=n.addressFilter,this.locks=h9({name:"libp2p_peer_store_locks",metrics:e.metrics}),this.maxAddressAge=n.maxAddressAge??L9,this.maxPeerAge=n.maxPeerAge??N9}getLock(e){let n=this.locks.get(e);return n==null&&(n={refs:0,lock:k9({name:e.toString(),singleProcess:!0})},this.locks.set(e,n)),n.refs++,n}maybeRemoveLock(e,n){n.refs--,n.refs===0&&(n.lock.finalize(),this.locks.delete(e))}async getReadLock(e,n){const r=this.getLock(e);try{const s=await r.lock.readLock(n);return()=>{s(),this.maybeRemoveLock(e,r)}}catch(s){throw this.maybeRemoveLock(e,r),s}}async getWriteLock(e,n){const r=this.getLock(e);try{const s=await r.lock.writeLock(n);return()=>{s(),this.maybeRemoveLock(e,r)}}catch(s){throw this.maybeRemoveLock(e,r),s}}async has(e,n){try{return await this.load(e,n),!0}catch(r){if(r.name!=="NotFoundError")throw r}return!1}async delete(e,n){this.peerId.equals(e)||await this.datastore.delete(yd(e),n)}async load(e,n){const r=yd(e),s=await this.datastore.get(r,n),a=mo.decode(s);if(this.#t(e,a))throw await this.datastore.delete(r,n),new yb;return Bc(e,a,this.peerId.equals(e)?1/0:this.maxAddressAge)}async save(e,n,r){const s=await this.#e(e,r),a=await xy(e,n,"patch",{...r,addressFilter:this.addressFilter});return this.#r(e,a,s)}async patch(e,n,r){const s=await this.#e(e,r),a=await xy(e,n,"patch",{...r,addressFilter:this.addressFilter,existingPeer:s});return this.#r(e,a,s)}async merge(e,n,r){const s=await this.#e(e,r),a=await xy(e,n,"merge",{addressFilter:this.addressFilter,existingPeer:s});return this.#r(e,a,s)}async*all(e){for await(const{key:n,value:r}of this.datastore.query(Y9(e??{},this.maxAddressAge),e)){const s=YT(n);if(s.equals(this.peerId))continue;const a=mo.decode(r);if(this.#t(s,a)){await this.datastore.delete(n,e);continue}yield Bc(s,a,this.peerId.equals(s)?1/0:this.maxAddressAge)}}async#e(e,n){try{const r=yd(e),s=await this.datastore.get(r,n),a=mo.decode(s);if(this.#t(e,a))throw await this.datastore.delete(r,n),new yb;return{peerPB:a,peer:Bc(e,a,this.maxAddressAge)}}catch(r){r.name!=="NotFoundError"&&this.log.error("invalid peer data found in peer store - %e",r)}}async#r(e,n,r,s){n.updated=Date.now();const a=mo.encode(n);return await this.datastore.put(yd(e),a,s),{peer:Bc(e,n,this.maxAddressAge),previous:r?.peer,updated:r==null||!P9(n,r.peerPB)}}#t(e,n){if(n.updated==null)return!0;if(this.peerId.equals(e))return!1;const r=n.updated<Date.now()-this.maxPeerAge,s=Date.now()-this.maxAddressAge,a=n.addresses.filter(c=>c.observed!=null&&c.observed>s);return r&&a.length===0}}class W9{store;events;peerId;log;constructor(e,n={}){this.log=e.logger.forComponent("libp2p:peer-store"),this.events=e.events,this.peerId=e.peerId,this.store=new X9(e,n)}[Symbol.toStringTag]="@libp2p/peer-store";async forEach(e,n){for await(const r of this.store.all(n))e(r)}async all(e){return Lb(this.store.all(e))}async delete(e,n){const r=await this.store.getReadLock(e,n);try{await this.store.delete(e,n)}finally{r()}}async has(e,n){const r=await this.store.getReadLock(e,n);try{return await this.store.has(e,n)}finally{this.log.trace("has release read lock"),r?.()}}async get(e,n){const r=await this.store.getReadLock(e,n);try{return await this.store.load(e,n)}finally{r?.()}}async getInfo(e,n){const r=await this.get(e,n);return{id:r.id,multiaddrs:r.addresses.map(({multiaddr:s})=>s)}}async save(e,n,r){const s=await this.store.getWriteLock(e,r);try{const a=await this.store.save(e,n,r);return this.#e(e,a),a.peer}finally{s?.()}}async patch(e,n,r){const s=await this.store.getWriteLock(e,r);try{const a=await this.store.patch(e,n,r);return this.#e(e,a),a.peer}finally{s?.()}}async merge(e,n,r){const s=await this.store.getWriteLock(e,r);try{const a=await this.store.merge(e,n,r);return this.#e(e,a),a.peer}finally{s?.()}}async consumePeerRecord(e,n,r){const s=Fc(n)?n:Fc(n?.expectedPeer)?n.expectedPeer:void 0,a=Fc(n)||n===void 0?r:n,c=await Fa.openAndCertify(e,xs.DOMAIN,a),f=nv(c.publicKey.toCID());if(s?.equals(f)===!1)return this.log("envelope peer id was not the expected peer id - expected: %p received: %p",s,f),!1;const d=xs.createFromProtobuf(c.payload);let p;try{p=await this.get(f,a)}catch(g){if(g.name!=="NotFoundError")throw g}if(p?.peerRecordEnvelope!=null){const g=Fa.createFromProtobuf(p.peerRecordEnvelope),y=xs.createFromProtobuf(g.payload);if(y.seqNumber>=d.seqNumber)return this.log("sequence number was lower or equal to existing sequence number - stored: %d received: %d",y.seqNumber,d.seqNumber),!1}return await this.patch(d.peerId,{peerRecordEnvelope:e,addresses:d.multiaddrs.map(g=>({isCertified:!0,multiaddr:g}))},a),!0}#e(e,n){n.updated&&(this.peerId.equals(e)?this.events.safeDispatchEvent("self:peer:update",{detail:n}):this.events.safeDispatchEvent("peer:update",{detail:n}))}}function Q9(t,e={}){return new W9(t,e)}class mh extends Error{static name="NotFoundError";static code="ERR_NOT_FOUND";name=mh.name;code=mh.code;constructor(e="Not Found"){super(e)}}function Z9(t){return t[Symbol.asyncIterator]!=null}function Cx(t){if(Z9(t))return(async()=>{for await(const e of t);})();for(const e of t);}function J9(t){const[e,n]=t[Symbol.asyncIterator]!=null?[t[Symbol.asyncIterator](),Symbol.asyncIterator]:[t[Symbol.iterator](),Symbol.iterator],r=[];return{peek:()=>e.next(),push:s=>{r.push(s)},next:()=>r.length>0?{done:!1,value:r.shift()}:e.next(),[n](){return this}}}function ez(t){return t[Symbol.asyncIterator]!=null}function _a(t,e){let n=0;if(ez(t))return async function*(){for await(const d of t)await e(d,n++)&&(yield d)}();const r=J9(t),{value:s,done:a}=r.next();if(a===!0)return function*(){}();const c=e(s,n++);if(typeof c.then=="function")return async function*(){await c&&(yield s);for(const d of r)await e(d,n++)&&(yield d)}();const f=e;return function*(){c===!0&&(yield s);for(const d of r)f(d,n++)&&(yield d)}()}function tz(t){return t[Symbol.asyncIterator]!=null}function Ax(t,e){return tz(t)?async function*(){yield*(await Lb(t)).sort(e)}():function*(){yield*Lb(t).sort(e)}()}function nz(t){return t[Symbol.asyncIterator]!=null}function _x(t,e){return nz(t)?async function*(){let n=0;if(!(e<1)){for await(const r of t)if(yield r,n++,n===e)return}}():function*(){let n=0;if(!(e<1)){for(const r of t)if(yield r,n++,n===e)return}}()}class rz{put(e,n,r){return Promise.reject(new Error(".put is not implemented"))}get(e,n){return Promise.reject(new Error(".get is not implemented"))}has(e,n){return Promise.reject(new Error(".has is not implemented"))}delete(e,n){return Promise.reject(new Error(".delete is not implemented"))}async*putMany(e,n={}){for await(const{key:r,value:s}of e)await this.put(r,s,n),yield r}async*getMany(e,n={}){for await(const r of e)yield{key:r,value:await this.get(r,n)}}async*deleteMany(e,n={}){for await(const r of e)await this.delete(r,n),yield r}batch(){let e=[],n=[];return{put(r,s){e.push({key:r,value:s})},delete(r){n.push(r)},commit:async r=>{await Cx(this.putMany(e,r)),e=[],await Cx(this.deleteMany(n,r)),n=[]}}}async*_all(e,n){throw new Error("._all is not implemented")}async*_allKeys(e,n){throw new Error("._allKeys is not implemented")}query(e,n){let r=this._all(e,n);if(e.prefix!=null){const s=e.prefix;r=_a(r,a=>a.key.toString().startsWith(s))}if(Array.isArray(e.filters)&&(r=e.filters.reduce((s,a)=>_a(s,a),r)),Array.isArray(e.orders)&&(r=e.orders.reduce((s,a)=>Ax(s,a),r)),e.offset!=null){let s=0;const a=e.offset;r=_a(r,()=>s++>=a)}return e.limit!=null&&(r=_x(r,e.limit)),r}queryKeys(e,n){let r=this._allKeys(e,n);if(e.prefix!=null){const s=e.prefix;r=_a(r,a=>a.toString().startsWith(s))}if(Array.isArray(e.filters)&&(r=e.filters.reduce((s,a)=>_a(s,a),r)),Array.isArray(e.orders)&&(r=e.orders.reduce((s,a)=>Ax(s,a),r)),e.offset!=null){const s=e.offset;let a=0;r=_a(r,()=>a++>=s)}return e.limit!=null&&(r=_x(r,e.limit)),r}}class iz extends rz{data;constructor(){super(),this.data=new Map}put(e,n,r){return r?.signal?.throwIfAborted(),this.data.set(e.toString(),n),e}get(e,n){n?.signal?.throwIfAborted();const r=this.data.get(e.toString());if(r==null)throw new mh;return r}has(e,n){return n?.signal?.throwIfAborted(),this.data.has(e.toString())}delete(e,n){n?.signal?.throwIfAborted(),this.data.delete(e.toString())}*_all(e,n){n?.signal?.throwIfAborted();for(const[r,s]of this.data.entries())yield{key:new Pn(r),value:s},n?.signal?.throwIfAborted()}*_allKeys(e,n){n?.signal?.throwIfAborted();for(const r of this.data.keys())yield new Pn(r),n?.signal?.throwIfAborted()}}function Nb(t,e){let n;const r=function(){const s=function(){n=void 0,t()};clearTimeout(n),n=setTimeout(s,e)};return r.start=()=>{},r.stop=()=>{clearTimeout(n)},r}var Ta={},Tx;function sz(){return Tx||(Tx=1,(function(){var t,e,n,r,s,a,c,f;f=function(d){var p,g,y,b;return p=(d&255<<24)>>>24,g=(d&255<<16)>>>16,y=(d&65280)>>>8,b=d&255,[p,g,y,b].join(".")},c=function(d){var p,g,y,b,w,v;for(p=[],y=b=0;b<=3&&d.length!==0;y=++b){if(y>0){if(d[0]!==".")throw new Error("Invalid IP");d=d.substring(1)}v=e(d),w=v[0],g=v[1],d=d.substring(g),p.push(w)}if(d.length!==0)throw new Error("Invalid IP");switch(p.length){case 1:if(p[0]>4294967295)throw new Error("Invalid IP");return p[0]>>>0;case 2:if(p[0]>255||p[1]>16777215)throw new Error("Invalid IP");return(p[0]<<24|p[1])>>>0;case 3:if(p[0]>255||p[1]>255||p[2]>65535)throw new Error("Invalid IP");return(p[0]<<24|p[1]<<16|p[2])>>>0;case 4:if(p[0]>255||p[1]>255||p[2]>255||p[3]>255)throw new Error("Invalid IP");return(p[0]<<24|p[1]<<16|p[2]<<8|p[3])>>>0;default:throw new Error("Invalid IP")}},n=function(d){return d.charCodeAt(0)},r=n("0"),a=n("a"),s=n("A"),e=function(d){var p,g,y,b,w;for(b=0,p=10,g="9",y=0,d.length>1&&d[y]==="0"&&(d[y+1]==="x"||d[y+1]==="X"?(y+=2,p=16):"0"<=d[y+1]&&d[y+1]<="9"&&(y++,p=8,g="7")),w=y;y<d.length;){if("0"<=d[y]&&d[y]<=g)b=b*p+(n(d[y])-r)>>>0;else if(p===16)if("a"<=d[y]&&d[y]<="f")b=b*p+(10+n(d[y])-a)>>>0;else if("A"<=d[y]&&d[y]<="F")b=b*p+(10+n(d[y])-s)>>>0;else break;else break;if(b>4294967295)throw new Error("too large");y++}if(y===w)throw new Error("empty octet");return[b,y]},t=function(){function d(p,g){var y,b,w;if(typeof p!="string")throw new Error("Missing `net' parameter");if(g||(w=p.split("/",2),p=w[0],g=w[1]),g||(g=32),typeof g=="string"&&g.indexOf(".")>-1){try{this.maskLong=c(g)}catch{throw new Error("Invalid mask: "+g)}for(y=b=32;b>=0;y=--b)if(this.maskLong===4294967295<<32-y>>>0){this.bitmask=y;break}}else if(g||g===0)this.bitmask=parseInt(g,10),this.maskLong=0,this.bitmask>0&&(this.maskLong=4294967295<<32-this.bitmask>>>0);else throw new Error("Invalid mask: empty");try{this.netLong=(c(p)&this.maskLong)>>>0}catch{throw new Error("Invalid net address: "+p)}if(!(this.bitmask<=32))throw new Error("Invalid mask for ip4: "+g);this.size=Math.pow(2,32-this.bitmask),this.base=f(this.netLong),this.mask=f(this.maskLong),this.hostmask=f(~this.maskLong),this.first=this.bitmask<=30?f(this.netLong+1):this.base,this.last=this.bitmask<=30?f(this.netLong+this.size-2):f(this.netLong+this.size-1),this.broadcast=this.bitmask<=30?f(this.netLong+this.size-1):void 0}return d.prototype.contains=function(p){return typeof p=="string"&&(p.indexOf("/")>0||p.split(".").length!==4)&&(p=new d(p)),p instanceof d?this.contains(p.base)&&this.contains(p.broadcast||p.last):(c(p)&this.maskLong)>>>0===(this.netLong&this.maskLong)>>>0},d.prototype.next=function(p){return p==null&&(p=1),new d(f(this.netLong+this.size*p),this.mask)},d.prototype.forEach=function(p){var g,y,b;for(b=c(this.first),y=c(this.last),g=0;b<=y;)p(f(b),b,g),g++,b++},d.prototype.toString=function(){return this.base+"/"+this.bitmask},d}(),Ta.ip2long=c,Ta.long2ip=f,Ta.Netmask=t}).call(Ta)),Ta}var oz=sz();const az=["0.0.0.0/8","10.0.0.0/8","100.64.0.0/10","127.0.0.0/8","169.254.0.0/16","172.16.0.0/12","192.0.0.0/24","192.0.0.0/29","192.0.0.8/32","192.0.0.9/32","192.0.0.10/32","192.0.0.170/32","192.0.0.171/32","192.0.2.0/24","192.31.196.0/24","192.52.193.0/24","192.88.99.0/24","192.168.0.0/16","192.175.48.0/24","198.18.0.0/15","198.51.100.0/24","203.0.113.0/24","240.0.0.0/4","255.255.255.255/32"],lz=az.map(t=>new oz.Netmask(t));function lv(t){for(const e of lz)if(e.contains(t))return!0;return!1}function cz(t){return/^::ffff:([0-9a-fA-F]{1,4}):([0-9a-fA-F]{1,4})$/.test(t)}function uz(t){const e=t.split(":");if(e.length<2)return!1;const n=e[e.length-1].padStart(4,"0"),r=e[e.length-2].padStart(4,"0"),s=`${parseInt(r.substring(0,2),16)}.${parseInt(r.substring(2),16)}.${parseInt(n.substring(0,2),16)}.${parseInt(n.substring(2),16)}`;return lv(s)}function fz(t){return/^::ffff:([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/.test(t)}function dz(t){const e=t.split(":"),n=e[e.length-1];return lv(n)}function hz(t){return/^::$/.test(t)||/^::1$/.test(t)||/^64:ff9b::([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/.test(t)||/^100::([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4})$/.test(t)||/^2001::([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4})$/.test(t)||/^2001:2[0-9a-fA-F]:([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4})$/.test(t)||/^2001:db8:([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4})$/.test(t)||/^2002:([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4})$/.test(t)||/^f[c-d]([0-9a-fA-F]{2,2}):/i.test(t)||/^fe[8-9a-bA-B][0-9a-fA-F]:/i.test(t)||/^ff([0-9a-fA-F]{2,2}):/i.test(t)}function dp(t){if(nl(t))return lv(t);if(cz(t))return uz(t);if(fz(t))return dz(t);if(cT(t))return hz(t)}const Nt=t=>({match:e=>{const n=e[0];return n==null||n.code!==t||n.value!=null?!1:e.slice(1)}}),Te=(t,e)=>({match:n=>{const r=n[0];return r?.code!==t||r.value==null||e!=null&&r.value!==e?!1:n.slice(1)}}),Ge=t=>({match:e=>{const n=t.match(e);return n===!1?e:n}}),Un=(...t)=>({match:e=>{let n;for(const r of t){const s=r.match(e);s!==!1&&(n==null||s.length<n.length)&&(n=s)}return n??!1}}),lt=(...t)=>({match:e=>{for(const n of t){const r=n.match(e);if(r===!1)return!1;e=r}return e}});function Mt(...t){function e(s){if(s==null)return!1;let a=s.getComponents();for(const c of t){const f=c.match(a);if(f===!1)return!1;a=f}return a}function n(s){return e(s)!==!1}function r(s){const a=e(s);return a===!1?!1:a.length===0}return{matchers:t,matches:n,exactMatch:r}}const pz=Te(ct),gz=Mt(pz),hp=Te(Au),pp=Te(hl),gp=Te(_u),cv=Te(Cu);Mt(hp,Ge(Te(ct)));Mt(pp,Ge(Te(ct)));Mt(gp,Ge(Te(ct)));Mt(Un(cv,gp,hp,pp),Ge(Te(ct)));const XT=lt(Te(Ao),Ge(Te(rv))),WT=lt(Ge(Te(dl)),Te(ji),Ge(Te(rv))),uv=Un(XT,WT),To=Un(uv,cv,hp,pp,gp);Mt(Un(uv,lt(Un(cv,gp,hp,pp),Ge(Te(ct)))));const Rx=Mt(XT),Ox=Mt(WT);Mt(uv);const fv=lt(To,Te(Hi)),Ou=lt(To,Te(ch)),Bb=Mt(lt(fv,Ge(Te(ct))));Mt(Ou);const dv=lt(Ou,Nt(dT),Ge(Te(ct))),mp=lt(Ou,Nt(hT),Ge(Te(ct))),mz=Un(dv,mp);Mt(dv);const yz=Mt(mp),Ib=Un(To,fv,Ou,dv,mp),QT=Un(lt(Ib,Nt(iv),Ge(Te(ct)))),au=Mt(QT),ZT=Un(lt(Ib,Nt(gT),Ge(Te(ct))),lt(Ib,Nt($a),Ge(Te(fT)),Nt(iv),Ge(Te(ct)))),yh=Mt(ZT),JT=lt(Ou,Nt(mT),Ge(Te(iu)),Ge(Te(iu)),Ge(Te(ct))),Mx=Mt(JT),e3=lt(mp,Nt(pT),Ge(Te(iu)),Ge(Te(iu)),Ge(Te(ct))),Dx=Mt(e3),bh=Un(QT,ZT,lt(fv,Ge(Te(ct))),lt(mz,Ge(Te(ct))),lt(To,Ge(Te(ct))),JT,e3,Te(ct));Mt(bh);const bz=lt(bh,Nt(up),Te(ct)),Pb=Mt(bz),vz=Un(lt(bh,Nt(up),Nt(Nd),Ge(Te(ct))),lt(bh,Nt(Nd),Ge(Te(ct))),lt(Nt(Nd),Ge(Te(ct)))),kx=Mt(vz),wz=Un(lt(To,Te(Hi),Nt(Ua),Ge(Te(ct))),lt(To,Nt(Ua),Ge(Te(ct))));Mt(wz);const Sz=lt(To,Un(lt(Te(Hi,"443"),Nt(Ua)),lt(Te(Hi),Nt(kb)),lt(Te(Hi),Nt($a),Nt(Ua)),lt(Nt($a),Nt(Ua)),Nt($a),Nt(kb)),Ge(Te(ct)));Mt(Sz);const Ez=Un(lt(Te(yT),Ge(Te(ct))));Mt(Ez);const xz=Un(lt(Te(uT),Ge(Te(ct))));Mt(xz);class Cz extends Map{metric;constructor(e){super();const{name:n,metrics:r}=e;this.metric=r.registerMetric(n),this.updateComponentMetric()}set(e,n){return super.set(e,n),this.updateComponentMetric(),this}delete(e){const n=super.delete(e);return this.updateComponentMetric(),n}clear(){super.clear(),this.updateComponentMetric()}updateComponentMetric(){this.metric.update(this.size)}}function Gi(t){const{name:e,metrics:n}=t;let r;return n!=null?r=new Cz({name:e,metrics:n}):r=new Map,r}const Lx=864e13,Az=448,Ay=449,_z=53,Tz=54,Rz=55,Oz=56;class Mz{log;mappings;constructor(e,n={}){this.log=e.logger.forComponent("libp2p:address-manager:dns-mappings"),this.mappings=Gi({name:"libp2p_address_manager_dns_mappings",metrics:e.metrics})}has(e){const n=this.findHost(e);for(const r of this.mappings.values())if(r.domain===n)return!0;return!1}add(e,n){n.forEach(r=>{this.log("add DNS mapping %s to %s",r,e);const s=dp(r)===!0;this.mappings.set(r,{domain:e,verified:s,expires:s?Lx-Date.now():0,lastVerified:s?Lx-Date.now():void 0})})}remove(e){const n=this.findHost(e);let r=!1;for(const[s,a]of this.mappings.entries())a.domain===n&&(this.log("removing %s to %s DNS mapping %e",s,a.domain,new Error("where")),this.mappings.delete(s),r=r||a.verified);return r}getAll(e){const n=[];for(let r=0;r<e.length;r++){const a=e[r].multiaddr.stringTuples(),c=a[0][1];if(c!=null)for(const[f,d]of this.mappings.entries()){if(c!==f)continue;this.maybeAddSNITuple(a,d.domain)&&(e.splice(r,1),r--,n.push({multiaddr:_t(`/${a.map(g=>[ET(g[0]).name,g[1]].join("/")).join("/")}`),verified:d.verified,type:"dns-mapping",expires:d.expires,lastVerified:d.lastVerified}))}}return n}maybeAddSNITuple(e,n){for(let r=0;r<e.length;r++)if(e[r][0]===Az&&e[r+1]?.[0]!==Ay)return e.splice(r+1,0,[Ay,n]),!0;return!1}confirm(e,n){const r=this.findHost(e);let s=!1;for(const[a,c]of this.mappings.entries())c.domain===r&&(this.log("marking %s to %s DNS mapping as verified",a,c.domain),s=c.verified,c.verified=!0,c.expires=Date.now()+n,c.lastVerified=Date.now());return s}unconfirm(e,n){const r=this.findHost(e);let s=!1;for(const[a,c]of this.mappings.entries())c.domain===r&&(this.log("removing verification of %s to %s DNS mapping",a,c.domain),s=s||c.verified,c.verified=!1,c.expires=Date.now()+n);return s}findHost(e){for(const n of e.stringTuples())if(n[0]===Ay||n[0]===_z||n[0]===Tz||n[0]===Rz||n[0]===Oz)return n[1]}}const _y=4,Ty=41,Ry=6,Dz=273;class kz{log;mappings;constructor(e,n={}){this.log=e.logger.forComponent("libp2p:address-manager:ip-mappings"),this.mappings=Gi({name:"libp2p_address_manager_ip_mappings",metrics:e.metrics})}has(e){const n=e.stringTuples();for(const r of this.mappings.values())for(const s of r)if(s.externalIp===n[0][1])return!0;return!1}add(e,n,r,s=n,a="tcp"){const c=`${e}-${n}-${a}`,f=this.mappings.get(c)??[],d={internalIp:e,internalPort:n,externalIp:r,externalPort:s,externalFamily:nl(r)?4:6,protocol:a,verified:!1,expires:0};f.push(d),this.mappings.set(c,f)}remove(e){const n=e.stringTuples(),r=n[0][1]??"",s=n[1][0]===Ry?"tcp":"udp",a=parseInt(n[1][1]??"0");let c=!1;for(const[f,d]of this.mappings.entries()){for(let p=0;p<d.length;p++){const g=d[p];g.externalIp===r&&g.externalPort===a&&g.protocol===s&&(this.log("removing %s:%s to %s:%s %s IP mapping",g.externalIp,g.externalPort,r,a,s),c=c||g.verified,d.splice(p,1),p--)}d.length===0&&this.mappings.delete(f)}return c}getAll(e){const n=[];for(const{multiaddr:r}of e){const s=r.stringTuples();let a;if((s[0][0]===_y||s[0][0]===Ty)&&s[1][0]===Ry?a=`${s[0][1]}-${s[1][1]}-tcp`:(s[0][0]===_y||s[0][0]===Ty)&&s[1][0]===Dz&&(a=`${s[0][1]}-${s[1][1]}-udp`),a==null)continue;const c=this.mappings.get(a);if(c!=null)for(const f of c)s[0][0]=f.externalFamily===4?_y:Ty,s[0][1]=f.externalIp,s[1][1]=`${f.externalPort}`,n.push({multiaddr:_t(`/${s.map(d=>[ET(d[0]).name,d[1]].join("/")).join("/")}`),verified:f.verified,type:"ip-mapping",expires:f.expires,lastVerified:f.lastVerified})}return n}confirm(e,n){const s=e.stringTuples()[0][1];let a=!1;for(const c of this.mappings.values())for(const f of c)f.externalIp===s&&(this.log("marking %s to %s IP mapping as verified",f.internalIp,f.externalIp),a=f.verified,f.verified=!0,f.expires=Date.now()+n,f.lastVerified=Date.now());return a}unconfirm(e,n){const r=e.stringTuples(),s=r[0][1]??"",a=r[1][0]===Ry?"tcp":"udp",c=parseInt(r[1][1]??"0");let f=!1;for(const d of this.mappings.values())for(let p=0;p<d.length;p++){const g=d[p];g.externalIp===s&&g.externalPort===c&&g.protocol===a&&(this.log("removing verification of %s:%s to %s:%s %s IP mapping",g.externalIp,g.externalPort,s,c,a),f=f||g.verified,g.verified=!1,g.expires=Date.now()+n)}return f}}function Lz(t){try{for(const{code:e,value:n}of t.getComponents())if(e!==dl&&n!=null){if(e===Ao)return n.startsWith("169.254.");if(e===ji)return n.toLowerCase().startsWith("fe80")}}catch{}return!1}function t3(t){try{for(const{code:e}of t.getComponents())if(e!==dl)return e===Ao||e===ji}catch{}return!1}function vh(t){try{if(!t3(t))return!1;const[[,e]]=t.stringTuples();return e==null?!1:dp(e)??!1}catch{}return!0}const Nz={maxObservedAddresses:10};class Bz{log;addresses;maxObservedAddresses;constructor(e,n={}){this.log=e.logger.forComponent("libp2p:address-manager:observed-addresses"),this.addresses=Gi({name:"libp2p_address_manager_observed_addresses",metrics:e.metrics}),this.maxObservedAddresses=n.maxObservedAddresses??Nz.maxObservedAddresses}has(e){return this.addresses.has(e.toString())}removePrefixed(e){for(const n of this.addresses.keys())n.toString().startsWith(e)&&this.addresses.delete(n)}add(e){this.addresses.size!==this.maxObservedAddresses&&(vh(e)||Lz(e)||(this.log("adding observed address %a",e),this.addresses.set(e.toString(),{verified:!1,expires:0})))}getAll(){return Array.from(this.addresses).map(([e,n])=>({multiaddr:_t(e),verified:n.verified,type:"observed",expires:n.expires,lastVerified:n.lastVerified}))}remove(e){const n=this.addresses.get(e.toString())?.verified??!1;return this.log("removing observed address %a",e),this.addresses.delete(e.toString()),n}confirm(e,n){const r=e.toString(),s=this.addresses.get(r)??{verified:!1,expires:Date.now()+n,lastVerified:Date.now()},a=s.verified;return s.verified=!0,s.expires=Date.now()+n,s.lastVerified=Date.now(),this.log("marking observed address %a as verified",r),this.addresses.set(r,s),a}}const Iz=[Ao,ji,Cu,Au,hl,_u];function Nx(t){try{for(const{code:e}of t.getComponents())if(e!==dl)return Iz.includes(e)}catch{}return!1}const Pz={maxObservedAddresses:10};class $z{log;addresses;maxObservedAddresses;constructor(e,n={}){this.log=e.logger.forComponent("libp2p:address-manager:observed-addresses"),this.addresses=Gi({name:"libp2p_address_manager_transport_addresses",metrics:e.metrics}),this.maxObservedAddresses=n.maxObservedAddresses??Pz.maxObservedAddresses}get(e,n){if(vh(e))return{multiaddr:e,verified:!0,type:"transport",expires:Date.now()+n,lastVerified:Date.now()};const r=this.toKey(e);let s=this.addresses.get(r);return s==null&&(s={verified:!Nx(e),expires:0},this.addresses.set(r,s)),{multiaddr:e,verified:s.verified,type:"transport",expires:s.expires,lastVerified:s.lastVerified}}has(e){const n=this.toKey(e);return this.addresses.has(n)}remove(e){const n=this.toKey(e),r=this.addresses.get(n)?.verified??!1;return this.log("removing observed address %a",e),this.addresses.delete(n),r}confirm(e,n){const r=this.toKey(e),s=this.addresses.get(r)??{verified:!1,expires:0,lastVerified:0},a=s.verified;return s.verified=!0,s.expires=Date.now()+n,s.lastVerified=Date.now(),this.addresses.set(r,s),a}unconfirm(e,n){const r=this.toKey(e),s=this.addresses.get(r)??{verified:!1,expires:0},a=s.verified;return s.verified=!1,s.expires=Date.now()+n,this.addresses.set(r,s),a}toKey(e){if(Nx(e)){const n=e.toOptions();return`${n.host}-${n.port}-${n.transport}`}return e.toString()}}const Bx=6e4,Ix={addressVerificationTTL:Bx*10,addressVerificationRetry:Bx*5},Uz=t=>t;function Oy(t,e){const n=t.getPeerId();return n!=null&&Ja(n).equals(e)&&(t=t.decapsulate(_t(`/p2p/${e.toString()}`))),t}class zz{log;components;listen;announce;appendAnnounce;announceFilter;observed;dnsMappings;ipMappings;transportAddresses;observedAddressFilter;addressVerificationTTL;addressVerificationRetry;constructor(e,n={}){const{listen:r=[],announce:s=[],appendAnnounce:a=[]}=n;this.components=e,this.log=e.logger.forComponent("libp2p:address-manager"),this.listen=r.map(c=>c.toString()),this.announce=new Set(s.map(c=>c.toString())),this.appendAnnounce=new Set(a.map(c=>c.toString())),this.observed=new Bz(e,n),this.dnsMappings=new Mz(e,n),this.ipMappings=new kz(e,n),this.transportAddresses=new $z(e,n),this.announceFilter=n.announceFilter??Uz,this.observedAddressFilter=RT(1024),this.addressVerificationTTL=n.addressVerificationTTL??Ix.addressVerificationTTL,this.addressVerificationRetry=n.addressVerificationRetry??Ix.addressVerificationRetry,this._updatePeerStoreAddresses=Nb(this._updatePeerStoreAddresses.bind(this),1e3),e.events.addEventListener("transport:listening",()=>{this._updatePeerStoreAddresses()}),e.events.addEventListener("transport:close",()=>{this._updatePeerStoreAddresses()})}[Symbol.toStringTag]="@libp2p/address-manager";_updatePeerStoreAddresses(){const e=this.getAddresses().map(n=>n.getPeerId()===this.components.peerId.toString()?n.decapsulate(`/p2p/${this.components.peerId.toString()}`):n);this.components.peerStore.patch(this.components.peerId,{multiaddrs:e}).catch(n=>{this.log.error("error updating addresses",n)})}getListenAddrs(){return Array.from(this.listen).map(e=>_t(e))}getAnnounceAddrs(){return Array.from(this.announce).map(e=>_t(e))}getAppendAnnounceAddrs(){return Array.from(this.appendAnnounce).map(e=>_t(e))}getObservedAddrs(){return this.observed.getAll().map(e=>e.multiaddr)}addObservedAddr(e){const n=e.stringTuples(),r=`${n[0][1]}:${n[1][1]}`;this.observedAddressFilter.has(r)||(this.observedAddressFilter.add(r),e=Oy(e,this.components.peerId),!this.ipMappings.has(e)&&(this.dnsMappings.has(e)||this.observed.add(e)))}confirmObservedAddr(e,n){e=Oy(e,this.components.peerId);let r=!0;(n?.type==="transport"||this.transportAddresses.has(e))&&!this.transportAddresses.confirm(e,n?.ttl??this.addressVerificationTTL)&&r&&(r=!1),(n?.type==="dns-mapping"||this.dnsMappings.has(e))&&!this.dnsMappings.confirm(e,n?.ttl??this.addressVerificationTTL)&&r&&(r=!1),(n?.type==="ip-mapping"||this.ipMappings.has(e))&&!this.ipMappings.confirm(e,n?.ttl??this.addressVerificationTTL)&&r&&(r=!1),(n?.type==="observed"||this.observed.has(e))&&(this.maybeUpgradeToIPMapping(e)?(this.ipMappings.confirm(e,n?.ttl??this.addressVerificationTTL),r=!1):!this.observed.confirm(e,n?.ttl??this.addressVerificationTTL)&&r&&(r=!1)),r||this._updatePeerStoreAddresses()}removeObservedAddr(e,n){e=Oy(e,this.components.peerId),this.observed.has(e)&&this.observed.remove(e),this.transportAddresses.has(e)&&this.transportAddresses.unconfirm(e,n?.ttl??this.addressVerificationRetry),this.dnsMappings.has(e)&&this.dnsMappings.unconfirm(e,n?.ttl??this.addressVerificationRetry),this.ipMappings.has(e)&&this.ipMappings.unconfirm(e,n?.ttl??this.addressVerificationRetry)}getAddresses(){const e=new Set,n=this.getAddressesWithMetadata().filter(r=>{if(!r.verified)return!1;const s=r.multiaddr.toString();return e.has(s)?!1:(e.add(s),!0)}).map(r=>r.multiaddr);return this.announceFilter(n.map(r=>{const s=_t(r);return s.getComponents().pop()?.value===this.components.peerId.toString()?s:s.encapsulate(`/p2p/${this.components.peerId.toString()}`)}))}getAddressesWithMetadata(){const e=this.getAnnounceAddrs();if(e.length>0)return this.components.transportManager.getListeners().forEach(s=>{s.updateAnnounceAddrs(e)}),e.map(s=>({multiaddr:s,verified:!0,type:"announce",expires:Date.now()+this.addressVerificationTTL,lastVerified:Date.now()}));let n=[];n=n.concat(this.components.transportManager.getAddrs().map(s=>this.transportAddresses.get(s,this.addressVerificationTTL)));const r=this.getAppendAnnounceAddrs();return r.length>0&&(this.components.transportManager.getListeners().forEach(s=>{s.updateAnnounceAddrs(r)}),n=n.concat(r.map(s=>({multiaddr:s,verified:!0,type:"announce",expires:Date.now()+this.addressVerificationTTL,lastVerified:Date.now()})))),n=n.concat(this.observed.getAll()),n=n.concat(this.ipMappings.getAll(n)),n=n.concat(this.dnsMappings.getAll(n)),n}addDNSMapping(e,n){this.dnsMappings.add(e,n)}removeDNSMapping(e){this.dnsMappings.remove(_t(`/dns/${e}`))&&this._updatePeerStoreAddresses()}addPublicAddressMapping(e,n,r,s=n,a="tcp"){this.ipMappings.add(e,n,r,s,a),this.observed.removePrefixed(`/ip${nl(r)?4:6}/${r}/${a}/${s}`)}removePublicAddressMapping(e,n,r,s=n,a="tcp"){this.ipMappings.remove(_t(`/ip${nl(r)?4:6}/${r}/${a}/${s}`))&&this._updatePeerStoreAddresses()}maybeUpgradeToIPMapping(e){if(this.ipMappings.has(e))return!1;const n=e.toOptions();if(n.family===6||n.host==="127.0.0.1"||dp(n.host)===!0)return!1;const r=this.components.transportManager.getListeners(),s=[a=>au.exactMatch(a)||yh.exactMatch(a),a=>Bb.exactMatch(a),a=>yz.exactMatch(a)];for(const a of s){if(!a(e))continue;const c=r.filter(p=>p.getAddrs().filter(g=>g.toOptions().family===4&&a(g)).length>0);if(c.length!==1)continue;const f=c[0].getAddrs().filter(p=>p.toOptions().host!=="127.0.0.1").pop();if(f==null)continue;const d=f.toOptions();return this.observed.remove(e),this.ipMappings.add(d.host,d.port,n.host,n.port,n.transport),!0}return!1}}var Px;(function(t){t.NOT_STARTED_YET="The libp2p node is not started yet",t.NOT_FOUND="Not found"})(Px||(Px={}));class Fz extends Error{constructor(e="Missing service"){super(e),this.name="MissingServiceError"}}class qz extends Error{constructor(e="Unmet service dependencies"){super(e),this.name="UnmetServiceDependenciesError"}}class My extends Error{constructor(e="No content routers available"){super(e),this.name="NoContentRoutersError"}}class $x extends Error{constructor(e="No peer routers available"){super(e),this.name="NoPeerRoutersError"}}class Hz extends Error{constructor(e="Should not try to find self"){super(e),this.name="QueriedForSelfError"}}class jz extends Error{constructor(e="Unhandled protocol error"){super(e),this.name="UnhandledProtocolError"}}class Vz extends Error{constructor(e="Duplicate protocol handler error"){super(e),this.name="DuplicateProtocolHandlerError"}}class Ux extends Error{constructor(e="Dial denied error"){super(e),this.name="DialDeniedError"}}class Kz extends Error{constructor(e="No transport was configured to listen on this address"){super(e),this.name="UnsupportedListenAddressError"}}class Gz extends Error{constructor(e="Configured listen addresses could not be listened on"){super(e),this.name="UnsupportedListenAddressesError"}}class Yz extends Error{constructor(e="No valid addresses"){super(e),this.name="NoValidAddressesError"}}class Xz extends Error{constructor(e="Connection intercepted"){super(e),this.name="ConnectionInterceptedError"}}class Wz extends Error{constructor(e="Connection denied"){super(e),this.name="ConnectionDeniedError"}}class vd extends Error{constructor(e="Stream is not multiplexed"){super(e),this.name="MuxerUnavailableError"}}class wd extends Error{constructor(e="Encryption failed"){super(e),this.name="EncryptionFailedError"}}class Qz extends Error{constructor(e="Transport unavailable"){super(e),this.name="TransportUnavailableError"}}class Zz extends Error{constructor(e="Max recursive depth reached"){super(e),this.name="RecursionLimitError"}}class Jz{components={};_started=!1;constructor(e={}){this.components={};for(const[n,r]of Object.entries(e))this.components[n]=r;this.components.logger==null&&(this.components.logger=CT())}isStarted(){return this._started}async _invokeStartableMethod(e){await Promise.all(Object.values(this.components).filter(n=>P0(n)).map(async n=>{await n[e]?.()}))}async beforeStart(){await this._invokeStartableMethod("beforeStart")}async start(){await this._invokeStartableMethod("start"),this._started=!0}async afterStart(){await this._invokeStartableMethod("afterStart")}async beforeStop(){await this._invokeStartableMethod("beforeStop")}async stop(){await this._invokeStartableMethod("stop"),this._started=!1}async afterStop(){await this._invokeStartableMethod("afterStop")}}const e7=["metrics","connectionProtector","dns"],t7=["components","isStarted","beforeStart","start","afterStart","beforeStop","stop","afterStop","then","_invokeStartableMethod"];function n7(t={}){const e=new Jz(t);return new Proxy(e,{get(r,s,a){if(typeof s=="string"&&!t7.includes(s)){const c=e.components[s];if(c==null&&!e7.includes(s))throw new Fz(`${s} not set`);return c}return Reflect.get(r,s,a)},set(r,s,a){return typeof s=="string"?e.components[s]=a:Reflect.set(r,s,a),!0}})}function r7(t){const e={};for(const n of Object.values(t.components))for(const r of i7(n))e[r]=!0;for(const n of Object.values(t.components))for(const r of s7(n))if(e[r]!==!0)throw new qz(`Service "${o7(n)}" required capability "${r}" but it was not provided by any component, you may need to add additional configuration when creating your node.`)}function i7(t){return Array.isArray(t?.[Jc])?t[Jc]:[]}function s7(t){return Array.isArray(t?.[O2])?t[O2]:[]}function o7(t){return t?.[Symbol.toStringTag]??t?.toString()??"unknown"}const a7=4,l7=41;function c7(t={}){return{denyDialPeer:async()=>!1,denyDialMultiaddr:async e=>{if(au.matches(e))return!1;const n=e.stringTuples();return n[0][0]===a7||n[0][0]===l7?!!dp(`${n[0][1]}`):!1},denyInboundConnection:async()=>!1,denyOutboundConnection:async()=>!1,denyInboundEncryptedConnection:async()=>!1,denyOutboundEncryptedConnection:async()=>!1,denyInboundUpgradedConnection:async()=>!1,denyOutboundUpgradedConnection:async()=>!1,filterMultiaddrForPeer:async()=>!0,...t}}const zx=()=>{const t=new Error("Delay aborted");return t.name="AbortError",t},u7=new WeakMap;function f7({clearTimeout:t,setTimeout:e}={}){return(n,{value:r,signal:s}={})=>{if(s?.aborted)return Promise.reject(zx());let a,c,f;const d=t??clearTimeout,p=()=>{d(a),f(zx())},g=()=>{s&&s.removeEventListener("abort",p)},y=new Promise((b,w)=>{c=()=>{g(),b(r)},f=w,a=(e??setTimeout)(c,n)});return s&&s.addEventListener("abort",p,{once:!0}),u7.set(y,()=>{d(a),a=null,c()}),y}}const d7=f7();class h7 extends Error{remainingPoints;msBeforeNext;consumedPoints;isFirstInDuration;constructor(e="Rate limit exceeded",n){super(e),this.name="RateLimitError",this.remainingPoints=n.remainingPoints,this.msBeforeNext=n.msBeforeNext,this.consumedPoints=n.consumedPoints,this.isFirstInDuration=n.isFirstInDuration}}class p7 extends Error{static name="QueueFullError";constructor(e="The queue was full"){super(e),this.name="QueueFullError"}}class g7{memoryStorage;points;duration;blockDuration;execEvenly;execEvenlyMinDelayMs;keyPrefix;constructor(e={}){this.points=e.points??4,this.duration=e.duration??1,this.blockDuration=e.blockDuration??0,this.execEvenly=e.execEvenly??!1,this.execEvenlyMinDelayMs=e.execEvenlyMinDelayMs??this.duration*1e3/this.points,this.keyPrefix=e.keyPrefix??"rlflx",this.memoryStorage=new m7}async consume(e,n=1,r={}){const s=this.getKey(e),a=this._getKeySecDuration(r);let c=this.memoryStorage.incrby(s,n,a);if(c.remainingPoints=Math.max(this.points-c.consumedPoints,0),c.consumedPoints>this.points)throw this.blockDuration>0&&c.consumedPoints<=this.points+n&&(c=this.memoryStorage.set(s,c.consumedPoints,this.blockDuration)),new h7("Rate limit exceeded",c);if(this.execEvenly&&c.msBeforeNext>0&&!c.isFirstInDuration){let f=Math.ceil(c.msBeforeNext/(c.remainingPoints+2));f<this.execEvenlyMinDelayMs&&(f=c.consumedPoints*this.execEvenlyMinDelayMs),await d7(f)}return c}penalty(e,n=1,r={}){const s=this.getKey(e),a=this._getKeySecDuration(r),c=this.memoryStorage.incrby(s,n,a);return c.remainingPoints=Math.max(this.points-c.consumedPoints,0),c}reward(e,n=1,r={}){const s=this.getKey(e),a=this._getKeySecDuration(r),c=this.memoryStorage.incrby(s,-n,a);return c.remainingPoints=Math.max(this.points-c.consumedPoints,0),c}block(e,n){const r=n*1e3,s=this.points+1;return this.memoryStorage.set(this.getKey(e),s,n),{remainingPoints:0,msBeforeNext:r===0?-1:r,consumedPoints:s,isFirstInDuration:!1}}set(e,n,r=0){const s=(r>=0?r:this.duration)*1e3;return this.memoryStorage.set(this.getKey(e),n,r),{remainingPoints:0,msBeforeNext:s===0?-1:s,consumedPoints:n,isFirstInDuration:!1}}get(e){const n=this.memoryStorage.get(this.getKey(e));return n!=null&&(n.remainingPoints=Math.max(this.points-n.consumedPoints,0)),n}delete(e){this.memoryStorage.delete(this.getKey(e))}_getKeySecDuration(e){return e?.customDuration!=null&&e.customDuration>=0?e.customDuration:this.duration}getKey(e){return this.keyPrefix.length>0?`${this.keyPrefix}:${e}`:e}parseKey(e){return e.substring(this.keyPrefix.length)}}class m7{storage;constructor(){this.storage=new Map}incrby(e,n,r){const s=this.storage.get(e);if(s!=null){const a=s.expiresAt!=null?s.expiresAt.getTime()-new Date().getTime():-1;return s.expiresAt==null||a>0?(s.value+=n,{remainingPoints:0,msBeforeNext:a,consumedPoints:s.value,isFirstInDuration:!1}):this.set(e,n,r)}return this.set(e,n,r)}set(e,n,r){const s=r*1e3,a=this.storage.get(e);a!=null&&clearTimeout(a.timeoutId);const c={value:n,expiresAt:s>0?new Date(Date.now()+s):void 0};return this.storage.set(e,c),s>0&&(c.timeoutId=setTimeout(()=>{this.storage.delete(e)},s),c.timeoutId.unref!=null&&c.timeoutId.unref()),{remainingPoints:0,msBeforeNext:s===0?-1:s,consumedPoints:c.value,isFirstInDuration:!0}}get(e){const n=this.storage.get(e);if(n!=null)return{remainingPoints:0,msBeforeNext:n.expiresAt!=null?n.expiresAt.getTime()-new Date().getTime():-1,consumedPoints:n.value,isFirstInDuration:!1}}delete(e){const n=this.storage.get(e);return n!=null?(n.timeoutId!=null&&clearTimeout(n.timeoutId),this.storage.delete(e),!0):!1}}function n3(t){if(Fc(t))return{peerId:t,multiaddrs:[]};let e=Array.isArray(t)?t:[t],n;if(e.length>0){const r=e[0].getPeerId();n=r==null?void 0:Ja(r),e.forEach(s=>{if(!Tu(s))throw new B0("Invalid multiaddr");const a=s.getPeerId();if(a==null){if(n!=null)throw new bt("Multiaddrs must all have the same peer id or have no peer id")}else{const c=Ja(a);if(n?.equals(c)!==!0)throw new bt("Multiaddrs must all have the same peer id or have no peer id")}})}return e=e.filter(r=>!gz.exactMatch(r)),{peerId:n,multiaddrs:e}}const y7=["/ipfs/id/1.0.0","/ipfs/id/push/1.0.0","/libp2p/autonat/1.0.0","/libp2p/dcutr"];async function b7(t,e){const n=t?.streams?.map(s=>s.protocol)??[],r=e?.closableProtocols??y7;if(!(n.filter(s=>s!=null&&!r.includes(s)).length>0))try{await t?.close(e)}catch(s){t?.abort(s)}}function $b(t){try{let e;typeof t=="string"?e=_t(t):e=t;const n=new Set([...e.getComponents().map(r=>r.name)]);if(!n.has("ipcidr")){const s=n.has("ip6")?"/ipcidr/128":"/ipcidr/32";e=e.encapsulate(s)}return kU(e)}catch{throw new Error(`Can't convert to IpNet, Invalid multiaddr format: ${t}`)}}class v7{connectionManager;peerStore;allow;events;log;constructor(e,n={}){this.allow=(n.allow??[]).map(r=>$b(r)),this.connectionManager=e.connectionManager,this.peerStore=e.peerStore,this.events=e.events,this.log=e.logger.forComponent("libp2p:connection-manager:connection-pruner"),this.maybePruneConnections=this.maybePruneConnections.bind(this)}start(){this.events.addEventListener("connection:open",this.maybePruneConnections)}stop(){this.events.removeEventListener("connection:open",this.maybePruneConnections)}maybePruneConnections(){this._maybePruneConnections().catch(e=>{this.log.error("error while pruning connections %e",e)})}async _maybePruneConnections(){const e=this.connectionManager.getConnections(),n=e.length,r=this.connectionManager.getMaxConnections();if(this.log("checking max connections limit %d/%d",n,r),n<=r)return;const s=new Ru;for(const d of e){const p=d.remotePeer;if(!s.has(p)){s.set(p,0);try{const g=await this.peerStore.get(p);s.set(p,[...g.tags.values()].reduce((y,b)=>y+b.value,0))}catch(g){g.name!=="NotFoundError"&&this.log.error("error loading peer tags",g)}}}const a=this.sortConnections(e,s),c=Math.max(n-r,0),f=[];for(const d of a)if(this.log("too many connections open - closing a connection to %p",d.remotePeer),this.allow.some(g=>g.contains(d.remoteAddr.nodeAddress().address))||f.push(d),f.length===c)break;await Promise.all(f.map(async d=>{await b7(d,{signal:AbortSignal.timeout(1e3)})})),this.events.safeDispatchEvent("connection:prune",{detail:f})}sortConnections(e,n){return e.sort((r,s)=>{const a=r.timeline.open,c=s.timeline.open;return a<c?1:a>c?-1:0}).sort((r,s)=>r.direction==="outbound"&&s.direction==="inbound"?1:r.direction==="inbound"&&s.direction==="outbound"?-1:0).sort((r,s)=>r.streams.length>s.streams.length?1:r.streams.length<s.streams.length?-1:0).sort((r,s)=>{const a=n.get(r.remotePeer)??0,c=n.get(s.remotePeer)??0;return a>c?1:a<c?-1:0})}}const r3=1e4,w7=1e4,Fx=1e4,i3=25,S7=5,E7=10,x7=5,C7="last-dial-failure",A7="last-dial-success",s3=500,_7=32,T7=100,o3=50;class R7{deferred;signal;constructor(e){this.signal=e,this.deferred=Gt(),this.onAbort=this.onAbort.bind(this),this.signal?.addEventListener("abort",this.onAbort)}onAbort(){this.deferred.reject(this.signal?.reason??new Ya)}cleanup(){this.signal?.removeEventListener("abort",this.onAbort)}}function O7(){return`${parseInt(String(Math.random()*1e9),10).toString()}${Date.now()}`}class M7{id;fn;options;recipients;status;timeline;controller;constructor(e,n){this.id=O7(),this.status="queued",this.fn=e,this.options=n,this.recipients=[],this.timeline={created:Date.now()},this.controller=new AbortController,this.controller.signal,this.onAbort=this.onAbort.bind(this)}abort(e){this.controller.abort(e)}onAbort(){this.recipients.reduce((n,r)=>n&&r.signal?.aborted===!0,!0)&&(this.controller.abort(new Ya),this.cleanup())}async join(e={}){const n=new R7(e.signal);return this.recipients.push(n),e.signal?.addEventListener("abort",this.onAbort),n.deferred.promise}async run(){this.status="running",this.timeline.started=Date.now();try{this.controller.signal.throwIfAborted();const e=await Kr(this.fn({...this.options??{},signal:this.controller.signal}),this.controller.signal);this.recipients.forEach(n=>{n.deferred.resolve(e)}),this.status="complete"}catch(e){this.recipients.forEach(n=>{n.deferred.reject(e)}),this.status="errored"}finally{this.timeline.finished=Date.now(),this.cleanup()}}cleanup(){this.recipients.forEach(e=>{e.cleanup(),e.signal?.removeEventListener("abort",this.onAbort)})}}class a3 extends Xa{concurrency;maxSize;queue;pending;sort;constructor(e={}){super(),this.concurrency=e.concurrency??Number.POSITIVE_INFINITY,this.maxSize=e.maxSize??Number.POSITIVE_INFINITY,this.pending=0,e.metricName!=null&&e.metrics?.registerMetricGroup(e.metricName,{calculate:()=>({size:this.queue.length,running:this.pending,queued:this.queue.length-this.pending})}),this.sort=e.sort,this.queue=[],this.emitEmpty=Nb(this.emitEmpty.bind(this),1),this.emitIdle=Nb(this.emitIdle.bind(this),1)}emitEmpty(){this.size===0&&this.safeDispatchEvent("empty")}emitIdle(){this.running===0&&this.safeDispatchEvent("idle")}tryToStartAnother(){if(this.size===0)return this.emitEmpty(),this.running===0&&this.emitIdle(),!1;if(this.pending<this.concurrency){let e;for(const n of this.queue)if(n.status==="queued"){e=n;break}return e==null?!1:(this.safeDispatchEvent("active"),this.pending++,e.run().finally(()=>{for(let n=0;n<this.queue.length;n++)if(this.queue[n]===e){this.queue.splice(n,1);break}this.pending--,this.tryToStartAnother(),this.safeDispatchEvent("next")}),!0)}return!1}enqueue(e){this.queue.push(e),this.sort!=null&&this.queue.sort(this.sort)}async add(e,n){if(n?.signal?.throwIfAborted(),this.size===this.maxSize)throw new p7;const r=new M7(e,n);return this.enqueue(r),this.safeDispatchEvent("add"),this.tryToStartAnother(),r.join(n).then(s=>(this.safeDispatchEvent("completed",{detail:s}),this.safeDispatchEvent("success",{detail:{job:r,result:s}}),s)).catch(s=>{if(r.status==="queued"){for(let a=0;a<this.queue.length;a++)if(this.queue[a]===r){this.queue.splice(a,1);break}}throw this.safeDispatchEvent("error",{detail:s}),this.safeDispatchEvent("failure",{detail:{job:r,error:s}}),s})}clear(){this.queue.splice(0,this.queue.length)}abort(){this.queue.forEach(e=>{e.abort(new Ya)}),this.clear()}async onEmpty(e){this.size!==0&&await vo(this,"empty",e?.signal)}async onSizeLessThan(e,n){this.size<e||await vo(this,"next",n?.signal,{filter:()=>this.size<e})}async onIdle(e){this.pending===0&&this.size===0||await vo(this,"idle",e?.signal)}get size(){return this.queue.length}get queued(){return this.queue.length-this.pending}get running(){return this.pending}async*toGenerator(e){e?.signal?.throwIfAborted();const n=fp({objectMode:!0}),r=d=>{d!=null?this.abort():this.clear(),n.end(d)},s=d=>{d.detail!=null&&n.push(d.detail)},a=d=>{r(d.detail)},c=()=>{r()},f=()=>{r(new Ya("Queue aborted"))};this.addEventListener("completed",s),this.addEventListener("error",a),this.addEventListener("idle",c),e?.signal?.addEventListener("abort",f);try{yield*n}finally{this.removeEventListener("completed",s),this.removeEventListener("error",a),this.removeEventListener("idle",c),e?.signal?.removeEventListener("abort",f),r()}}}class D7 extends a3{constructor(e={}){super({...e,sort:(n,r)=>n.options.priority>r.options.priority?-1:n.options.priority<r.options.priority?1:0})}}function lu(t){const e=new globalThis.AbortController;function n(){e.abort();for(const a of t)a?.removeEventListener!=null&&a.removeEventListener("abort",n)}for(const a of t){if(a?.aborted===!0){n();break}a?.addEventListener!=null&&a.addEventListener("abort",n)}function r(){for(const a of t)a?.removeEventListener!=null&&a.removeEventListener("abort",n)}const s=e.signal;return s.clear=r,s}function k7(t){return/^127\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(t)||/^::1$/.test(t)}function qx(t){if(!t3(t))return!1;const{address:e}=t.nodeAddress();return k7(e)}function L7(t,e){const n=Bb.exactMatch(t.multiaddr),r=Bb.exactMatch(e.multiaddr);if(n&&!r)return-1;if(!n&&r)return 1;const s=yh.exactMatch(t.multiaddr),a=yh.exactMatch(e.multiaddr);if(s&&!a)return-1;if(!s&&a)return 1;const c=au.exactMatch(t.multiaddr),f=au.exactMatch(e.multiaddr);if(c&&!f)return-1;if(!c&&f)return 1;const d=kx.exactMatch(t.multiaddr),p=kx.exactMatch(e.multiaddr);if(d&&!p)return-1;if(!d&&p)return 1;const g=Mx.exactMatch(t.multiaddr),y=Mx.exactMatch(e.multiaddr);if(g&&!y)return-1;if(!g&&y)return 1;const b=Dx.exactMatch(t.multiaddr),w=Dx.exactMatch(e.multiaddr);return b&&!w?-1:!b&&w?1:0}function N7(t,e){const n=qx(t.multiaddr),r=qx(e.multiaddr);return n&&!r?1:!n&&r?-1:0}function B7(t,e){const n=vh(t.multiaddr),r=vh(e.multiaddr);return n&&!r?1:!n&&r?-1:0}function I7(t,e){return t.isCertified&&!e.isCertified?-1:!t.isCertified&&e.isCertified?1:0}function P7(t,e){const n=Pb.exactMatch(t.multiaddr),r=Pb.exactMatch(e.multiaddr);return n&&!r?1:!n&&r?-1:0}function $7(t){return t.sort(L7).sort(I7).sort(P7).sort(B7).sort(N7)}async function l3(t,e,n){const r=n.depth??0;if(r>(n.maxRecursiveDepth??_7))throw new Zz("Max recursive depth reached");let s=!1;const a=[];for(const c of Object.values(e))if(c.canResolve(t)){s=!0;const f=await c.resolve(t,n);for(const d of f)a.push(...await l3(d,e,{...n,depth:r+1}))}return s===!1&&a.push(t),a}const Ac={maxParallelDials:o3,maxDialQueueLength:s3,maxPeerAddrsToDial:i3,dialTimeout:r3,resolvers:{dnsaddr:sv}};class U7{queue;components;addressSorter;maxPeerAddrsToDial;maxDialQueueLength;dialTimeout;shutDownController;connections;log;resolvers;constructor(e,n={}){this.addressSorter=n.addressSorter,this.maxPeerAddrsToDial=n.maxPeerAddrsToDial??Ac.maxPeerAddrsToDial,this.maxDialQueueLength=n.maxDialQueueLength??Ac.maxDialQueueLength,this.dialTimeout=n.dialTimeout??Ac.dialTimeout,this.connections=n.connections??new Ru,this.log=e.logger.forComponent("libp2p:connection-manager:dial-queue"),this.components=e,this.resolvers=n.resolvers??Ac.resolvers,this.shutDownController=new AbortController,this.shutDownController.signal,this.queue=new D7({concurrency:n.maxParallelDials??Ac.maxParallelDials,metricName:"libp2p_dial_queue",metrics:e.metrics}),this.queue.addEventListener("error",r=>{r.detail?.name!==Ya.name&&this.log.error("error in dial queue - %e",r.detail)})}start(){this.shutDownController=new AbortController,this.shutDownController.signal}stop(){this.shutDownController.abort(),this.queue.abort()}async dial(e,n={}){const{peerId:r,multiaddrs:s}=n3(e),a=Array.from(this.connections.values()).flat().find(f=>n.force===!0||f.limits!=null?!1:f.remotePeer.equals(r)?!0:s.find(d=>d.equals(f.remoteAddr)));if(a?.status==="open")return this.log("already connected to %a",a.remoteAddr),n.onProgress?.(new Yn("dial-queue:already-connected")),a;const c=this.queue.queue.find(f=>{if(r?.equals(f.options.peerId)===!0)return!0;const d=f.options.multiaddrs;if(d==null)return!1;for(const p of s)if(d.has(p.toString()))return!0;return!1});if(c!=null){this.log("joining existing dial target for %p",r);for(const f of s)c.options.multiaddrs.add(f.toString());return n.onProgress?.(new Yn("dial-queue:already-in-dial-queue")),c.join(n)}if(this.queue.size>=this.maxDialQueueLength)throw new ey("Dial queue is full");return this.log("creating dial target for %p",r,s.map(f=>f.toString())),n.onProgress?.(new Yn("dial-queue:add-to-dial-queue")),this.queue.add(async f=>{f.onProgress?.(new Yn("dial-queue:start-dial"));const d=lu([this.shutDownController.signal,f.signal]);try{return await this.dialPeer(f,d)}finally{d.clear()}},{peerId:r,priority:n.priority??c3,multiaddrs:new Set(s.map(f=>f.toString())),signal:n.signal??AbortSignal.timeout(this.dialTimeout),onProgress:n.onProgress})}async dialPeer(e,n){const r=e.peerId,s=e.multiaddrs,a=new Set;let c=e.multiaddrs.size===0,f=0,d=0;const p=[];for(this.log("starting dial to %p",r);c||s.size>0;){d++,c=!1;const g=[],y=new Set(e.multiaddrs);s.clear(),this.log("calculating addrs to dial %p from %s",r,[...y]);const b=await this.calculateMultiaddrs(r,y,{...e,signal:n});for(const w of b){if(a.has(w.multiaddr.toString())){this.log.trace("skipping previously failed multiaddr %a while dialing %p",w.multiaddr,r);continue}g.push(w)}this.log("%s dial to %p with %s",d===1?"starting":"continuing",r,g.map(w=>w.multiaddr.toString())),e?.onProgress?.(new Yn("dial-queue:calculated-addresses",g));for(const w of g){if(f===this.maxPeerAddrsToDial)throw this.log("dialed maxPeerAddrsToDial (%d) addresses for %p, not trying any others",f,e.peerId),new ey("Peer had more than maxPeerAddrsToDial");f++;try{const v=await this.components.transportManager.dial(w.multiaddr,{...e,signal:n});this.log("dial to %a succeeded",w.multiaddr);try{await this.components.peerStore.merge(v.remotePeer,{multiaddrs:[v.remoteAddr],metadata:{[A7]:Pe(Date.now().toString())}})}catch(S){this.log.error("could not update last dial failure key for %p",r,S)}return v}catch(v){if(this.log.error("dial failed to %a",w.multiaddr,v),a.add(w.multiaddr.toString()),r!=null)try{await this.components.peerStore.merge(r,{metadata:{[C7]:Pe(Date.now().toString())}})}catch(S){this.log.error("could not update last dial failure key for %p",r,S)}if(n.aborted)throw new cN(v.message);p.push(v)}}}throw p.length===1?p[0]:new AggregateError(p,"All multiaddr dials failed")}async calculateMultiaddrs(e,n=new Set,r={}){const s=[...n].map(y=>({multiaddr:_t(y),isCertified:!1}));if(e!=null){if(this.components.peerId.equals(e))throw new ey("Tried to dial self");if(await this.components.connectionGater.denyDialPeer?.(e)===!0)throw new Ux("The dial request is blocked by gater.allowDialPeer");if(s.length===0){this.log("loading multiaddrs for %p",e);try{const y=await this.components.peerStore.get(e);s.push(...y.addresses),this.log("loaded multiaddrs for %p",e,s.map(({multiaddr:b})=>b.toString()))}catch(y){if(y.name!=="NotFoundError")throw y}}if(s.length===0){this.log("looking up multiaddrs for %p in the peer routing",e);try{const y=await this.components.peerRouting.findPeer(e,r);this.log("found multiaddrs for %p in the peer routing",e,s.map(({multiaddr:b})=>b.toString())),s.push(...y.multiaddrs.map(b=>({multiaddr:b,isCertified:!1})))}catch(y){y.name==="NoPeerRoutersError"?this.log("no peer routers configured",e):this.log.error("looking up multiaddrs for %p in the peer routing failed - %e",e,y)}}}let a=(await Promise.all(s.map(async y=>{const b=await l3(y.multiaddr,this.resolvers,{dns:this.components.dns,log:this.log,...r});return b.length===1&&b[0].equals(y.multiaddr)?y:b.map(w=>({multiaddr:w,isCertified:!1}))}))).flat();if(e!=null){const y=`/p2p/${e.toString()}`;a=a.map(b=>b.multiaddr.getComponents().pop()?.name!=="p2p"?{multiaddr:b.multiaddr.encapsulate(y),isCertified:b.isCertified}:b)}const c=a.filter(y=>{if(this.components.transportManager.dialTransportForMultiaddr(y.multiaddr)==null)return!1;const b=y.multiaddr.getPeerId();return e!=null&&b!=null?e.equals(b):!0}),f=new Map;for(const y of c){const b=y.multiaddr.toString(),w=f.get(b);if(w!=null){w.isCertified=w.isCertified||y.isCertified||!1;continue}f.set(b,y)}const d=[...f.values()];if(d.length===0)throw new Yz("The dial request has no valid addresses");const p=[];for(const y of d)this.components.connectionGater.denyDialMultiaddr!=null&&await this.components.connectionGater.denyDialMultiaddr(y.multiaddr)||p.push(y);const g=this.addressSorter==null?$7(p):p.sort(this.addressSorter);if(g.length===0)throw new Ux("The connection gater denied all addresses in the dial request");return this.log.trace("addresses for %p before filtering",e??"unknown peer",a.map(({multiaddr:y})=>y.toString())),this.log.trace("addresses for %p after filtering",e??"unknown peer",g.map(({multiaddr:y})=>y.toString())),g}async isDialable(e,n={}){Array.isArray(e)||(e=[e]);try{const r=await this.calculateMultiaddrs(void 0,new Set(e.map(s=>s.toString())),n);return n.runOnLimitedConnection===!1?r.find(s=>!Pb.matches(s.multiaddr))!=null:!0}catch(r){this.log.trace("error calculating if multiaddr(s) were dialable",r)}return!1}}class z7 extends a3{has(e){return this.find(e)!=null}find(e){return this.queue.find(n=>e.equals(n.options.peerId))}}var Dy={},ky,Hx;function F7(){if(Hx)return ky;Hx=1;function t(e,n){typeof n=="boolean"&&(n={forever:n}),this._originalTimeouts=JSON.parse(JSON.stringify(e)),this._timeouts=e,this._options=n||{},this._maxRetryTime=n&&n.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}return ky=t,t.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)},t.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null},t.prototype.retry=function(e){if(this._timeout&&clearTimeout(this._timeout),!e)return!1;var n=new Date().getTime();if(e&&n-this._operationStart>=this._maxRetryTime)return this._errors.push(e),this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(e);var r=this._timeouts.shift();if(r===void 0)if(this._cachedTimeouts)this._errors.splice(0,this._errors.length-1),r=this._cachedTimeouts.slice(-1);else return!1;var s=this;return this._timer=setTimeout(function(){s._attempts++,s._operationTimeoutCb&&(s._timeout=setTimeout(function(){s._operationTimeoutCb(s._attempts)},s._operationTimeout),s._options.unref&&s._timeout.unref()),s._fn(s._attempts)},r),this._options.unref&&this._timer.unref(),!0},t.prototype.attempt=function(e,n){this._fn=e,n&&(n.timeout&&(this._operationTimeout=n.timeout),n.cb&&(this._operationTimeoutCb=n.cb));var r=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){r._operationTimeoutCb()},r._operationTimeout)),this._operationStart=new Date().getTime(),this._fn(this._attempts)},t.prototype.try=function(e){console.log("Using RetryOperation.try() is deprecated"),this.attempt(e)},t.prototype.start=function(e){console.log("Using RetryOperation.start() is deprecated"),this.attempt(e)},t.prototype.start=t.prototype.try,t.prototype.errors=function(){return this._errors},t.prototype.attempts=function(){return this._attempts},t.prototype.mainError=function(){if(this._errors.length===0)return null;for(var e={},n=null,r=0,s=0;s<this._errors.length;s++){var a=this._errors[s],c=a.message,f=(e[c]||0)+1;e[c]=f,f>=r&&(n=a,r=f)}return n},ky}var jx;function q7(){return jx||(jx=1,function(t){var e=F7();t.operation=function(n){var r=t.timeouts(n);return new e(r,{forever:n&&(n.forever||n.retries===1/0),unref:n&&n.unref,maxRetryTime:n&&n.maxRetryTime})},t.timeouts=function(n){if(n instanceof Array)return[].concat(n);var r={retries:10,factor:2,minTimeout:1*1e3,maxTimeout:1/0,randomize:!1};for(var s in n)r[s]=n[s];if(r.minTimeout>r.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var a=[],c=0;c<r.retries;c++)a.push(this.createTimeout(c,r));return n&&n.forever&&!a.length&&a.push(this.createTimeout(c,r)),a.sort(function(f,d){return f-d}),a},t.createTimeout=function(n,r){var s=r.randomize?Math.random()+1:1,a=Math.round(s*Math.max(r.minTimeout,1)*Math.pow(r.factor,n));return a=Math.min(a,r.maxTimeout),a},t.wrap=function(n,r,s){if(r instanceof Array&&(s=r,r=null),!s){s=[];for(var a in n)typeof n[a]=="function"&&s.push(a)}for(var c=0;c<s.length;c++){var f=s[c],d=n[f];n[f]=(function(g){var y=t.operation(r),b=Array.prototype.slice.call(arguments,1),w=b.pop();b.push(function(v){y.retry(v)||(v&&(arguments[0]=y.mainError()),w.apply(this,arguments))}),y.attempt(function(){g.apply(n,b)})}).bind(n,d),n[f].options=r}}}(Dy)),Dy}var Ly,Vx;function H7(){return Vx||(Vx=1,Ly=q7()),Ly}var j7=H7();const V7=gi(j7),K7=Object.prototype.toString,G7=t=>K7.call(t)==="[object Error]",Y7=new Set(["network error","Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Load failed","Network request failed","fetch failed","terminated"]);function X7(t){return t&&G7(t)&&t.name==="TypeError"&&typeof t.message=="string"?t.message==="Load failed"?t.stack===void 0:Y7.has(t.message):!1}let W7=class extends Error{constructor(e){super(),e instanceof Error?(this.originalError=e,{message:e}=e):(this.originalError=new Error(e),this.originalError.stack=this.stack),this.name="AbortError",this.message=e}};const Kx=(t,e,n)=>{const r=n.retries-(e-1);return t.attemptNumber=e,t.retriesLeft=r,t};async function Q7(t,e){return new Promise((n,r)=>{e={...e},e.onFailedAttempt??=()=>{},e.shouldRetry??=()=>!0,e.retries??=10;const s=V7.operation(e),a=()=>{s.stop(),r(e.signal?.reason)};e.signal&&!e.signal.aborted&&e.signal.addEventListener("abort",a,{once:!0});const c=()=>{e.signal?.removeEventListener("abort",a),s.stop()};s.attempt(async f=>{try{const d=await t(f);c(),n(d)}catch(d){try{if(!(d instanceof Error))throw new TypeError(`Non-error was thrown: "${d}". You should only throw errors.`);if(d instanceof W7)throw d.originalError;if(d instanceof TypeError&&!X7(d))throw d;if(Kx(d,f,e),await e.shouldRetry(d)||(s.stop(),r(d)),await e.onFailedAttempt(d),!s.retry(d))throw s.mainError()}catch(p){Kx(p,f,e),c(),r(p)}}})})}class Z7{log;queue;started;peerStore;retries;retryInterval;backoffFactor;connectionManager;events;constructor(e,n={}){this.log=e.logger.forComponent("libp2p:reconnect-queue"),this.peerStore=e.peerStore,this.connectionManager=e.connectionManager,this.queue=new z7({concurrency:n.maxParallelReconnects??x7,metricName:"libp2p_reconnect_queue",metrics:e.metrics}),this.started=!1,this.retries=n.retries??5,this.backoffFactor=n.backoffFactor,this.retryInterval=n.retryInterval,this.events=e.events,e.events.addEventListener("peer:disconnect",r=>{this.maybeReconnect(r.detail).catch(s=>{this.log.error("failed to maybe reconnect to %p - %e",r.detail,s)})})}async maybeReconnect(e){if(!this.started)return;const n=await this.peerStore.get(e);Gx(n)&&(this.queue.has(e)||this.queue.add(async r=>{await Q7(async s=>{if(this.started)try{await this.connectionManager.openConnection(e,{signal:r?.signal})}catch(a){throw this.log("reconnecting to %p attempt %d of %d failed - %e",e,s,this.retries,a),a}},{signal:r?.signal,retries:this.retries,factor:this.backoffFactor,minTimeout:this.retryInterval})},{peerId:e}).catch(async r=>{this.log.error("failed to reconnect to %p - %e",e,r);const s={};[...n.tags.keys()].forEach(a=>{a.startsWith(qA)&&(s[a]=void 0)}),await this.peerStore.merge(e,{tags:s}),this.events.safeDispatchEvent("peer:reconnect-failure",{detail:e})}).catch(async r=>{this.log.error("failed to remove keep-alive tag from %p - %e",e,r)}))}start(){this.started=!0}async afterStart(){Promise.resolve().then(async()=>{const e=await this.peerStore.all({filters:[n=>Gx(n)]});await Promise.all(e.map(async n=>{await this.connectionManager.openConnection(n.id).catch(r=>{this.log.error(r)})}))}).catch(e=>{this.log.error(e)})}stop(){this.started=!1,this.queue.abort()}}function Gx(t){for(const e of t.tags.keys())if(e.startsWith(qA))return!0;return!1}const c3=50,Ny={maxConnections:T7,inboundConnectionThreshold:S7,maxIncomingPendingConnections:E7};class J7{started;connections;allow;deny;maxIncomingPendingConnections;incomingPendingConnections;outboundPendingConnections;maxConnections;dialQueue;reconnectQueue;connectionPruner;inboundConnectionRateLimiter;peerStore;metrics;events;log;peerId;constructor(e,n={}){if(this.maxConnections=n.maxConnections??Ny.maxConnections,this.maxConnections<1)throw new bt("Connection Manager maxConnections must be greater than 0");this.connections=new Ru,this.started=!1,this.peerId=e.peerId,this.peerStore=e.peerStore,this.metrics=e.metrics,this.events=e.events,this.log=e.logger.forComponent("libp2p:connection-manager"),this.onConnect=this.onConnect.bind(this),this.onDisconnect=this.onDisconnect.bind(this),this.allow=(n.allow??[]).map(r=>$b(r)),this.deny=(n.deny??[]).map(r=>$b(r)),this.incomingPendingConnections=0,this.maxIncomingPendingConnections=n.maxIncomingPendingConnections??Ny.maxIncomingPendingConnections,this.outboundPendingConnections=0,this.inboundConnectionRateLimiter=new g7({points:n.inboundConnectionThreshold??Ny.inboundConnectionThreshold,duration:1}),this.connectionPruner=new v7({connectionManager:this,peerStore:e.peerStore,events:e.events,logger:e.logger},{allow:n.allow?.map(r=>_t(r))}),this.dialQueue=new U7(e,{addressSorter:n.addressSorter,maxParallelDials:n.maxParallelDials??o3,maxDialQueueLength:n.maxDialQueueLength??s3,maxPeerAddrsToDial:n.maxPeerAddrsToDial??i3,dialTimeout:n.dialTimeout??r3,resolvers:n.resolvers??{dnsaddr:sv},connections:this.connections}),this.reconnectQueue=new Z7({events:e.events,peerStore:e.peerStore,logger:e.logger,connectionManager:this},{retries:n.reconnectRetries,retryInterval:n.reconnectRetryInterval,backoffFactor:n.reconnectBackoffFactor,maxParallelReconnects:n.maxParallelReconnects})}[Symbol.toStringTag]="@libp2p/connection-manager";async start(){this.metrics?.registerMetricGroup("libp2p_connection_manager_connections",{calculate:()=>{const e={inbound:0,"inbound pending":this.incomingPendingConnections,outbound:0,"outbound pending":this.outboundPendingConnections};for(const n of this.connections.values())for(const r of n)e[r.direction]++;return e}}),this.metrics?.registerMetricGroup("libp2p_protocol_streams_total",{label:"protocol",calculate:()=>{const e={};for(const n of this.connections.values())for(const r of n)for(const s of r.streams){const a=`${s.direction} ${s.protocol??"unnegotiated"}`;e[a]=(e[a]??0)+1}return e}}),this.metrics?.registerMetricGroup("libp2p_connection_manager_protocol_streams_per_connection_90th_percentile",{label:"protocol",calculate:()=>{const e={};for(const r of this.connections.values())for(const s of r){const a={};for(const c of s.streams){const f=`${c.direction} ${c.protocol??"unnegotiated"}`;a[f]=(a[f]??0)+1}for(const[c,f]of Object.entries(a))e[c]=e[c]??[],e[c].push(f)}const n={};for(let[r,s]of Object.entries(e)){s=s.sort((c,f)=>c-f);const a=Math.floor(s.length*.9);n[r]=s[a]}return n}}),this.events.addEventListener("connection:open",this.onConnect),this.events.addEventListener("connection:close",this.onDisconnect),await dN(this.dialQueue,this.reconnectQueue,this.connectionPruner),this.started=!0,this.log("started")}async stop(){this.events.removeEventListener("connection:open",this.onConnect),this.events.removeEventListener("connection:close",this.onDisconnect),await hN(this.reconnectQueue,this.dialQueue,this.connectionPruner);const e=[];for(const n of this.connections.values())for(const r of n)e.push((async()=>{try{await r.close()}catch(s){this.log.error(s)}})());this.log("closing %d connections",e.length),await Promise.all(e),this.connections.clear(),this.log("stopped")}getMaxConnections(){return this.maxConnections}setMaxConnections(e){if(this.maxConnections<1)throw new bt("Connection Manager maxConnections must be greater than 0");let n=!1;e<this.maxConnections&&(n=!0),this.maxConnections=e,n&&this.connectionPruner.maybePruneConnections()}onConnect(e){this._onConnect(e).catch(n=>{this.log.error(n)})}async _onConnect(e){const{detail:n}=e;if(!this.started){await n.close();return}if(n.status!=="open")return;const r=n.remotePeer,s=!this.connections.has(r),a=this.connections.get(r)??[];a.push(n),this.connections.set(r,a),r.publicKey!=null&&r.type==="RSA"&&await this.peerStore.patch(r,{publicKey:r.publicKey}),s&&this.events.safeDispatchEvent("peer:connect",{detail:n.remotePeer})}onDisconnect(e){const{detail:n}=e,r=n.remotePeer,a=(this.connections.get(r)??[]).filter(c=>c.id!==n.id);this.connections.set(r,a),a.length===0&&(this.log("onDisconnect remove all connections for peer %p",r),this.connections.delete(r),this.events.safeDispatchEvent("peer:disconnect",{detail:n.remotePeer}))}getConnections(e){if(e!=null)return this.connections.get(e)??[];let n=[];for(const r of this.connections.values())n=n.concat(r);return n}getConnectionsMap(){return this.connections}async openConnection(e,n={}){if(!this.started)throw new Yd("Not started");this.outboundPendingConnections++;try{n.signal?.throwIfAborted();const{peerId:r}=n3(e);if(this.peerId.equals(r))throw new VA("Can not dial self");if(r!=null&&n.force!==!0){this.log("dial %p",r);const f=this.getConnections(r).find(d=>d.limits==null);if(f!=null)return this.log("had an existing non-limited connection to %p",r),n.onProgress?.(new Yn("dial-queue:already-connected")),f}const s=await this.dialQueue.dial(e,{...n,priority:n.priority??c3});if(s.status!=="open")throw new jA("Remote closed connection during opening");let a=this.connections.get(s.remotePeer);a==null&&(a=[],this.connections.set(s.remotePeer,a));let c=!1;for(const f of a)if(f.id===s.id&&(c=!0),n.force!==!0&&f.id!==s.id&&f.remoteAddr.equals(s.remoteAddr))return s.abort(new B0("Duplicate multiaddr connection")),f;return c||a.push(s),s}finally{this.outboundPendingConnections--}}async closeConnections(e,n={}){const r=this.connections.get(e)??[];await Promise.all(r.map(async s=>{try{await s.close(n)}catch(a){s.abort(a)}}))}async acceptIncomingConnection(e){if(this.deny.some(s=>s.contains(e.remoteAddr.nodeAddress().address)))return this.log("connection from %a refused - connection remote address was in deny list",e.remoteAddr),!1;if(this.allow.some(s=>s.contains(e.remoteAddr.nodeAddress().address)))return this.incomingPendingConnections++,!0;if(this.incomingPendingConnections===this.maxIncomingPendingConnections)return this.log("connection from %a refused - incomingPendingConnections exceeded by host",e.remoteAddr),!1;if(e.remoteAddr.isThinWaistAddress()){const s=e.remoteAddr.nodeAddress().address;try{await this.inboundConnectionRateLimiter.consume(s,1)}catch{return this.log("connection from %a refused - inboundConnectionThreshold exceeded by host %s",e.remoteAddr,s),!1}}return this.getConnections().length<this.maxConnections?(this.incomingPendingConnections++,!0):(this.log("connection from %a refused - maxConnections exceeded",e.remoteAddr),!1)}afterUpgradeInbound(){this.incomingPendingConnections--}getDialQueue(){const e={queued:"queued",running:"active",errored:"error",complete:"success"};return this.dialQueue.queue.queue.map(n=>({id:n.id,status:e[n.status],peerId:n.options.peerId,multiaddrs:[...n.options.multiaddrs].map(r=>_t(r))}))}async isDialable(e,n={}){return this.dialQueue.isDialable(e,n)}}class By{movingAverage;variance;deviation;forecast;timeSpan;previousTime;constructor(e){this.timeSpan=e,this.movingAverage=0,this.variance=0,this.deviation=0,this.forecast=0}alpha(e,n){return 1-Math.exp(-(e-n)/this.timeSpan)}push(e,n=Date.now()){if(this.previousTime!=null){const r=this.alpha(n,this.previousTime),s=e-this.movingAverage,a=r*s;this.movingAverage=r*e+(1-r)*this.movingAverage,this.variance=(1-r)*(this.variance+s*a),this.deviation=Math.sqrt(this.variance),this.forecast=this.movingAverage+r*s}else this.movingAverage=e;this.previousTime=n}}const eF=1.2,tF=2,nF=5e3,rF=6e4,iF=5e3;class sF{success;failure;next;metric;timeoutMultiplier;failureMultiplier;minTimeout;maxTimeout;constructor(e={}){const n=e.interval??iF;this.success=new By(n),this.failure=new By(n),this.next=new By(n),this.failureMultiplier=e.failureMultiplier??tF,this.timeoutMultiplier=e.timeoutMultiplier??eF,this.minTimeout=e.minTimeout??nF,this.maxTimeout=e.maxTimeout??rF,e.metricName!=null&&(this.metric=e.metrics?.registerMetricGroup(e.metricName))}getTimeoutSignal(e={}){let n=Math.round(this.next.movingAverage*(e.timeoutFactor??this.timeoutMultiplier));n<this.minTimeout&&(n=this.minTimeout),n>this.maxTimeout&&(n=this.maxTimeout);const r=AbortSignal.timeout(n),s=lu([e.signal,r]);return s.start=Date.now(),s.timeout=n,s}cleanUp(e){const n=Date.now()-e.start;e.aborted?(this.failure.push(n),this.next.push(n*this.failureMultiplier),this.metric?.update({failureMovingAverage:this.failure.movingAverage,failureDeviation:this.failure.deviation,failureForecast:this.failure.forecast,failureVariance:this.failure.variance,failure:n})):(this.success.push(n),this.next.push(n),this.metric?.update({successMovingAverage:this.success.movingAverage,successDeviation:this.success.deviation,successForecast:this.success.forecast,successVariance:this.success.variance,success:n}))}}class oF{readNext;haveNext;ended;nextResult;error;constructor(){this.ended=!1,this.readNext=Gt(),this.haveNext=Gt()}[Symbol.asyncIterator](){return this}async next(){if(this.nextResult==null&&await this.haveNext.promise,this.nextResult==null)throw new Error("HaveNext promise resolved but nextResult was undefined");const e=this.nextResult;return this.nextResult=void 0,this.readNext.resolve(),this.readNext=Gt(),e}async throw(e){return this.ended=!0,this.error=e,e!=null&&(this.haveNext.promise.catch(()=>{}),this.haveNext.reject(e)),{done:!0,value:void 0}}async return(){const e={done:!0,value:void 0};return this.ended=!0,this.nextResult=e,this.haveNext.resolve(),e}async push(e,n){await this._push(e,n)}async end(e,n){e!=null?await this.throw(e):await this._push(void 0,n)}async _push(e,n){if(e!=null&&this.ended)throw this.error??new Error("Cannot push value onto an ended pushable");for(;this.nextResult!=null;)await this.readNext.promise;e!=null?this.nextResult={done:!1,value:e}:(this.ended=!0,this.nextResult={done:!0,value:void 0}),this.haveNext.resolve(),this.haveNext=Gt(),await Kr(this.readNext.promise,n?.signal,n)}}function u3(){return new oF}let aF=class extends Error{name="UnexpectedEOFError";code="ERR_UNEXPECTED_EOF"};function f3(t,e){const n=u3();t.sink(n).catch(async c=>{await n.end(c)}),t.sink=async c=>{for await(const f of c)await n.push(f);await n.end()};let r=t.source;t.source[Symbol.iterator]!=null?r=t.source[Symbol.iterator]():t.source[Symbol.asyncIterator]!=null&&(r=t.source[Symbol.asyncIterator]());const s=new xt;return{read:async c=>{if(c?.signal?.throwIfAborted(),c?.bytes==null){const{done:d,value:p}=await Kr(r.next(),c?.signal);return d===!0?null:p}for(;s.byteLength<c.bytes;){const{value:d,done:p}=await Kr(r.next(),c?.signal);if(p===!0)throw new aF("unexpected end of input");s.append(d)}const f=s.sublist(0,c.bytes);return s.consume(c.bytes),f},write:async(c,f)=>{f?.signal?.throwIfAborted(),c instanceof Uint8Array?await n.push(c,f):await n.push(c.subarray(),f)},unwrap:()=>{if(s.byteLength>0){const c=t.source;t.source=async function*(){e?.yieldBytes===!1?yield s:yield*s,yield*c}()}return t}}}const lF=1e4,cF="1.0.0",uF="ping",fF="ipfs",Yx=32,dF=!0;class hF{protocol;components;log;heartbeatInterval;pingIntervalMs;abortController;timeout;abortConnectionOnPingFailure;constructor(e,n={}){this.components=e,this.protocol=`/${n.protocolPrefix??fF}/${uF}/${cF}`,this.log=e.logger.forComponent("libp2p:connection-monitor"),this.pingIntervalMs=n.pingInterval??lF,this.abortConnectionOnPingFailure=n.abortConnectionOnPingFailure??dF,this.timeout=new sF({...n.pingTimeout??{},metrics:e.metrics,metricName:"libp2p_connection_monitor_ping_time_milliseconds"})}[Symbol.toStringTag]="@libp2p/connection-monitor";[Jc]=["@libp2p/connection-monitor"];start(){this.abortController=new AbortController,this.abortController.signal,this.heartbeatInterval=setInterval(()=>{this.components.connectionManager.getConnections().forEach(e=>{Promise.resolve().then(async()=>{let n=Date.now();try{const r=this.timeout.getTimeoutSignal({signal:this.abortController?.signal}),s=await e.newStream(this.protocol,{signal:r,runOnLimitedConnection:!0}),a=f3(s);n=Date.now(),await Promise.all([a.write(q_(Yx),{signal:r}),a.read({bytes:Yx,signal:r})]),e.rtt=Date.now()-n,await a.unwrap().close({signal:r})}catch(r){if(r.name!=="UnsupportedProtocolError")throw r;e.rtt=(Date.now()-n)/2}}).catch(n=>{this.log.error("error during heartbeat",n),this.abortConnectionOnPingFailure?(this.log.error("aborting connection due to ping failure"),e.abort(n)):this.log("connection ping failed, but not aborting due to abortConnectionOnPingFailure flag")})})},this.pingIntervalMs)}stop(){this.abortController?.abort(),this.heartbeatInterval!=null&&clearInterval(this.heartbeatInterval)}}function pF(t){return t[Symbol.asyncIterator]!=null}async function gF(t,e,n){try{await Promise.all(t.map(async r=>{for await(const s of r)await e.push(s,{signal:n}),n.throwIfAborted()})),await e.end(void 0,{signal:n})}catch(r){await e.end(r,{signal:n}).catch(()=>{})}}async function*mF(t){const e=new AbortController,n=u3();gF(t,n,e.signal).catch(()=>{});try{yield*n}finally{e.abort()}}function*yF(t){for(const e of t)yield*e}function wh(...t){const e=[];for(const n of t)pF(n)||e.push(n);return e.length===t.length?yF(e):mF(t)}class bF{routers;started;components;constructor(e,n){this.routers=n.routers??[],this.started=!1,this.components=e,this.findProviders=e.metrics?.traceFunction("libp2p.contentRouting.findProviders",this.findProviders.bind(this),{optionsIndex:1,getAttributesFromArgs:([r],s)=>({...s,cid:r.toString()}),getAttributesFromYieldedValue:(r,s)=>({...s,providers:[...Array.isArray(s.providers)?s.providers:[],r.id.toString()]})})??this.findProviders,this.provide=e.metrics?.traceFunction("libp2p.contentRouting.provide",this.provide.bind(this),{optionsIndex:1,getAttributesFromArgs:([r],s)=>({...s,cid:r.toString()})})??this.provide,this.cancelReprovide=e.metrics?.traceFunction("libp2p.contentRouting.cancelReprovide",this.cancelReprovide.bind(this),{optionsIndex:1,getAttributesFromArgs:([r],s)=>({...s,cid:r.toString()})})??this.cancelReprovide,this.put=e.metrics?.traceFunction("libp2p.contentRouting.put",this.put.bind(this),{optionsIndex:2,getAttributesFromArgs:([r])=>({key:He(r,"base36")})})??this.put,this.get=e.metrics?.traceFunction("libp2p.contentRouting.get",this.get.bind(this),{optionsIndex:1,getAttributesFromArgs:([r])=>({key:He(r,"base36")})})??this.get}[Symbol.toStringTag]="@libp2p/content-routing";isStarted(){return this.started}async start(){this.started=!0}async stop(){this.started=!1}async*findProviders(e,n={}){if(this.routers.length===0)throw new My("No content routers available");const r=this,s=new za;for await(const a of wh(...r.routers.filter(c=>c.findProviders instanceof Function).map(c=>c.findProviders(e,n))))a!=null&&(a.multiaddrs.length>0&&await this.components.peerStore.merge(a.id,{multiaddrs:a.multiaddrs},n),!s.has(a.id)&&(s.add(a.id),yield a))}async provide(e,n={}){if(this.routers.length===0)throw new My("No content routers available");await Promise.all(this.routers.filter(r=>r.provide instanceof Function).map(async r=>{await r.provide(e,n)}))}async cancelReprovide(e,n={}){if(this.routers.length===0)throw new My("No content routers available");await Promise.all(this.routers.filter(r=>r.cancelReprovide instanceof Function).map(async r=>{await r.cancelReprovide(e,n)}))}async put(e,n,r){if(!this.isStarted())throw new Yd;await Promise.all(this.routers.filter(s=>s.put instanceof Function).map(async s=>{await s.put(e,n,r)}))}async get(e,n){if(!this.isStarted())throw new Yd;return Promise.any(this.routers.filter(r=>r.get instanceof Function).map(async r=>r.get(e,n)))}}const Sd=globalThis.CustomEvent??Event;async function*vF(t,e={}){let n=e.concurrency??1/0;n<1&&(n=1/0);const r=e.ordered??!1,s=new EventTarget,a=[];let c=Gt(),f=Gt(),d=!1,p,g=!1;s.addEventListener("task-complete",()=>{f.resolve()}),Promise.resolve().then(async()=>{try{for await(const v of t){if(a.length===n&&(c=Gt(),await c.promise),g)break;const S={done:!1};a.push(S),v().then(E=>{S.done=!0,S.ok=!0,S.value=E,s.dispatchEvent(new Sd("task-complete"))},E=>{S.done=!0,S.err=E,s.dispatchEvent(new Sd("task-complete"))})}d=!0,s.dispatchEvent(new Sd("task-complete"))}catch(v){p=v,s.dispatchEvent(new Sd("task-complete"))}});function y(){return r?a[0]?.done:!!a.find(v=>v.done)}function*b(){for(;a.length>0&&a[0].done;){const v=a[0];if(a.shift(),v.ok)yield v.value;else throw g=!0,c.resolve(),v.err;c.resolve()}}function*w(){for(;y();)for(let v=0;v<a.length;v++)if(a[v].done){const S=a[v];if(a.splice(v,1),v--,S.ok)yield S.value;else throw g=!0,c.resolve(),S.err;c.resolve()}}for(;;){if(y()||(f=Gt(),await f.promise),p!=null||(r?yield*b():yield*w(),p!=null))throw p;if(d&&a.length===0)break}}class wF{log;peerId;peerStore;routers;constructor(e,n={}){this.log=e.logger.forComponent("libp2p:peer-routing"),this.peerId=e.peerId,this.peerStore=e.peerStore,this.routers=n.routers??[],this.findPeer=e.metrics?.traceFunction("libp2p.peerRouting.findPeer",this.findPeer.bind(this),{optionsIndex:1,getAttributesFromArgs:([r],s)=>({...s,peer:r.toString()})})??this.findPeer,this.getClosestPeers=e.metrics?.traceFunction("libp2p.peerRouting.getClosestPeers",this.getClosestPeers.bind(this),{optionsIndex:1,getAttributesFromArgs:([r],s)=>({...s,key:He(r,"base36")}),getAttributesFromYieldedValue:(r,s)=>({...s,peers:[...Array.isArray(s.peers)?s.peers:[],r.id.toString()]})})??this.getClosestPeers}[Symbol.toStringTag]="@libp2p/peer-routing";async findPeer(e,n){if(this.routers.length===0)throw new $x("No peer routers available");if(e.toString()===this.peerId.toString())throw new Hz("Should not try to find self");const r=this,s=wh(...this.routers.filter(a=>a.findPeer instanceof Function).map(a=>async function*(){try{yield await a.findPeer(e,n)}catch(c){r.log.error(c)}}()));for await(const a of s)if(a!=null)return a.multiaddrs.length>0&&await this.peerStore.merge(a.id,{multiaddrs:a.multiaddrs},n),a;throw new yb}async*getClosestPeers(e,n={}){if(this.routers.length===0)throw new $x("No peer routers available");const r=this,s=RT(1024);for await(const a of vF(async function*(){const c=wh(...r.routers.filter(f=>f.getClosestPeers instanceof Function).map(f=>f.getClosestPeers(e,n)));for await(let f of c)yield async()=>{if(f.multiaddrs.length===0)try{f=await r.findPeer(f.id,{...n,useCache:!1})}catch(d){r.log.error("could not find peer multiaddrs",d);return}return f}}()))a!=null&&(a.multiaddrs.length>0&&await this.peerStore.merge(a.id,{multiaddrs:a.multiaddrs},n),!s.has(a.id.toMultihash().bytes)&&(s.add(a.id.toMultihash().bytes),yield a))}}class SF extends Xa{peerRouting;log;walking;walkers;shutdownController;walkController;needNext;constructor(e){super(),this.log=e.logger.forComponent("libp2p:random-walk"),this.peerRouting=e.peerRouting,this.walkers=0,this.walking=!1,this.shutdownController=new AbortController,this.shutdownController.signal}[Symbol.toStringTag]="@libp2p/random-walk";start(){this.shutdownController=new AbortController,this.shutdownController.signal}stop(){this.shutdownController.abort()}async*walk(e){this.walking||this.startWalk(),this.walkers++;const n=lu([this.shutdownController.signal,e?.signal]);try{for(;;)this.needNext?.resolve(),this.needNext=Gt(),yield(await vo(this,"walk:peer",n,{errorEvent:"walk:error"})).detail}finally{n.clear(),this.walkers--,this.walkers===0&&(this.walkController?.abort(),this.walkController=void 0)}}startWalk(){this.walking=!0,this.walkController=new AbortController,this.walkController.signal;const e=lu([this.walkController.signal,this.shutdownController.signal]),n=Date.now();let r=0;Promise.resolve().then(async()=>{for(this.log("start walk");this.walkers>0;)try{const s=q_(32);let a=Date.now();for await(const c of this.peerRouting.getClosestPeers(s,{signal:e}))e.aborted&&this.log("aborting walk"),e.throwIfAborted(),this.log("found peer %p after %dms for %d walkers",c.id,Date.now()-a,this.walkers),r++,this.safeDispatchEvent("walk:peer",{detail:c}),this.walkers===1&&this.needNext!=null&&(this.log("wait for need next"),await Kr(this.needNext.promise,e)),a=Date.now();this.log("walk iteration for %b and %d walkers finished, found %d peers",s,this.walkers,r)}catch(s){this.log.error("random walk errored",s),this.safeDispatchEvent("walk:error",{detail:s})}this.log("no walkers left, ended walk")}).catch(s=>{this.log.error("random walk errored",s)}).finally(()=>{this.log("finished walk, found %d peers after %dms",r,Date.now()-n),this.walking=!1})}}const d3=32,h3=64;class EF{log;topologies;handlers;components;constructor(e){this.components=e,this.log=e.logger.forComponent("libp2p:registrar"),this.topologies=new Map,e.metrics?.registerMetricGroup("libp2p_registrar_topologies",{calculate:()=>{const n={};for(const[r,s]of this.topologies)n[r]=s.size;return n}}),this.handlers=Gi({name:"libp2p_registrar_protocol_handlers",metrics:e.metrics}),this._onDisconnect=this._onDisconnect.bind(this),this._onPeerUpdate=this._onPeerUpdate.bind(this),this._onPeerIdentify=this._onPeerIdentify.bind(this),this.components.events.addEventListener("peer:disconnect",this._onDisconnect),this.components.events.addEventListener("peer:update",this._onPeerUpdate),this.components.events.addEventListener("peer:identify",this._onPeerIdentify)}[Symbol.toStringTag]="@libp2p/registrar";getProtocols(){return Array.from(new Set([...this.handlers.keys()])).sort()}getHandler(e){const n=this.handlers.get(e);if(n==null)throw new jz(`No handler registered for protocol ${e}`);return n}getTopologies(e){const n=this.topologies.get(e);return n==null?[]:[...n.values()]}async handle(e,n,r){if(this.handlers.has(e)&&r?.force!==!0)throw new Vz(`Handler already registered for protocol ${e}`);const s=tT.bind({ignoreUndefined:!0})({maxInboundStreams:d3,maxOutboundStreams:h3},r);this.handlers.set(e,{handler:n,options:s}),await this.components.peerStore.merge(this.components.peerId,{protocols:[e]},r)}async unhandle(e,n){(Array.isArray(e)?e:[e]).forEach(s=>{this.handlers.delete(s)}),await this.components.peerStore.patch(this.components.peerId,{protocols:this.getProtocols()},n)}async register(e,n){if(n==null)throw new bt("invalid topology");const r=`${(Math.random()*1e9).toString(36)}${Date.now()}`;let s=this.topologies.get(e);return s==null&&(s=new Map,this.topologies.set(e,s)),s.set(r,n),r}unregister(e){for(const[n,r]of this.topologies.entries())r.has(e)&&(r.delete(e),r.size===0&&this.topologies.delete(n))}_onDisconnect(e){const n=e.detail,r={signal:AbortSignal.timeout(5e3)};this.components.peerStore.get(n,r).then(s=>{for(const a of s.protocols){const c=this.topologies.get(a);if(c!=null)for(const f of c.values())f.filter?.has(n)!==!1&&(f.filter?.remove(n),f.onDisconnect?.(n))}}).catch(s=>{s.name!=="NotFoundError"&&this.log.error("could not inform topologies of disconnecting peer %p",n,s)})}_onPeerUpdate(e){const{peer:n,previous:r}=e.detail,s=(r?.protocols??[]).filter(a=>!n.protocols.includes(a));for(const a of s){const c=this.topologies.get(a);if(c!=null)for(const f of c.values())f.filter?.has(n.id)!==!1&&(f.filter?.remove(n.id),f.onDisconnect?.(n.id))}}_onPeerIdentify(e){const n=e.detail.protocols,r=e.detail.connection,s=e.detail.peerId;for(const a of n){const c=this.topologies.get(a);if(c!=null)for(const f of c.values())r.limits!=null&&f.notifyOnLimitedConnection!==!0||f.filter?.has(s)!==!0&&(f.filter?.add(s),f.onConnect?.(s,r))}}}class xF{log;components;transports;listeners;faultTolerance;started;constructor(e,n={}){this.log=e.logger.forComponent("libp2p:transports"),this.components=e,this.started=!1,this.transports=Gi({name:"libp2p_transport_manager_transports",metrics:this.components.metrics}),this.listeners=Gi({name:"libp2p_transport_manager_listeners",metrics:this.components.metrics}),this.faultTolerance=n.faultTolerance??Zc.FATAL_ALL}[Symbol.toStringTag]="@libp2p/transport-manager";add(e){const n=e[Symbol.toStringTag];if(n==null)throw new bt("Transport must have a valid tag");if(this.transports.has(n))throw new bt(`There is already a transport with the tag ${n}`);this.log("adding transport %s",n),this.transports.set(n,e),this.listeners.has(n)||this.listeners.set(n,[])}isStarted(){return this.started}start(){this.started=!0}async afterStart(){const e=this.components.addressManager.getListenAddrs();await this.listen(e)}async stop(){const e=[];for(const[n,r]of this.listeners)for(this.log("closing listeners for %s",n);r.length>0;){const s=r.pop();s!=null&&e.push(s.close())}await Promise.all(e),this.log("all listeners closed");for(const n of this.listeners.keys())this.listeners.set(n,[]);this.started=!1}async dial(e,n){const r=this.dialTransportForMultiaddr(e);if(r==null)throw new Qz(`No transport available for address ${String(e)}`);return n?.onProgress?.(new Yn("transport-manager:selected-transport",r[Symbol.toStringTag])),r.dial(e,{...n,upgrader:this.components.upgrader})}getAddrs(){let e=[];for(const n of this.listeners.values())for(const r of n)e=[...e,...r.getAddrs()];return e}getTransports(){return Array.of(...this.transports.values())}getListeners(){return Array.of(...this.listeners.values()).flat()}dialTransportForMultiaddr(e){for(const n of this.transports.values())if(n.dialFilter([e]).length>0)return n}listenTransportForMultiaddr(e){for(const n of this.transports.values())if(n.listenFilter([e]).length>0)return n}async listen(e){if(!this.isStarted())throw new Yd("Not started");if(e==null||e.length===0){this.log("no addresses were provided for listening, this node is dial only");return}const n={errors:new Map,ipv4:{success:0,attempts:0},ipv6:{success:0,attempts:0}};e.forEach(a=>{n.errors.set(a.toString(),new Kz)});const r=[];for(const[a,c]of this.transports.entries()){const f=c.listenFilter(e);for(const d of f){this.log("creating listener for %s on %a",a,d);const p=c.createListener({upgrader:this.components.upgrader});let g=this.listeners.get(a)??[];g==null&&(g=[],this.listeners.set(a,g)),g.push(p),p.addEventListener("listening",()=>{this.components.events.safeDispatchEvent("transport:listening",{detail:p})}),p.addEventListener("close",()=>{const y=g.findIndex(b=>b===p);g.splice(y,1),this.components.events.safeDispatchEvent("transport:close",{detail:p})}),Rx.matches(d)?n.ipv4.attempts++:Ox.matches(d)&&n.ipv6.attempts++,r.push(p.listen(d).then(()=>{n.errors.delete(d.toString()),Rx.matches(d)&&n.ipv4.success++,Ox.matches(d)&&n.ipv6.success++},y=>{throw this.log.error("transport %s could not listen on address %a - %e",a,d,y),n.errors.set(d.toString(),y),y}))}}const s=await Promise.allSettled(r);if(!(s.length>0&&s.every(a=>a.status==="fulfilled"))){if(this.ipv6Unsupported(n)){this.log("all IPv4 addresses succeed but all IPv6 failed");return}if(this.faultTolerance===Zc.NO_FATAL){this.log("failed to listen on any address but fault tolerance allows this");return}throw new Gz(`Some configured addresses failed to be listened on, you may need to remove one or more listen addresses from your configuration or set \`transportManager.faultTolerance\` to NO_FATAL:
${[...n.errors.entries()].map(([a,c])=>`
  ${a}: ${`${c.stack??c}`.split(`
`).join(`
  `)}
`).join("")}`)}}ipv6Unsupported(e){if(e.ipv4.attempts===0||e.ipv6.attempts===0)return!1;const n=e.ipv4.attempts===e.ipv4.success,r=e.ipv6.success===0;return n&&r}async remove(e){const n=this.listeners.get(e)??[];this.log.trace("removing transport %s",e);const r=[];for(this.log.trace("closing listeners for %s",e);n.length>0;){const s=n.pop();s!=null&&r.push(s.close())}await Promise.all(r),this.transports.delete(e),this.listeners.delete(e)}async removeAll(){const e=[];for(const n of this.transports.keys())e.push(this.remove(n));await Promise.all(e)}}const Kn="/multistream/1.0.0",hv=1024;let CF=class extends Error{name="InvalidMessageLengthError";code="ERR_INVALID_MSG_LENGTH"},AF=class extends Error{name="InvalidDataLengthError";code="ERR_MSG_DATA_TOO_LONG"},_F=class extends Error{name="InvalidDataLengthLengthError";code="ERR_MSG_LENGTH_TOO_LONG"};function cu(t,e={}){const n=f3(t,e);e.maxDataLength!=null&&e.maxLengthLength==null&&(e.maxLengthLength=Mr(e.maxDataLength));const r=e?.lengthDecoder??op,s=e?.lengthEncoder??Ia;return{read:async c=>{let f=-1;const d=new xt;for(;;){d.append(await n.read({...c,bytes:1}));try{f=r(d)}catch(p){if(p instanceof RangeError)continue;throw p}if(f<0)throw new CF("Invalid message length");if(e?.maxLengthLength!=null&&d.byteLength>e.maxLengthLength)throw new _F("message length length too long");if(f>-1)break}if(e?.maxDataLength!=null&&f>e.maxDataLength)throw new AF("message length too long");return n.read({...c,bytes:f})},write:async(c,f)=>{await n.write(new xt(s(c.byteLength),c),f)},writeV:async(c,f)=>{const d=new xt(...c.flatMap(p=>[s(p.byteLength),p]));await n.write(d,f)},unwrap:()=>n.unwrap()}}const TF=Pe(`
`);async function Ic(t,e,n){await t.write(e,n)}async function RF(t,e,n){await t.writeV(e,n)}async function OF(t,e){const n=await t.read(e);if(n.byteLength===0||n.get(n.byteLength-1)!==TF[0])throw e.log.error("Invalid mss message - missing newline",n),new lN("Missing newline");return n.sublist(0,-1)}async function qa(t,e){const n=await OF(t,e);return He(n.subarray())}async function Iy(t,e,n){if(e=Array.isArray(e)?[...e]:[e],e.length===1&&n.negotiateFully===!1)return MF(t,e[0],n);const r=cu(t,{...n,maxDataLength:hv}),s=e.shift();if(s==null)throw new Error("At least one protocol must be specified");n.log.trace('select: write ["%s", "%s"]',Kn,s);const a=Pe(`${Kn}
`),c=Pe(`${s}
`);await RF(r,[a,c],n),n.log.trace("select: reading multistream-select header");let f=await qa(r,n);if(n.log.trace('select: read "%s"',f),f===Kn&&(n.log.trace("select: reading protocol response"),f=await qa(r,n),n.log.trace('select: read "%s"',f)),f===s)return{stream:r.unwrap(),protocol:s};for(const d of e){n.log.trace('select: write "%s"',d),await Ic(r,Pe(`${d}
`),n),n.log.trace("select: reading protocol response");const p=await qa(r,n);if(n.log.trace('select: read "%s" for "%s"',p,d),p===d)return{stream:r.unwrap(),protocol:d}}throw new KA("protocol selection failed")}function MF(t,e,n){const r=t.sink.bind(t),s=t.source;let a=!1,c=!1;const f=Gt();let d=!1,p=!1;const g=Gt();let y=!1,b=!1;const w=Gt(),v=cu({sink:r,source:s},{...n,maxDataLength:hv});t.sink=async k=>{const{sink:A}=v.unwrap();await A(async function*(){let T=!1;for await(const R of k){if(p&&await g.promise,d)yield R;else{p=!0,n.log.trace('optimistic: write ["%s", "%s", data(%d)] in sink',Kn,e,R.byteLength);const I=`${e}
`;yield new xt(Uint8Array.from([19]),Pe(`${Kn}
`),Ia(I.length),Pe(I),R).subarray(),n.log.trace('optimistic: wrote ["%s", "%s", data(%d)] in sink',Kn,e,R.byteLength),d=!0,p=!1,g.resolve(),S().catch($=>{n.log.error("could not finish optimistic protocol negotiation of %s",e,$)})}T=!0}T||await S()}())};async function S(){if(c){n.log.trace("optimistic: already negotiating %s stream",e),await f.promise;return}c=!0;try{d||(n.log.trace("optimistic: doing send protocol for %s stream",e),await E()),y||(n.log.trace("optimistic: doing read protocol for %s stream",e),await C())}finally{c=!1,a=!0,f.resolve()}}async function E(){if(p){await g.promise;return}p=!0;try{n.log.trace('optimistic: write ["%s", "%s", data] in source',Kn,e),await v.writeV([Pe(`${Kn}
`),Pe(`${e}
`)]),n.log.trace('optimistic: wrote ["%s", "%s", data] in source',Kn,e)}finally{d=!0,p=!1,g.resolve()}}async function C(){if(b){await w.promise;return}b=!0;try{n.log.trace("optimistic: reading multistream select header");let k=await qa(v,n);if(n.log.trace('optimistic: read multistream select header "%s"',k),k===Kn&&(k=await qa(v,n)),n.log.trace('optimistic: read protocol "%s", expecting "%s"',k,e),k!==e)throw new KA("protocol selection failed")}finally{y=!0,b=!1,w.resolve()}}if(t.source=async function*(){await S(),n.log.trace('optimistic: reading data from "%s" stream',e),yield*v.unwrap().source}(),t.closeRead!=null){const k=t.closeRead.bind(t);t.closeRead=async A=>{a||await S().catch(T=>{n.log.error("could not negotiate protocol before close read",T)}),await k(A)}}if(t.closeWrite!=null){const k=t.closeWrite.bind(t);t.closeWrite=async A=>{a||await S().catch(T=>{n.log.error("could not negotiate protocol before close write",T)}),await k(A)}}if(t.close!=null){const k=t.close.bind(t);t.close=async A=>{const T=[];p&&T.push(g.promise),b&&T.push(w.promise),T.length>0?await Kr(Promise.all(T),A?.signal):(a=!0,c=!1,f.resolve()),await k(A)}}return{stream:t,protocol:e}}const DF=8,pv=1024*1024*4;class kF extends Error{name="InvalidMessageLengthError";code="ERR_INVALID_MSG_LENGTH"}class p3 extends Error{name="InvalidDataLengthError";code="ERR_MSG_DATA_TOO_LONG"}class LF extends Error{name="InvalidDataLengthLengthError";code="ERR_MSG_LENGTH_TOO_LONG"}class Xx extends Error{name="UnexpectedEOFError";code="ERR_UNEXPECTED_EOF"}function g3(t){return t[Symbol.asyncIterator]!=null}function m3(t,e){if(t.byteLength>e)throw new p3("Message length too long")}const yp=t=>{const e=Mr(t),n=hi(e);return Ia(t,n),yp.bytes=e,n};yp.bytes=0;function y3(t,e){e=e??{};const n=e.lengthEncoder??yp,r=e?.maxDataLength??pv;function*s(a){m3(a,r);const c=n(a.byteLength);c instanceof Uint8Array?yield c:yield*c,a instanceof Uint8Array?yield a:yield*a}return g3(t)?async function*(){for await(const a of t)yield*s(a)}():function*(){for(const a of t)yield*s(a)}()}y3.single=(t,e)=>{e=e??{};const n=e.lengthEncoder??yp,r=e?.maxDataLength??pv;return m3(t,r),new xt(n(t.byteLength),t)};var oo;(function(t){t[t.LENGTH=0]="LENGTH",t[t.DATA=1]="DATA"})(oo||(oo={}));const gv=t=>{const e=op(t);return gv.bytes=Mr(e),e};gv.bytes=0;function Ub(t,e){const n=new xt;let r=oo.LENGTH,s=-1;const a=e?.lengthDecoder??gv,c=e?.maxLengthLength??DF,f=e?.maxDataLength??pv;function*d(){for(;n.byteLength>0;){if(r===oo.LENGTH)try{if(s=a(n),s<0)throw new kF("Invalid message length");if(s>f)throw new p3("Message length too long");const p=a.bytes;n.consume(p),e?.onLength!=null&&e.onLength(s),r=oo.DATA}catch(p){if(p instanceof RangeError){if(n.byteLength>c)throw new LF("Message length length too long");break}throw p}if(r===oo.DATA){if(n.byteLength<s)break;const p=n.sublist(0,s);n.consume(s),e?.onData!=null&&e.onData(p),yield p,r=oo.LENGTH}}}return g3(t)?async function*(){for await(const p of t)n.append(p),yield*d();if(n.byteLength>0)throw new Xx("Unexpected end of input")}():function*(){for(const p of t)n.append(p),yield*d();if(n.byteLength>0)throw new Xx("Unexpected end of input")}()}Ub.fromReader=(t,e)=>{let n=1;const r=async function*(){for(;;)try{const{done:a,value:c}=await t.next(n);if(a===!0)return;c!=null&&(yield c)}catch(a){if(a.code==="ERR_UNDER_READ")return{done:!0,value:null};throw a}finally{n=1}}();return Ub(r,{...e??{},onLength:a=>{n=a}})};async function Py(t,e,n){e=Array.isArray(e)?e:[e],n.log.trace("handle: available protocols %s",e);const r=cu(t,{...n,maxDataLength:hv,maxLengthLength:2});for(;;){n.log.trace("handle: reading incoming string");const s=await qa(r,n);if(n.log.trace('handle: read "%s"',s),s===Kn){n.log.trace('handle: respond with "%s" for "%s"',Kn,s),await Ic(r,Pe(`${Kn}
`),n),n.log.trace('handle: responded with "%s" for "%s"',Kn,s);continue}if(e.includes(s))return n.log.trace('handle: respond with "%s" for "%s"',s,s),await Ic(r,Pe(`${s}
`),n),n.log.trace('handle: responded with "%s" for "%s"',s,s),{stream:r.unwrap(),protocol:s};if(s==="ls"){const a=new xt(...e.map(c=>y3.single(Pe(`${c}
`))),Pe(`
`));n.log.trace('handle: respond with "%s" for %s',e,s),await Ic(r,a,n),n.log.trace('handle: responded with "%s" for %s',e,s);continue}n.log.trace('handle: respond with "na" for "%s"',s),await Ic(r,Pe(`na
`),n),n.log('handle: responded with "na" for "%s"',s)}}const NF=500;class BF{id;remoteAddr;remotePeer;direction;timeline;multiplexer;encryption;status;limits;log;tags;_newStream;_close;_abort;_getStreams;constructor(e){const{remoteAddr:n,remotePeer:r,newStream:s,close:a,abort:c,getStreams:f}=e;this.id=`${parseInt(String(Math.random()*1e9)).toString(36)}${Date.now()}`,this.remoteAddr=n,this.remotePeer=r,this.direction=e.direction,this.status="open",this.timeline=e.timeline,this.multiplexer=e.multiplexer,this.encryption=e.encryption,this.limits=e.limits,this.log=e.logger.forComponent(`libp2p:connection:${this.direction}:${this.id}`),this.remoteAddr.getPeerId()==null&&(this.remoteAddr=this.remoteAddr.encapsulate(`/p2p/${this.remotePeer}`)),this._newStream=s,this._close=a,this._abort=c,this._getStreams=f,this.tags=[]}[Symbol.toStringTag]="Connection";[eN]=!0;get streams(){return this._getStreams()}async newStream(e,n){if(this.status==="closing")throw new iN("the connection is being closed");if(this.status==="closed")throw new jA("the connection is closed");if(Array.isArray(e)||(e=[e]),this.limits!=null&&n?.runOnLimitedConnection!==!0)throw new GA("Cannot open protocol stream on limited connection");const r=await this._newStream(e,n);return r.direction="outbound",r}async close(e={}){if(!(this.status==="closed"||this.status==="closing")){if(this.log("closing connection to %a",this.remoteAddr),this.status="closing",e.signal==null){const n=AbortSignal.timeout(NF);e={...e,signal:n}}try{this.log.trace("closing underlying transport"),await this._close(e),this.log.trace("updating timeline with close time"),this.status="closed",this.timeline.close=Date.now()}catch(n){this.log.error("error encountered during graceful close of connection to %a",this.remoteAddr,n),this.abort(n)}}}abort(e){this.status!=="closed"&&(this.log.error("aborting connection to %a due to error",this.remoteAddr,e),this.status="closing",this._abort(e),this.status="closed",this.timeline.close=Date.now())}}function IF(t){return new BF(t)}function PF(t,e){try{const{options:n}=e.getHandler(t);return n.maxInboundStreams}catch(n){if(n.name!=="UnhandledProtocolError")throw n}return d3}function $F(t,e,n={}){try{const{options:r}=e.getHandler(t);if(r.maxOutboundStreams!=null)return r.maxOutboundStreams}catch(r){if(r.name!=="UnhandledProtocolError")throw r}return n.maxOutboundStreams??h3}function Wx(t,e,n){let r=0;return n.streams.forEach(s=>{s.direction===e&&s.protocol===t&&r++}),r}class UF{components;connectionEncrypters;streamMuxers;inboundUpgradeTimeout;inboundStreamProtocolNegotiationTimeout;outboundStreamProtocolNegotiationTimeout;events;metrics;constructor(e,n){this.components=e,this.connectionEncrypters=Gi({name:"libp2p_upgrader_connection_encrypters",metrics:this.components.metrics}),n.connectionEncrypters.forEach(r=>{this.connectionEncrypters.set(r.protocol,r)}),this.streamMuxers=Gi({name:"libp2p_upgrader_stream_multiplexers",metrics:this.components.metrics}),n.streamMuxers.forEach(r=>{this.streamMuxers.set(r.protocol,r)}),this.inboundUpgradeTimeout=n.inboundUpgradeTimeout??w7,this.inboundStreamProtocolNegotiationTimeout=n.inboundStreamProtocolNegotiationTimeout??Fx,this.outboundStreamProtocolNegotiationTimeout=n.outboundStreamProtocolNegotiationTimeout??Fx,this.events=e.events,this.metrics={dials:e.metrics?.registerCounterGroup("libp2p_connection_manager_dials_total"),errors:e.metrics?.registerCounterGroup("libp2p_connection_manager_dial_errors_total"),inboundErrors:e.metrics?.registerCounterGroup("libp2p_connection_manager_dials_inbound_errors_total"),outboundErrors:e.metrics?.registerCounterGroup("libp2p_connection_manager_dials_outbound_errors_total")}}[Symbol.toStringTag]="@libp2p/upgrader";async shouldBlockConnection(e,...n){const r=this.components.connectionGater[e];if(r==null)return;if(await r.apply(this.components.connectionGater,n)===!0)throw new Xz(`The multiaddr connection is blocked by gater.${e}`)}createInboundAbortSignal(e){return lu([AbortSignal.timeout(this.inboundUpgradeTimeout),e])}async upgradeInbound(e,n){let r=!1;const s=this.createInboundAbortSignal(n.signal);try{if(this.metrics.dials?.increment({inbound:!0}),r=await Kr(this.components.connectionManager.acceptIncomingConnection(e),s),!r)throw new Wz("Connection denied");await Kr(this.shouldBlockConnection("denyInboundConnection",e),s),await this._performUpgrade(e,"inbound",{...n,signal:s})}catch(a){throw this.metrics.errors?.increment({inbound:!0}),this.metrics.inboundErrors?.increment({[a.name??"Error"]:!0}),a}finally{s.clear(),r&&this.components.connectionManager.afterUpgradeInbound()}}async upgradeOutbound(e,n){try{this.metrics.dials?.increment({outbound:!0});const r=e.remoteAddr.getPeerId();let s;r!=null&&(s=Ja(r),await Kr(this.shouldBlockConnection("denyOutboundConnection",s,e),n.signal));let a="outbound";return n.initiator===!1&&(a="inbound"),await this._performUpgrade(e,a,n)}catch(r){throw this.metrics.errors?.increment({outbound:!0}),this.metrics.outboundErrors?.increment({[r.name??"Error"]:!0}),r}}async _performUpgrade(e,n,r){let s,a,c,f,d;this.components.metrics?.trackMultiaddrConnection(e),e.log.trace("starting the %s connection upgrade",n);let p=e;if(r?.skipProtection!==!0){const g=this.components.connectionProtector;g!=null&&(e.log("protecting the %s connection",n),p=await g.protect(e,r))}try{if(s=p,r?.skipEncryption!==!0){r?.onProgress?.(new Yn(`upgrader:encrypt-${n}-connection`)),{conn:s,remotePeer:a,protocol:d,streamMuxer:f}=await(n==="inbound"?this._encryptInbound(p,r):this._encryptOutbound(p,r));const g={...p,...s};await this.shouldBlockConnection(n==="inbound"?"denyInboundEncryptedConnection":"denyOutboundEncryptedConnection",a,g)}else{const g=e.remoteAddr.getPeerId();if(g==null)throw new B0(`${n} connection that skipped encryption must have a peer id`);const y=Ja(g);d="native",a=y}if(a.equals(this.components.peerId)){const g=new VA("Can not dial self");throw e.abort(g),g}if(c=s,r?.muxerFactory!=null)f=r.muxerFactory;else if(f==null&&this.streamMuxers.size>0){r?.onProgress?.(new Yn(`upgrader:multiplex-${n}-connection`));const g=await(n==="inbound"?this._multiplexInbound({...p,...s},this.streamMuxers,r):this._multiplexOutbound({...p,...s},this.streamMuxers,r));f=g.muxerFactory,c=g.stream}}catch(g){throw e.log.error("failed to upgrade inbound connection %s %a - %e",n==="inbound"?"from":"to",e.remoteAddr,g),g}return await this.shouldBlockConnection(n==="inbound"?"denyInboundUpgradedConnection":"denyOutboundUpgradedConnection",a,e),e.log("successfully upgraded %s connection",n),this._createConnection({cryptoProtocol:d,direction:n,maConn:e,upgradedConn:c,muxerFactory:f,remotePeer:a,limits:r?.limits})}_createConnection(e){const{cryptoProtocol:n,direction:r,maConn:s,upgradedConn:a,remotePeer:c,muxerFactory:f,limits:d}=e;let p,g,y;f!=null&&(p=f.createStreamMuxer({direction:r,onIncomingStream:v=>{if(y==null)return;const S=AbortSignal.timeout(this.inboundStreamProtocolNegotiationTimeout);Promise.resolve().then(async()=>{const E=this.components.registrar.getProtocols(),{stream:C,protocol:k}=await Py(v,E,{signal:S,log:v.log,yieldBytes:!1});if(y==null)return;y.log("incoming stream opened on %s",k);const A=PF(k,this.components.registrar);if(Wx(k,"inbound",y)===A){const R=new uN(`Too many inbound protocol streams for protocol "${k}" - limit ${A}`);throw v.abort(R),R}v.source=C.source,v.sink=C.sink,v.protocol=k,C.closeWrite!=null&&(v.closeWrite=C.closeWrite),C.closeRead!=null&&(v.closeRead=C.closeRead),C.close!=null&&(v.close=C.close),await this.components.peerStore.merge(c,{protocols:[k]},{signal:S}),this.components.metrics?.trackProtocolStream(v,y),this._onStream({connection:y,stream:v,protocol:k})}).catch(async E=>{y.log.error("error handling incoming stream id %s - %e",v.id,E),v.timeline.close==null&&await v.close({signal:S}).catch(C=>v.abort(C))})}}),g=async(v,S={})=>{if(p==null)throw new vd("Connection is not multiplexed");y.log.trace("starting new stream for protocols %s",v);const E=await p.newStream();y.log.trace("started new stream %s for protocols %s",E.id,v);try{if(S.signal==null){E.log("no abort signal was passed while trying to negotiate protocols %s falling back to default timeout",v);const R=AbortSignal.timeout(this.outboundStreamProtocolNegotiationTimeout);S={...S,signal:R}}E.log.trace("selecting protocol from protocols %s",v);const{stream:C,protocol:k}=await Iy(E,v,{...S,log:E.log,yieldBytes:!0});E.log.trace("selected protocol %s",k);const A=$F(k,this.components.registrar,S),T=Wx(k,"outbound",y);if(T>=A){const R=new fN(`Too many outbound protocol streams for protocol "${k}" - ${T}/${A}`);throw E.abort(R),R}return await this.components.peerStore.merge(c,{protocols:[k]}),E.source=C.source,E.sink=C.sink,E.protocol=k,C.closeWrite!=null&&(E.closeWrite=C.closeWrite),C.closeRead!=null&&(E.closeRead=C.closeRead),C.close!=null&&(E.close=C.close),this.components.metrics?.trackProtocolStream(E,y),E}catch(C){throw y.log.error("could not create new outbound stream on connection %s %a for protocols %s - %e",r==="inbound"?"from":"to",e.maConn.remoteAddr,v,C),E.timeline.close==null&&E.abort(C),C}},Promise.all([p.sink(a.source),a.sink(p.source)]).catch(v=>{y.log.error("error piping data through muxer - %e",v)}));const b=s.timeline;s.timeline=new Proxy(b,{set:(...v)=>(v[1]==="close"&&v[2]!=null&&b.close==null&&(async()=>{try{y.status==="open"&&await y.close()}catch(S){y.log.error("error closing connection after timeline close %e",S)}finally{this.events.safeDispatchEvent("connection:close",{detail:y})}})().catch(S=>{y.log.error("error thrown while dispatching connection:close event %e",S)}),Reflect.set(...v))}),s.timeline.upgraded=Date.now();const w=()=>{throw new vd("Connection is not multiplexed")};return y=IF({remoteAddr:s.remoteAddr,remotePeer:c,status:"open",direction:r,timeline:s.timeline,multiplexer:p?.protocol,encryption:n,limits:d,logger:this.components.logger,newStream:g??w,getStreams:()=>p?.streams??[],close:async v=>{await p?.close(v),await s.close(v)},abort:v=>{s.abort(v),p?.abort(v)}}),this.events.safeDispatchEvent("connection:open",{detail:y}),y.__maConnTimeline=b,y}_onStream(e){const{connection:n,stream:r,protocol:s}=e,{handler:a,options:c}=this.components.registrar.getHandler(s);if(n.limits!=null&&c.runOnLimitedConnection!==!0)throw new GA("Cannot open protocol stream on limited connection");a({connection:n,stream:r})}async _encryptInbound(e,n){const r=Array.from(this.connectionEncrypters.keys());try{const{stream:s,protocol:a}=await Py(e,r,{...n,log:e.log}),c=this.connectionEncrypters.get(a);if(c==null)throw new wd(`no crypto module found for ${a}`);return e.log("encrypting inbound connection to %a using %s",e.remoteAddr,a),{...await c.secureInbound(s,n),protocol:a}}catch(s){throw e.log.error("encrypting inbound connection from %a failed",e.remoteAddr,s),new wd(s.message)}}async _encryptOutbound(e,n){const r=Array.from(this.connectionEncrypters.keys());try{e.log.trace("selecting encrypter from %s",r);const{stream:s,protocol:a}=await Iy(e,r,{...n,log:e.log,yieldBytes:!0}),c=this.connectionEncrypters.get(a);if(c==null)throw new wd(`no crypto module found for ${a}`);return e.log("encrypting outbound connection to %a using %s",e.remoteAddr,a),{...await c.secureOutbound(s,n),protocol:a}}catch(s){throw e.log.error("encrypting outbound connection to %a failed",e.remoteAddr,s),new wd(s.message)}}async _multiplexOutbound(e,n,r){const s=Array.from(n.keys());e.log("outbound selecting muxer %s",s);try{e.log.trace("selecting stream muxer from %s",s);const{stream:a,protocol:c}=await Iy(e,s,{...r,log:e.log,yieldBytes:!0});e.log("selected %s as muxer protocol",c);const f=n.get(c);return{stream:a,muxerFactory:f}}catch(a){throw e.log.error("error multiplexing outbound connection",a),new vd(String(a))}}async _multiplexInbound(e,n,r){const s=Array.from(n.keys());e.log("inbound handling muxers %s",s);try{const{stream:a,protocol:c}=await Py(e,s,{...r,log:e.log}),f=n.get(c);return{stream:a,muxerFactory:f}}catch(a){throw e.log.error("error multiplexing inbound connection",a),new vd(String(a))}}getConnectionEncrypters(){return this.connectionEncrypters}getStreamMuxers(){return this.streamMuxers}}const b3="2.9.0",v3="js-libp2p";function zF(t,e){return`${t??v3}/${e??b3} browser/${globalThis.navigator.userAgent}`}class FF extends Xa{peerId;peerStore;contentRouting;peerRouting;metrics;services;logger;status;components;log;constructor(e){super(),this.status="stopped";const n=new Xa,r=n.dispatchEvent.bind(n);n.dispatchEvent=p=>{const g=r(p),y=this.dispatchEvent(new CustomEvent(p.type,{detail:p.detail}));return g||y},this.peerId=e.peerId,this.logger=e.logger??CT(),this.log=this.logger.forComponent("libp2p"),this.services={};const s=e.nodeInfo?.name??v3,a=e.nodeInfo?.version??b3,c=this.components=n7({peerId:e.peerId,privateKey:e.privateKey,nodeInfo:{name:s,version:a,userAgent:e.nodeInfo?.userAgent??zF(s,a)},logger:this.logger,events:n,datastore:e.datastore??new iz,connectionGater:c7(e.connectionGater),dns:e.dns});e.metrics!=null&&(this.metrics=this.configureComponent("metrics",e.metrics(this.components))),this.peerStore=this.configureComponent("peerStore",Q9(c,{addressFilter:this.components.connectionGater.filterMultiaddrForPeer,...e.peerStore})),c.events.addEventListener("peer:update",p=>{if(p.detail.previous==null){const g={id:p.detail.peer.id,multiaddrs:p.detail.peer.addresses.map(y=>y.multiaddr)};c.events.safeDispatchEvent("peer:discovery",{detail:g})}}),e.connectionProtector!=null&&this.configureComponent("connectionProtector",e.connectionProtector(c)),this.components.upgrader=new UF(this.components,{connectionEncrypters:(e.connectionEncrypters??[]).map((p,g)=>this.configureComponent(`connection-encryption-${g}`,p(this.components))),streamMuxers:(e.streamMuxers??[]).map((p,g)=>this.configureComponent(`stream-muxers-${g}`,p(this.components))),inboundUpgradeTimeout:e.connectionManager?.inboundUpgradeTimeout,inboundStreamProtocolNegotiationTimeout:e.connectionManager?.inboundStreamProtocolNegotiationTimeout??e.connectionManager?.protocolNegotiationTimeout,outboundStreamProtocolNegotiationTimeout:e.connectionManager?.outboundStreamProtocolNegotiationTimeout??e.connectionManager?.protocolNegotiationTimeout}),this.configureComponent("transportManager",new xF(this.components,e.transportManager)),this.configureComponent("connectionManager",new J7(this.components,e.connectionManager)),e.connectionMonitor?.enabled!==!1&&this.configureComponent("connectionMonitor",new hF(this.components,e.connectionMonitor)),this.configureComponent("registrar",new EF(this.components)),this.configureComponent("addressManager",new zz(this.components,e.addresses));const f=(e.peerRouters??[]).map((p,g)=>this.configureComponent(`peer-router-${g}`,p(this.components)));this.peerRouting=this.components.peerRouting=this.configureComponent("peerRouting",new wF(this.components,{routers:f}));const d=(e.contentRouters??[]).map((p,g)=>this.configureComponent(`content-router-${g}`,p(this.components)));if(this.contentRouting=this.components.contentRouting=this.configureComponent("contentRouting",new bF(this.components,{routers:d})),this.configureComponent("randomWalk",new SF(this.components)),(e.peerDiscovery??[]).forEach((p,g)=>{this.configureComponent(`peer-discovery-${g}`,p(this.components)).addEventListener("peer",b=>{this.#e(b)})}),e.transports?.forEach((p,g)=>{this.components.transportManager.add(this.configureComponent(`transport-${g}`,p(this.components)))}),e.services!=null)for(const p of Object.keys(e.services)){const g=e.services[p],y=g(this.components);if(y==null){this.log.error("service factory %s returned null or undefined instance",p);continue}this.services[p]=y,this.configureComponent(p,y),y[_2]!=null&&(this.log("registering service %s for content routing",p),d.push(y[_2])),y[R2]!=null&&(this.log("registering service %s for peer routing",p),f.push(y[R2])),y[T2]!=null&&(this.log("registering service %s for peer discovery",p),y[T2].addEventListener?.("peer",b=>{this.#e(b)}))}r7(c)}configureComponent(e,n){return n==null&&this.log.error("component %s was null or undefined",e),this.components[e]=n,n}async start(){if(this.status==="stopped"){this.status="starting",this.log("libp2p is starting");try{await this.components.beforeStart?.(),await this.components.start(),await this.components.afterStart?.(),this.status="started",this.safeDispatchEvent("start",{detail:this}),this.log("libp2p has started")}catch(e){throw this.log.error("An error occurred starting libp2p",e),this.status="started",await this.stop(),e}}}async stop(){this.status==="started"&&(this.log("libp2p is stopping"),this.status="stopping",await this.components.beforeStop?.(),await this.components.stop(),await this.components.afterStop?.(),this.status="stopped",this.safeDispatchEvent("stop",{detail:this}),this.log("libp2p has stopped"))}getConnections(e){return this.components.connectionManager.getConnections(e)}getDialQueue(){return this.components.connectionManager.getDialQueue()}getPeers(){const e=new za;for(const n of this.components.connectionManager.getConnections())e.add(n.remotePeer);return Array.from(e)}async dial(e,n={}){return this.components.connectionManager.openConnection(e,{priority:75,...n})}async dialProtocol(e,n,r={}){if(n==null)throw new bt("no protocols were provided to open a stream");if(n=Array.isArray(n)?n:[n],n.length===0)throw new bt("no protocols were provided to open a stream");return(await this.dial(e,r)).newStream(n,r)}getMultiaddrs(){return this.components.addressManager.getAddresses()}getProtocols(){return this.components.registrar.getProtocols()}async hangUp(e,n={}){Tu(e)&&(e=Ja(e.getPeerId()??"")),await this.components.connectionManager.closeConnections(e,n)}async getPublicKey(e,n={}){if(this.log("getPublicKey %p",e),e.publicKey!=null)return e.publicKey;try{const c=await this.peerStore.get(e,n);if(c.id.publicKey!=null)return c.id.publicKey}catch(c){if(c.name!=="NotFoundError")throw c}const r=wo([Pe("/pk/"),e.toMultihash().bytes]),s=await this.contentRouting.get(r,n),a=Za(s);return await this.peerStore.patch(e,{publicKey:a},n),a}async handle(e,n,r){Array.isArray(e)||(e=[e]),await Promise.all(e.map(async s=>{await this.components.registrar.handle(s,n,r)}))}async unhandle(e,n){Array.isArray(e)||(e=[e]),await Promise.all(e.map(async r=>{await this.components.registrar.unhandle(r,n)}))}async register(e,n,r){return this.components.registrar.register(e,n,r)}unregister(e){this.components.registrar.unregister(e)}async isDialable(e,n={}){return this.components.connectionManager.isDialable(e,n)}#e(e){const{detail:n}=e;if(n.id.toString()===this.peerId.toString()){this.log.error("peer discovery mechanism discovered self");return}this.components.peerStore.merge(n.id,{multiaddrs:n.multiaddrs}).catch(r=>{this.log.error(r)})}}async function qF(t={}){t.privateKey??=await r$();const e=new FF({...await $U(t),peerId:l$(t.privateKey)});return t.start!==!1&&await e.start(),e}const HF=[Hi,Cu,_u,Au,hl];function Qx(t){return w3("sni",t)?.value}function Zx(t){const e=w3("tcp",t)?.value;return e==null?"":`:${e}`}function w3(t,e){return e.find(n=>n.name===t)}function Jx(t){return t.some(({code:e})=>e===$a)}function zr(t,e){const n=S3[t.name];if(n==null)throw new Error(`Can't interpret protocol ${t.name}`);const r=n(t,e);return t.code===ji?`[${r}]`:r}const S3={ip4:(t,e)=>t.value,ip6:(t,e)=>e.length===0?t.value:`[${t.value}]`,tcp:(t,e)=>{const n=e.pop();if(n==null)throw new Error("Unexpected end of multiaddr");return`tcp://${zr(n,e)}:${t.value}`},udp:(t,e)=>{const n=e.pop();if(n==null)throw new Error("Unexpected end of multiaddr");return`udp://${zr(n,e)}:${t.value}`},dnsaddr:(t,e)=>t.value,dns4:(t,e)=>t.value,dns6:(t,e)=>t.value,dns:(t,e)=>t.value,ipfs:(t,e)=>{const n=e.pop();if(n==null)throw new Error("Unexpected end of multiaddr");return`${zr(n,e)}`},p2p:(t,e)=>{const n=e.pop();if(n==null)throw new Error("Unexpected end of multiaddr");return`${zr(n,e)}`},http:(t,e)=>{const n=Jx(e),r=Qx(e),s=Zx(e);if(n&&r!=null)return`https://${r}${s}`;const a=n?"https://":"http://",c=e.pop();if(c==null)throw new Error("Unexpected end of multiaddr");let f=zr(c,e);return f=f?.replace("tcp://",""),`${a}${f}`},"http-path":(t,e)=>{const n=e.pop();if(n==null)throw new Error("Unexpected end of multiaddr");const r=zr(n,e),s=decodeURIComponent(t.value??"");return`${r}${s}`},tls:(t,e)=>{const n=e.pop();if(n==null)throw new Error("Unexpected end of multiaddr");return zr(n,e)},sni:(t,e)=>{const n=e.pop();if(n==null)throw new Error("Unexpected end of multiaddr");return zr(n,e)},https:(t,e)=>{const n=e.pop();if(n==null)throw new Error("Unexpected end of multiaddr");let r=zr(n,e);return r=r?.replace("tcp://",""),`https://${r}`},ws:(t,e)=>{const n=Jx(e),r=Qx(e),s=Zx(e);if(n&&r!=null)return`wss://${r}${s}`;const a=n?"wss://":"ws://",c=e.pop();if(c==null)throw new Error("Unexpected end of multiaddr");let f=zr(c,e);return f=f?.replace("tcp://",""),`${a}${f}`},wss:(t,e)=>{const n=e.pop();if(n==null)throw new Error("Unexpected end of multiaddr");let r=zr(n,e);return r=r?.replace("tcp://",""),`wss://${r}`}};function jF(t,e){const r=_t(t).getComponents(),s=r.pop();if(s==null)throw new Error("Unexpected end of multiaddr");const a=S3[s.name];if(a==null)throw new Error(`No interpreter found for ${s.name}`);let c=a(s,r)??"";return HF.includes(s.code)&&(c=c.replace(/^.*:\/\//,""),s.value==="443"?c=`https://${c}`:c=`http://${c}`),(c.startsWith("http://")||c.startsWith("https://")||c.startsWith("ws://")||c.startsWith("wss://"))&&(c=new URL(c).toString(),c.endsWith("/")&&(c=c.substring(0,c.length-1))),c}const VF=async t=>{if(t.readyState>=2)throw new Error("socket closed");t.readyState!==1&&await new Promise((e,n)=>{function r(){t.removeEventListener("open",s),t.removeEventListener("error",a)}function s(){r(),e()}function a(c){r(),n(c.error??new Error(`connect ECONNREFUSED ${t.url}`))}t.addEventListener("open",s),t.addEventListener("error",a)})},KF=(t,e)=>(e=e??{},e.closeOnEnd=e.closeOnEnd!==!1,async r=>{for await(const s of r){try{await VF(t)}catch(a){if(a.message==="socket closed")break;throw a}if(t.readyState===t.CLOSING||t.readyState===t.CLOSED)break;t.send(s)}e.closeOnEnd!=null&&t.readyState<=1&&await new Promise((s,a)=>{t.addEventListener("close",c=>{if(c.wasClean||c.code===1006)s();else{const f=Object.assign(new Error("ws error"),{event:c});a(f)}}),setTimeout(()=>{t.close()})})});var Ra={},_c={},eC;function GF(){if(eC)return _c;eC=1,Object.defineProperty(_c,"__esModule",{value:!0});class t{constructor(){this.pullQueue=[],this.pushQueue=[],this.eventHandlers={},this.isPaused=!1,this.isStopped=!1}push(r){if(this.isStopped)return;const s={value:r,done:!1};if(this.pullQueue.length){const a=this.pullQueue.shift();a&&a.resolve(s)}else this.pushQueue.push(Promise.resolve(s)),this.highWaterMark!==void 0&&this.pushQueue.length>=this.highWaterMark&&!this.isPaused&&(this.isPaused=!0,this.eventHandlers.highWater?this.eventHandlers.highWater():console&&console.warn(`EventIterator queue reached ${this.pushQueue.length} items`))}stop(){if(!this.isStopped){this.isStopped=!0,this.remove();for(const r of this.pullQueue)r.resolve({value:void 0,done:!0});this.pullQueue.length=0}}fail(r){if(!this.isStopped)if(this.isStopped=!0,this.remove(),this.pullQueue.length){for(const s of this.pullQueue)s.reject(r);this.pullQueue.length=0}else{const s=Promise.reject(r);s.catch(()=>{}),this.pushQueue.push(s)}}remove(){Promise.resolve().then(()=>{this.removeCallback&&this.removeCallback()})}[Symbol.asyncIterator](){return{next:r=>{const s=this.pushQueue.shift();return s?(this.lowWaterMark!==void 0&&this.pushQueue.length<=this.lowWaterMark&&this.isPaused&&(this.isPaused=!1,this.eventHandlers.lowWater&&this.eventHandlers.lowWater()),s):this.isStopped?Promise.resolve({value:void 0,done:!0}):new Promise((a,c)=>{this.pullQueue.push({resolve:a,reject:c})})},return:()=>(this.isStopped=!0,this.pushQueue.length=0,this.remove(),Promise.resolve({value:void 0,done:!0}))}}}class e{constructor(r,{highWaterMark:s=100,lowWaterMark:a=1}={}){const c=new t;c.highWaterMark=s,c.lowWaterMark=a,c.removeCallback=r({push:f=>c.push(f),stop:()=>c.stop(),fail:f=>c.fail(f),on:(f,d)=>{c.eventHandlers[f]=d}})||(()=>{}),this[Symbol.asyncIterator]=()=>c[Symbol.asyncIterator](),Object.freeze(this)}}return _c.EventIterator=e,_c.default=e,_c}var tC;function YF(){if(tC)return Ra;tC=1,Object.defineProperty(Ra,"__esModule",{value:!0});const t=GF();Ra.EventIterator=t.EventIterator;function e(n,r,s){return new t.EventIterator(({push:a})=>(this.addEventListener(n,a,r),()=>this.removeEventListener(n,a,r)),s)}return Ra.subscribe=e,Ra.default=t.EventIterator,Ra}var XF=YF();function nC(t){return t instanceof ArrayBuffer||t?.constructor?.name==="ArrayBuffer"&&typeof t?.byteLength=="number"}const WF=t=>{t.binaryType="arraybuffer";const e=async()=>{await new Promise((a,c)=>{if(r){a();return}if(s!=null){c(s);return}const f=g=>{t.removeEventListener("open",d),t.removeEventListener("error",p),g()},d=()=>{f(a)},p=g=>{f(()=>{c(g.error??new Error(`connect ECONNREFUSED ${t.url}`))})};t.addEventListener("open",d),t.addEventListener("error",p)})},n=async function*(){const a=new XF.EventIterator(({push:c,stop:f,fail:d})=>{const p=y=>{let b=null;typeof y.data=="string"&&(b=Pe(y.data)),nC(y.data)&&(b=new Uint8Array(y.data)),y.data instanceof Uint8Array&&(b=y.data),b!=null&&c(b)},g=y=>{d(y.error??new Error("Socket error"))};return t.addEventListener("message",p),t.addEventListener("error",g),t.addEventListener("close",f),()=>{t.removeEventListener("message",p),t.removeEventListener("error",g),t.removeEventListener("close",f)}},{highWaterMark:1/0});await e();for await(const c of a)yield nC(c)?new Uint8Array(c):c}();let r=t.readyState===1,s;return t.addEventListener("open",()=>{r=!0,s=null}),t.addEventListener("close",()=>{r=!1,s=null}),t.addEventListener("error",a=>{r||(s=a.error??new Error(`connect ECONNREFUSED ${t.url}`))}),Object.assign(n,{connected:e})},QF=(t,e)=>{e=e??{};const n=WF(t);let r=e.remoteAddress,s=e.remotePort;if(t.url!=null)try{const c=new URL(t.url);r=c.hostname,s=parseInt(c.port,10)}catch{}if(r==null||s==null)throw new Error("Remote connection did not have address and/or port");return{sink:KF(t,e),source:n,connected:async()=>{await n.connected()},close:async()=>{(t.readyState===t.CONNECTING||t.readyState===t.OPEN)&&await new Promise(c=>{t.addEventListener("close",()=>{c()}),t.close()})},destroy:()=>{t.terminate!=null?t.terminate():t.close()},remoteAddress:r,remotePort:s,socket:t}},ZF=WebSocket,JF={"http:":"ws:","https:":"wss:"},rC="ws:",eq=(t,e)=>{if(t.startsWith("//")&&(t=`${e?.protocol??rC}${t}`),t.startsWith("/")&&e!=null){const r=e.protocol??rC,s=e.host,a=e.port!=null&&s?.endsWith(`:${e.port}`)!==!0?`:${e.port}`:"";t=`${r}//${s}${a}${t}`}const n=new URL(t);for(const[r,s]of Object.entries(JF))n.protocol===r&&(n.protocol=s);return n};function tq(t,e){const n=typeof window>"u"?void 0:window.location;e=e??{};const r=eq(t,n),s=new ZF(r.toString(),e.websocket);return QF(s,e)}function nq(t){return t.filter(e=>yh.exactMatch(e)||au.exactMatch(e))}function rq(){throw new Error("WebSocket Servers can not be created in the browser!")}const iq=500;function sq(t,e,n){const r=n.logger.forComponent("libp2p:websockets:maconn"),s=n.metrics,a=n.metricPrefix??"",c={log:r,async sink(f){try{await t.sink(async function*(){for await(const d of f)d instanceof Uint8Array?yield d:yield d.subarray()}())}catch(d){d.type!=="aborted"&&r.error(d)}},source:t.source,remoteAddr:e,timeline:{open:Date.now()},async close(f={}){const d=Date.now();if(f.signal==null){const g=AbortSignal.timeout(iq);f={...f,signal:g}}const p=()=>{const{host:g,port:y}=c.remoteAddr.toOptions();r("timeout closing stream to %s:%s after %dms, destroying it manually",g,y,Date.now()-d),this.abort(new Ya("Socket close timeout"))};f.signal?.addEventListener("abort",p);try{await t.close()}catch(g){r.error("error closing WebSocket gracefully",g),this.abort(g)}finally{f.signal?.removeEventListener("abort",p),c.timeline.close=Date.now()}},abort(f){const{host:d,port:p}=c.remoteAddr.toOptions();r("timeout closing stream to %s:%s due to error",d,p,f),t.destroy(),c.timeline.close=Date.now(),s?.increment({[`${a}error`]:!0})}};return t.socket.addEventListener("close",()=>{s?.increment({[`${a}close`]:!0}),c.timeline.close==null&&(c.timeline.close=Date.now())},{once:!0}),c}let oq=class{log;init;logger;metrics;components;constructor(e,n={}){this.log=e.logger.forComponent("libp2p:websockets"),this.logger=e.logger,this.components=e,this.init=n,e.metrics!=null&&(this.metrics={dialerEvents:e.metrics.registerCounterGroup("libp2p_websockets_dialer_events_total",{label:"event",help:"Total count of WebSockets dialer events by type"})})}[tN]=!0;[Symbol.toStringTag]="@libp2p/websockets";[Jc]=["@libp2p/transport"];async dial(e,n){this.log("dialing %s",e),n=n??{};const r=await this._connect(e,n),s=sq(r,e,{logger:this.logger,metrics:this.metrics?.dialerEvents});this.log("new outbound connection %s",s.remoteAddr);const a=await n.upgrader.upgradeOutbound(s,n);return this.log("outbound connection %s upgraded",s.remoteAddr),a}async _connect(e,n){n?.signal?.throwIfAborted();const r=e.toOptions();this.log("dialing %s:%s",r.host,r.port);const s=Gt(),a=tq(jF(e),this.init);a.socket.addEventListener("error",()=>{const c=new sN(`Could not connect to ${e.toString()}`);this.log.error("connection error:",c),this.metrics?.dialerEvents.increment({error:!0}),s.reject(c)});try{n.onProgress?.(new Yn("websockets:open-connection")),await Kr(Promise.race([a.connected(),s.promise]),n.signal)}catch(c){throw n.signal?.aborted&&this.metrics?.dialerEvents.increment({abort:!0}),a.close().catch(f=>{this.log.error("error closing raw socket",f)}),c}return this.log("connected %s",e),this.metrics?.dialerEvents.increment({connect:!0}),a}createListener(e){return rq({logger:this.logger,events:this.components.events,metrics:this.components.metrics},{...this.init,...e})}listenFilter(e){return e=Array.isArray(e)?e:[e],this.init?.filter!=null?this.init?.filter(e):nq(e)}dialFilter(e){return this.listenFilter(e)}};function aq(t={}){return e=>new oq(e,t)}var Ed={exports:{}},$y,iC;function lq(){if(iC)return $y;iC=1;var t=1e3,e=t*60,n=e*60,r=n*24,s=r*7,a=r*365.25;$y=function(g,y){y=y||{};var b=typeof g;if(b==="string"&&g.length>0)return c(g);if(b==="number"&&isFinite(g))return y.long?d(g):f(g);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(g))};function c(g){if(g=String(g),!(g.length>100)){var y=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(g);if(y){var b=parseFloat(y[1]),w=(y[2]||"ms").toLowerCase();switch(w){case"years":case"year":case"yrs":case"yr":case"y":return b*a;case"weeks":case"week":case"w":return b*s;case"days":case"day":case"d":return b*r;case"hours":case"hour":case"hrs":case"hr":case"h":return b*n;case"minutes":case"minute":case"mins":case"min":case"m":return b*e;case"seconds":case"second":case"secs":case"sec":case"s":return b*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return b;default:return}}}}function f(g){var y=Math.abs(g);return y>=r?Math.round(g/r)+"d":y>=n?Math.round(g/n)+"h":y>=e?Math.round(g/e)+"m":y>=t?Math.round(g/t)+"s":g+"ms"}function d(g){var y=Math.abs(g);return y>=r?p(g,y,r,"day"):y>=n?p(g,y,n,"hour"):y>=e?p(g,y,e,"minute"):y>=t?p(g,y,t,"second"):g+" ms"}function p(g,y,b,w){var v=y>=b*1.5;return Math.round(g/b)+" "+w+(v?"s":"")}return $y}var Uy,sC;function cq(){if(sC)return Uy;sC=1;function t(e){r.debug=r,r.default=r,r.coerce=p,r.disable=f,r.enable=a,r.enabled=d,r.humanize=lq(),r.destroy=g,Object.keys(e).forEach(y=>{r[y]=e[y]}),r.names=[],r.skips=[],r.formatters={};function n(y){let b=0;for(let w=0;w<y.length;w++)b=(b<<5)-b+y.charCodeAt(w),b|=0;return r.colors[Math.abs(b)%r.colors.length]}r.selectColor=n;function r(y){let b,w=null,v,S;function E(...C){if(!E.enabled)return;const k=E,A=Number(new Date),T=A-(b||A);k.diff=T,k.prev=b,k.curr=A,b=A,C[0]=r.coerce(C[0]),typeof C[0]!="string"&&C.unshift("%O");let R=0;C[0]=C[0].replace(/%([a-zA-Z%])/g,($,j)=>{if($==="%%")return"%";R++;const P=r.formatters[j];if(typeof P=="function"){const G=C[R];$=P.call(k,G),C.splice(R,1),R--}return $}),r.formatArgs.call(k,C),(k.log||r.log).apply(k,C)}return E.namespace=y,E.useColors=r.useColors(),E.color=r.selectColor(y),E.extend=s,E.destroy=r.destroy,Object.defineProperty(E,"enabled",{enumerable:!0,configurable:!1,get:()=>w!==null?w:(v!==r.namespaces&&(v=r.namespaces,S=r.enabled(y)),S),set:C=>{w=C}}),typeof r.init=="function"&&r.init(E),E}function s(y,b){const w=r(this.namespace+(typeof b>"u"?":":b)+y);return w.log=this.log,w}function a(y){r.save(y),r.namespaces=y,r.names=[],r.skips=[];const b=(typeof y=="string"?y:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(const w of b)w[0]==="-"?r.skips.push(w.slice(1)):r.names.push(w)}function c(y,b){let w=0,v=0,S=-1,E=0;for(;w<y.length;)if(v<b.length&&(b[v]===y[w]||b[v]==="*"))b[v]==="*"?(S=v,E=w,v++):(w++,v++);else if(S!==-1)v=S+1,E++,w=E;else return!1;for(;v<b.length&&b[v]==="*";)v++;return v===b.length}function f(){const y=[...r.names,...r.skips.map(b=>"-"+b)].join(",");return r.enable(""),y}function d(y){for(const b of r.skips)if(c(y,b))return!1;for(const b of r.names)if(c(y,b))return!0;return!1}function p(y){return y instanceof Error?y.stack||y.message:y}function g(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}return Uy=t,Uy}var oC;function uq(){return oC||(oC=1,function(t,e){var n={};e.formatArgs=s,e.save=a,e.load=c,e.useColors=r,e.storage=f(),e.destroy=(()=>{let p=!1;return()=>{p||(p=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let p;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(p=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(p[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function s(p){if(p[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+p[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const g="color: "+this.color;p.splice(1,0,g,"color: inherit");let y=0,b=0;p[0].replace(/%[a-zA-Z%]/g,w=>{w!=="%%"&&(y++,w==="%c"&&(b=y))}),p.splice(b,0,g)}e.log=console.debug||console.log||(()=>{});function a(p){try{p?e.storage.setItem("debug",p):e.storage.removeItem("debug")}catch{}}function c(){let p;try{p=e.storage.getItem("debug")||e.storage.getItem("DEBUG")}catch{}return!p&&typeof process<"u"&&"env"in process&&(p=n.DEBUG),p}function f(){try{return localStorage}catch{}}t.exports=cq()(e);const{formatters:d}=t.exports;d.j=function(p){try{return JSON.stringify(p)}catch(g){return"[UnexpectedJSONParseError]: "+g.message}}}(Ed,Ed.exports)),Ed.exports}var fq=uq();const Cr=gi(fq);function dq(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var s=0;s<t.length;s++){var a=t.charAt(s),c=a.charCodeAt(0);if(n[c]!==255)throw new TypeError(a+" is ambiguous");n[c]=s}var f=t.length,d=t.charAt(0),p=Math.log(f)/Math.log(256),g=Math.log(256)/Math.log(f);function y(v){if(v instanceof Uint8Array||(ArrayBuffer.isView(v)?v=new Uint8Array(v.buffer,v.byteOffset,v.byteLength):Array.isArray(v)&&(v=Uint8Array.from(v))),!(v instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(v.length===0)return"";for(var S=0,E=0,C=0,k=v.length;C!==k&&v[C]===0;)C++,S++;for(var A=(k-C)*g+1>>>0,T=new Uint8Array(A);C!==k;){for(var R=v[C],I=0,$=A-1;(R!==0||I<E)&&$!==-1;$--,I++)R+=256*T[$]>>>0,T[$]=R%f>>>0,R=R/f>>>0;if(R!==0)throw new Error("Non-zero carry");E=I,C++}for(var j=A-E;j!==A&&T[j]===0;)j++;for(var P=d.repeat(S);j<A;++j)P+=t.charAt(T[j]);return P}function b(v){if(typeof v!="string")throw new TypeError("Expected String");if(v.length===0)return new Uint8Array;var S=0;if(v[S]!==" "){for(var E=0,C=0;v[S]===d;)E++,S++;for(var k=(v.length-S)*p+1>>>0,A=new Uint8Array(k);v[S];){var T=n[v.charCodeAt(S)];if(T===255)return;for(var R=0,I=k-1;(T!==0||R<C)&&I!==-1;I--,R++)T+=f*A[I]>>>0,A[I]=T%256>>>0,T=T/256>>>0;if(T!==0)throw new Error("Non-zero carry");C=R,S++}if(v[S]!==" "){for(var $=k-C;$!==k&&A[$]===0;)$++;for(var j=new Uint8Array(E+(k-$)),P=E;$!==k;)j[P++]=A[$++];return j}}}function w(v){var S=b(v);if(S)return S;throw new Error(`Non-${e} character`)}return{encode:y,decodeUnsafe:b,decode:w}}var hq=dq,pq=hq;const gq=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")};let mq=class{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},yq=class{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return E3(this,e)}},bq=class{constructor(e){this.decoders=e}or(e){return E3(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const E3=(t,e)=>new bq({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});let vq=class{constructor(e,n,r,s){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=s,this.encoder=new mq(e,n,r),this.decoder=new yq(e,n,s)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}};const x3=({name:t,prefix:e,encode:n,decode:r})=>new vq(t,e,n,r),C3=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:s}=pq(n,e);return x3({prefix:t,name:e,encode:r,decode:a=>gq(s(a))})},wq=(t,e,n,r)=>{const s={};for(let g=0;g<e.length;++g)s[e[g]]=g;let a=t.length;for(;t[a-1]==="=";)--a;const c=new Uint8Array(a*n/8|0);let f=0,d=0,p=0;for(let g=0;g<a;++g){const y=s[t[g]];if(y===void 0)throw new SyntaxError(`Non-${r} character`);d=d<<n|y,f+=n,f>=8&&(f-=8,c[p++]=255&d>>f)}if(f>=n||255&d<<8-f)throw new SyntaxError("Unexpected end of data");return c},Sq=(t,e,n)=>{const r=e[e.length-1]==="=",s=(1<<n)-1;let a="",c=0,f=0;for(let d=0;d<t.length;++d)for(f=f<<8|t[d],c+=8;c>n;)c-=n,a+=e[s&f>>c];if(c&&(a+=e[s&f<<n-c]),r)for(;a.length*n&7;)a+="=";return a},ur=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>x3({prefix:e,name:t,encode(s){return Sq(s,r,n)},decode(s){return wq(s,r,n,t)}}),Eq=C3({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"});C3({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});const xq=ur({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5});ur({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5});ur({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5});ur({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5});ur({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5});ur({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5});ur({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5});ur({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5});ur({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});const Cq=ur({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6});ur({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6});ur({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6});ur({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});Cr.formatters.b=t=>t==null?"undefined":Eq.baseEncode(t);Cr.formatters.t=t=>t==null?"undefined":xq.baseEncode(t);Cr.formatters.m=t=>t==null?"undefined":Cq.baseEncode(t);Cr.formatters.p=t=>t==null?"undefined":t.toString();Cr.formatters.c=t=>t==null?"undefined":t.toString();Cr.formatters.k=t=>t==null?"undefined":t.toString();Cr.formatters.a=t=>t==null?"undefined":t.toString();function Aq(t){const e=()=>{};return e.enabled=!1,e.color="",e.diff=0,e.log=()=>{},e.namespace=t,e.destroy=()=>!0,e.extend=()=>e,e}function pl(t){let e=Aq(`${t}:trace`);return Cr.enabled(`${t}:trace`)&&Cr.names.map(n=>n.toString()).find(n=>n.includes(":trace"))!=null&&(e=Cr(`${t}:trace`)),Object.assign(Cr(t),{error:Cr(`${t}:error`),trace:e})}var zy,aC;function _q(){if(aC)return zy;aC=1;function t(n,r){for(const s in r)Object.defineProperty(n,s,{value:r[s],enumerable:!0,configurable:!0});return n}function e(n,r,s){if(!n||typeof n=="string")throw new TypeError("Please pass an Error to err-code");s||(s={}),typeof r=="object"&&(s=r,r=""),r&&(s.code=r);try{return t(n,s)}catch{s.message=n.message,s.stack=n.stack;const c=function(){};return c.prototype=Object.create(Object.getPrototypeOf(n)),t(new c,s)}}return zy=e,zy}var Tq=_q();const Vr=gi(Tq);function Rq(t){if(t!=null){if(typeof t[Symbol.iterator]=="function")return t[Symbol.iterator]();if(typeof t[Symbol.asyncIterator]=="function")return t[Symbol.asyncIterator]();if(typeof t.next=="function")return t}throw new Error("argument is not an iterator or iterable")}let Sh=class extends Error{type;code;constructor(e,n,r){super(e??"The operation was aborted"),this.type="aborted",this.code=n??"ABORT_ERR",this.name=r??"AbortError"}};function lC(t,e,n){const r={},s=Rq(t);async function*a(){let c;const f=()=>{c?.()};for(e.addEventListener("abort",f);;){let d;try{if(e.aborted){const{abortMessage:g,abortCode:y,abortName:b}=r;throw new Sh(g,y,b)}const p=new Promise((g,y)=>{c=()=>{const{abortMessage:b,abortCode:w,abortName:v}=r;y(new Sh(b,w,v))}});d=await Promise.race([p,s.next()]),c=null}catch(p){e.removeEventListener("abort",f);const g=p.type==="aborted"&&e.aborted;if(g&&r.onAbort!=null&&r.onAbort(t),typeof s.return=="function")try{const y=s.return();y instanceof Promise&&y.catch(b=>{r.onReturnError!=null&&r.onReturnError(b)})}catch(y){r.onReturnError!=null&&r.onReturnError(y)}if(g&&r.returnOnAbort===!0)return;throw p}if(d.done===!0)break;yield d.value}e.removeEventListener("abort",f)}return a()}const Oq=ue("dns4"),Mq=ue("dns6"),Dq=ue("dnsaddr"),Ro=Xt(ue("dns"),Dq,Oq,Mq),bp=Xt(ue("ip4"),ue("ip6")),al=Xt(xe(bp,ue("tcp")),xe(Ro,ue("tcp"))),vp=xe(bp,ue("udp")),kq=xe(vp,ue("utp")),Lq=xe(vp,ue("quic")),Nq=xe(vp,ue("quic-v1")),zb=Xt(xe(al,ue("ws")),xe(Ro,ue("ws"))),Eh=Xt(xe(zb,ue("p2p")),zb),Fb=Xt(xe(al,ue("wss")),xe(Ro,ue("wss")),xe(al,ue("tls"),ue("ws")),xe(Ro,ue("tls"),ue("ws"))),xh=Xt(xe(Fb,ue("p2p")),Fb),qb=Xt(xe(al,ue("http")),xe(bp,ue("http")),xe(Ro,ue("http"))),Hb=Xt(xe(al,ue("https")),xe(bp,ue("https")),xe(Ro,ue("https"))),cC=xe(vp,ue("webrtc-direct"),ue("certhash")),A3=Xt(xe(cC,ue("p2p")),cC),uC=xe(Nq,ue("webtransport"),ue("certhash"),ue("certhash")),_3=Xt(xe(uC,ue("p2p")),uC),mv=Xt(xe(Eh,ue("p2p-webrtc-star"),ue("p2p")),xe(xh,ue("p2p-webrtc-star"),ue("p2p")),xe(Eh,ue("p2p-webrtc-star")),xe(xh,ue("p2p-webrtc-star")));Xt(xe(Eh,ue("p2p-websocket-star"),ue("p2p")),xe(xh,ue("p2p-websocket-star"),ue("p2p")),xe(Eh,ue("p2p-websocket-star")),xe(xh,ue("p2p-websocket-star")));const T3=Xt(xe(qb,ue("p2p-webrtc-direct"),ue("p2p")),xe(Hb,ue("p2p-webrtc-direct"),ue("p2p")),xe(qb,ue("p2p-webrtc-direct")),xe(Hb,ue("p2p-webrtc-direct"))),Oo=Xt(zb,Fb,qb,Hb,mv,T3,al,kq,Lq,Ro,A3,_3);Xt(xe(Oo,ue("p2p-stardust"),ue("p2p")),xe(Oo,ue("p2p-stardust")));const Cs=Xt(xe(Oo,ue("p2p")),mv,T3,A3,_3,ue("p2p")),fC=Xt(xe(Cs,ue("p2p-circuit"),Cs),xe(Cs,ue("p2p-circuit")),xe(ue("p2p-circuit"),Cs),xe(Oo,ue("p2p-circuit")),xe(ue("p2p-circuit"),Oo),ue("p2p-circuit")),R3=()=>Xt(xe(fC,R3),fC),ao=R3();Xt(xe(ao,Cs,ao),xe(Cs,ao),xe(ao,Cs),ao,Cs);Xt(xe(ao,ue("webrtc"),ue("p2p")),xe(ao,ue("webrtc")),xe(Oo,ue("webrtc"),ue("p2p")),xe(Oo,ue("webrtc")),ue("webrtc"));function O3(t){function e(n){let r;try{r=_t(n)}catch{return!1}const s=t(r.protoNames());return s===null?!1:s===!0||s===!1?s:s.length===0}return e}function xe(...t){function e(n){if(n.length<t.length)return null;let r=n;return t.some(s=>(r=typeof s=="function"?s().partialMatch(n):s.partialMatch(n),Array.isArray(r)&&(n=r),r===null)),r}return{toString:function(){return"{ "+t.join(" ")+" }"},input:t,matches:O3(e),partialMatch:e}}function Xt(...t){function e(r){let s=null;return t.some(a=>{const c=typeof a=="function"?a().partialMatch(r):a.partialMatch(r);return c!=null?(s=c,!0):!1}),s}return{toString:function(){return"{ "+t.join(" ")+" }"},input:t,matches:O3(e),partialMatch:e}}function ue(t){const e=t;function n(s){let a;try{a=_t(s)}catch{return!1}const c=a.protoNames();return c.length===1&&c[0]===e}function r(s){return s.length===0?null:s[0]===e?s.slice(1):null}return{toString:function(){return e},matches:n,partialMatch:r}}const dC=421,Bq=290,Iq=2e3,pi=Object.create(null);pi.open="0";pi.close="1";pi.ping="2";pi.pong="3";pi.message="4";pi.upgrade="5";pi.noop="6";const Bd=Object.create(null);Object.keys(pi).forEach(t=>{Bd[pi[t]]=t});const jb={type:"error",data:"parser error"},M3=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",D3=typeof ArrayBuffer=="function",k3=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,yv=({type:t,data:e},n,r)=>M3&&e instanceof Blob?n?r(e):hC(e,r):D3&&(e instanceof ArrayBuffer||k3(e))?n?r(e):hC(new Blob([e]),r):r(pi[t]+(e||"")),hC=(t,e)=>{const n=new FileReader;return n.onload=function(){const r=n.result.split(",")[1];e("b"+(r||""))},n.readAsDataURL(t)};function pC(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let Fy;function Pq(t,e){if(M3&&t.data instanceof Blob)return t.data.arrayBuffer().then(pC).then(e);if(D3&&(t.data instanceof ArrayBuffer||k3(t.data)))return e(pC(t.data));yv(t,!1,n=>{Fy||(Fy=new TextEncoder),e(Fy.encode(n))})}const gC="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Pc=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<gC.length;t++)Pc[gC.charCodeAt(t)]=t;const $q=t=>{let e=t.length*.75,n=t.length,r,s=0,a,c,f,d;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);const p=new ArrayBuffer(e),g=new Uint8Array(p);for(r=0;r<n;r+=4)a=Pc[t.charCodeAt(r)],c=Pc[t.charCodeAt(r+1)],f=Pc[t.charCodeAt(r+2)],d=Pc[t.charCodeAt(r+3)],g[s++]=a<<2|c>>4,g[s++]=(c&15)<<4|f>>2,g[s++]=(f&3)<<6|d&63;return p},Uq=typeof ArrayBuffer=="function",bv=(t,e)=>{if(typeof t!="string")return{type:"message",data:L3(t,e)};const n=t.charAt(0);return n==="b"?{type:"message",data:zq(t.substring(1),e)}:Bd[n]?t.length>1?{type:Bd[n],data:t.substring(1)}:{type:Bd[n]}:jb},zq=(t,e)=>{if(Uq){const n=$q(t);return L3(n,e)}else return{base64:!0,data:t}},L3=(t,e)=>{switch(e){case"blob":return t instanceof Blob?t:new Blob([t]);case"arraybuffer":default:return t instanceof ArrayBuffer?t:t.buffer}},N3="",Fq=(t,e)=>{const n=t.length,r=new Array(n);let s=0;t.forEach((a,c)=>{yv(a,!1,f=>{r[c]=f,++s===n&&e(r.join(N3))})})},qq=(t,e)=>{const n=t.split(N3),r=[];for(let s=0;s<n.length;s++){const a=bv(n[s],e);if(r.push(a),a.type==="error")break}return r};function Hq(){return new TransformStream({transform(t,e){Pq(t,n=>{const r=n.length;let s;if(r<126)s=new Uint8Array(1),new DataView(s.buffer).setUint8(0,r);else if(r<65536){s=new Uint8Array(3);const a=new DataView(s.buffer);a.setUint8(0,126),a.setUint16(1,r)}else{s=new Uint8Array(9);const a=new DataView(s.buffer);a.setUint8(0,127),a.setBigUint64(1,BigInt(r))}t.data&&typeof t.data!="string"&&(s[0]|=128),e.enqueue(s),e.enqueue(n)})}})}let qy;function xd(t){return t.reduce((e,n)=>e+n.length,0)}function Cd(t,e){if(t[0].length===e)return t.shift();const n=new Uint8Array(e);let r=0;for(let s=0;s<e;s++)n[s]=t[0][r++],r===t[0].length&&(t.shift(),r=0);return t.length&&r<t[0].length&&(t[0]=t[0].slice(r)),n}function jq(t,e){qy||(qy=new TextDecoder);const n=[];let r=0,s=-1,a=!1;return new TransformStream({transform(c,f){for(n.push(c);;){if(r===0){if(xd(n)<1)break;const d=Cd(n,1);a=(d[0]&128)===128,s=d[0]&127,s<126?r=3:s===126?r=1:r=2}else if(r===1){if(xd(n)<2)break;const d=Cd(n,2);s=new DataView(d.buffer,d.byteOffset,d.length).getUint16(0),r=3}else if(r===2){if(xd(n)<8)break;const d=Cd(n,8),p=new DataView(d.buffer,d.byteOffset,d.length),g=p.getUint32(0);if(g>Math.pow(2,21)-1){f.enqueue(jb);break}s=g*Math.pow(2,32)+p.getUint32(4),r=3}else{if(xd(n)<s)break;const d=Cd(n,s);f.enqueue(bv(a?d:qy.decode(d),e)),r=0}if(s===0||s>t){f.enqueue(jb);break}}}})}const B3=4;function en(t){if(t)return Vq(t)}function Vq(t){for(var e in en.prototype)t[e]=en.prototype[e];return t}en.prototype.on=en.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};en.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this};en.prototype.off=en.prototype.removeListener=en.prototype.removeAllListeners=en.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+t];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var r,s=0;s<n.length;s++)if(r=n[s],r===e||r.fn===e){n.splice(s,1);break}return n.length===0&&delete this._callbacks["$"+t],this};en.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+t],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(n){n=n.slice(0);for(var r=0,s=n.length;r<s;++r)n[r].apply(this,e)}return this};en.prototype.emitReserved=en.prototype.emit;en.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};en.prototype.hasListeners=function(t){return!!this.listeners(t).length};const wp=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,n)=>n(e,0),xr=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),Kq="arraybuffer";function I3(t,...e){return e.reduce((n,r)=>(t.hasOwnProperty(r)&&(n[r]=t[r]),n),{})}const Gq=xr.setTimeout,Yq=xr.clearTimeout;function Sp(t,e){e.useNativeTimers?(t.setTimeoutFn=Gq.bind(xr),t.clearTimeoutFn=Yq.bind(xr)):(t.setTimeoutFn=xr.setTimeout.bind(xr),t.clearTimeoutFn=xr.clearTimeout.bind(xr))}const Xq=1.33;function Wq(t){return typeof t=="string"?Qq(t):Math.ceil((t.byteLength||t.size)*Xq)}function Qq(t){let e=0,n=0;for(let r=0,s=t.length;r<s;r++)e=t.charCodeAt(r),e<128?n+=1:e<2048?n+=2:e<55296||e>=57344?n+=3:(r++,n+=4);return n}function P3(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function Zq(t){let e="";for(let n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e}function Jq(t){let e={},n=t.split("&");for(let r=0,s=n.length;r<s;r++){let a=n[r].split("=");e[decodeURIComponent(a[0])]=decodeURIComponent(a[1])}return e}class eH extends Error{constructor(e,n,r){super(e),this.description=n,this.context=r,this.type="TransportError"}}class vv extends en{constructor(e){super(),this.writable=!1,Sp(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,n,r){return super.emitReserved("error",new eH(e,n,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const n=bv(e,this.socket.binaryType);this.onPacket(n)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,n={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const n=Zq(e);return n.length?"?"+n:""}}class tH extends vv{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const n=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let r=0;this._polling&&(r++,this.once("pollComplete",function(){--r||n()})),this.writable||(r++,this.once("drain",function(){--r||n()}))}else n()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const n=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};qq(e,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,Fq(e,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=P3()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(e,n)}}let $3=!1;try{$3=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const nH=$3;function rH(){}class iH extends tH{constructor(e){if(super(e),typeof location<"u"){const n=location.protocol==="https:";let r=location.port;r||(r=n?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||r!==e.port}}doWrite(e,n){const r=this.request({method:"POST",data:e});r.on("success",n),r.on("error",(s,a)=>{this.onError("xhr post error",s,a)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(n,r)=>{this.onError("xhr poll error",n,r)}),this.pollXhr=e}}class di extends en{constructor(e,n,r){super(),this.createRequest=e,Sp(this,r),this._opts=r,this._method=r.method||"GET",this._uri=n,this._data=r.data!==void 0?r.data:null,this._create()}_create(){var e;const n=I3(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this._opts.xd;const r=this._xhr=this.createRequest(n);try{r.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let s in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(s)&&r.setRequestHeader(s,this._opts.extraHeaders[s])}}catch{}if(this._method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}(e=this._opts.cookieJar)===null||e===void 0||e.addCookies(r),"withCredentials"in r&&(r.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(r.timeout=this._opts.requestTimeout),r.onreadystatechange=()=>{var s;r.readyState===3&&((s=this._opts.cookieJar)===null||s===void 0||s.parseCookies(r.getResponseHeader("set-cookie"))),r.readyState===4&&(r.status===200||r.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof r.status=="number"?r.status:0)},0))},r.send(this._data)}catch(s){this.setTimeoutFn(()=>{this._onError(s)},0);return}typeof document<"u"&&(this._index=di.requestsCount++,di.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=rH,e)try{this._xhr.abort()}catch{}typeof document<"u"&&delete di.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}di.requestsCount=0;di.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",mC);else if(typeof addEventListener=="function"){const t="onpagehide"in xr?"pagehide":"unload";addEventListener(t,mC,!1)}}function mC(){for(let t in di.requests)di.requests.hasOwnProperty(t)&&di.requests[t].abort()}const sH=function(){const t=U3({xdomain:!1});return t&&t.responseType!==null}();class oH extends iH{constructor(e){super(e);const n=e&&e.forceBase64;this.supportsBinary=sH&&!n}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new di(U3,this.uri(),e)}}function U3(t){const e=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||nH))return new XMLHttpRequest}catch{}if(!e)try{return new xr[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const z3=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class aH extends vv{get name(){return"websocket"}doOpen(){const e=this.uri(),n=this.opts.protocols,r=z3?{}:I3(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,n,r)}catch(s){return this.emitReserved("error",s)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const r=e[n],s=n===e.length-1;yv(r,this.supportsBinary,a=>{try{this.doWrite(r,a)}catch{}s&&wp(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=P3()),this.supportsBinary||(n.b64=1),this.createUri(e,n)}}const Hy=xr.WebSocket||xr.MozWebSocket;class lH extends aH{createSocket(e,n,r){return z3?new Hy(e,n,r):n?new Hy(e,n):new Hy(e)}doWrite(e,n){this.ws.send(n)}}class cH extends vv{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const n=jq(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=e.readable.pipeThrough(n).getReader(),s=Hq();s.readable.pipeTo(e.writable),this._writer=s.writable.getWriter();const a=()=>{r.read().then(({done:f,value:d})=>{f||(this.onPacket(d),a())}).catch(f=>{})};a();const c={type:"open"};this.query.sid&&(c.data=`{"sid":"${this.query.sid}"}`),this._writer.write(c).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const r=e[n],s=n===e.length-1;this._writer.write(r).then(()=>{s&&wp(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}}const uH={websocket:lH,webtransport:cH,polling:oH},fH=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,dH=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Vb(t){if(t.length>8e3)throw"URI too long";const e=t,n=t.indexOf("["),r=t.indexOf("]");n!=-1&&r!=-1&&(t=t.substring(0,n)+t.substring(n,r).replace(/:/g,";")+t.substring(r,t.length));let s=fH.exec(t||""),a={},c=14;for(;c--;)a[dH[c]]=s[c]||"";return n!=-1&&r!=-1&&(a.source=e,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a.pathNames=hH(a,a.path),a.queryKey=pH(a,a.query),a}function hH(t,e){const n=/\/{2,9}/g,r=e.replace(n,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&r.splice(0,1),e.slice(-1)=="/"&&r.splice(r.length-1,1),r}function pH(t,e){const n={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,s,a){s&&(n[s]=a)}),n}const Kb=typeof addEventListener=="function"&&typeof removeEventListener=="function",Id=[];Kb&&addEventListener("offline",()=>{Id.forEach(t=>t())},!1);class Rs extends en{constructor(e,n){if(super(),this.binaryType=Kq,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&typeof e=="object"&&(n=e,e=null),e){const r=Vb(e);n.hostname=r.host,n.secure=r.protocol==="https"||r.protocol==="wss",n.port=r.port,r.query&&(n.query=r.query)}else n.host&&(n.hostname=Vb(n.host).host);Sp(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},n.transports.forEach(r=>{const s=r.prototype.name;this.transports.push(s),this._transportsByName[s]=r}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=Jq(this.opts.query)),Kb&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Id.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const n=Object.assign({},this.opts.query);n.EIO=B3,n.transport=e,this.id&&(n.sid=this.id);const r=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](r)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const e=this.opts.rememberUpgrade&&Rs.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const n=this.createTransport(e);n.open(),this.setTransport(n)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",n=>this._onClose("transport close",n))}onOpen(){this.readyState="open",Rs.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const n=new Error("server error");n.code=e.data,this._onError(n);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let r=0;r<this.writeBuffer.length;r++){const s=this.writeBuffer[r].data;if(s&&(n+=Wq(s)),r>0&&n>this._maxPayload)return this.writeBuffer.slice(0,r);n+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,wp(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,n,r){return this._sendPacket("message",e,n,r),this}send(e,n,r){return this._sendPacket("message",e,n,r),this}_sendPacket(e,n,r,s){if(typeof n=="function"&&(s=n,n=void 0),typeof r=="function"&&(s=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;const a={type:e,data:n,options:r};this.emitReserved("packetCreate",a),this.writeBuffer.push(a),s&&this.once("flush",s),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),e()},r=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():e()}):this.upgrading?r():e()),this}_onError(e){if(Rs.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Kb&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const r=Id.indexOf(this._offlineEventListener);r!==-1&&Id.splice(r,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,n),this.writeBuffer=[],this._prevBufferLen=0}}}Rs.protocol=B3;class gH extends Rs{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let n=this.createTransport(e),r=!1;Rs.priorWebsocketSuccess=!1;const s=()=>{r||(n.send([{type:"ping",data:"probe"}]),n.once("packet",y=>{if(!r)if(y.type==="pong"&&y.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;Rs.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(g(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const b=new Error("probe error");b.transport=n.name,this.emitReserved("upgradeError",b)}}))};function a(){r||(r=!0,g(),n.close(),n=null)}const c=y=>{const b=new Error("probe error: "+y);b.transport=n.name,a(),this.emitReserved("upgradeError",b)};function f(){c("transport closed")}function d(){c("socket closed")}function p(y){n&&y.name!==n.name&&a()}const g=()=>{n.removeListener("open",s),n.removeListener("error",c),n.removeListener("close",f),this.off("close",d),this.off("upgrading",p)};n.once("open",s),n.once("error",c),n.once("close",f),this.once("close",d),this.once("upgrading",p),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{r||n.open()},200):n.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const n=[];for(let r=0;r<e.length;r++)~this.transports.indexOf(e[r])&&n.push(e[r]);return n}}let mH=class extends gH{constructor(e,n={}){const r=typeof e=="object"?e:n;(!r.transports||r.transports&&typeof r.transports[0]=="string")&&(r.transports=(r.transports||["polling","websocket","webtransport"]).map(s=>uH[s]).filter(s=>!!s)),super(e,r)}};function yH(t,e="",n){let r=t;n=n||typeof location<"u"&&location,t==null&&(t=n.protocol+"//"+n.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=n.protocol+t:t=n.host+t),/^(https?|wss?):\/\//.test(t)||(typeof n<"u"?t=n.protocol+"//"+t:t="https://"+t),r=Vb(t)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const a=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+a+":"+r.port+e,r.href=r.protocol+"://"+a+(n&&n.port===r.port?"":":"+r.port),r}const bH=typeof ArrayBuffer=="function",vH=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,F3=Object.prototype.toString,wH=typeof Blob=="function"||typeof Blob<"u"&&F3.call(Blob)==="[object BlobConstructor]",SH=typeof File=="function"||typeof File<"u"&&F3.call(File)==="[object FileConstructor]";function wv(t){return bH&&(t instanceof ArrayBuffer||vH(t))||wH&&t instanceof Blob||SH&&t instanceof File}function Pd(t,e){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let n=0,r=t.length;n<r;n++)if(Pd(t[n]))return!0;return!1}if(wv(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return Pd(t.toJSON(),!0);for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&Pd(t[n]))return!0;return!1}function EH(t){const e=[],n=t.data,r=t;return r.data=Gb(n,e),r.attachments=e.length,{packet:r,buffers:e}}function Gb(t,e){if(!t)return t;if(wv(t)){const n={_placeholder:!0,num:e.length};return e.push(t),n}else if(Array.isArray(t)){const n=new Array(t.length);for(let r=0;r<t.length;r++)n[r]=Gb(t[r],e);return n}else if(typeof t=="object"&&!(t instanceof Date)){const n={};for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=Gb(t[r],e));return n}return t}function xH(t,e){return t.data=Yb(t.data,e),delete t.attachments,t}function Yb(t,e){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let n=0;n<t.length;n++)t[n]=Yb(t[n],e);else if(typeof t=="object")for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(t[n]=Yb(t[n],e));return t}const CH=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],AH=5;var Fe;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(Fe||(Fe={}));let _H=class{constructor(e){this.replacer=e}encode(e){return(e.type===Fe.EVENT||e.type===Fe.ACK)&&Pd(e)?this.encodeAsBinary({type:e.type===Fe.EVENT?Fe.BINARY_EVENT:Fe.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let n=""+e.type;return(e.type===Fe.BINARY_EVENT||e.type===Fe.BINARY_ACK)&&(n+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(n+=e.nsp+","),e.id!=null&&(n+=e.id),e.data!=null&&(n+=JSON.stringify(e.data,this.replacer)),n}encodeAsBinary(e){const n=EH(e),r=this.encodeAsString(n.packet),s=n.buffers;return s.unshift(r),s}};function yC(t){return Object.prototype.toString.call(t)==="[object Object]"}let TH=class q3 extends en{constructor(e){super(),this.reviver=e}add(e){let n;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(e);const r=n.type===Fe.BINARY_EVENT;r||n.type===Fe.BINARY_ACK?(n.type=r?Fe.EVENT:Fe.ACK,this.reconstructor=new RH(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(wv(e)||e.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(e),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let n=0;const r={type:Number(e.charAt(0))};if(Fe[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===Fe.BINARY_EVENT||r.type===Fe.BINARY_ACK){const a=n+1;for(;e.charAt(++n)!=="-"&&n!=e.length;);const c=e.substring(a,n);if(c!=Number(c)||e.charAt(n)!=="-")throw new Error("Illegal attachments");r.attachments=Number(c)}if(e.charAt(n+1)==="/"){const a=n+1;for(;++n&&!(e.charAt(n)===","||n===e.length););r.nsp=e.substring(a,n)}else r.nsp="/";const s=e.charAt(n+1);if(s!==""&&Number(s)==s){const a=n+1;for(;++n;){const c=e.charAt(n);if(c==null||Number(c)!=c){--n;break}if(n===e.length)break}r.id=Number(e.substring(a,n+1))}if(e.charAt(++n)){const a=this.tryParse(e.substr(n));if(q3.isPayloadValid(r.type,a))r.data=a;else throw new Error("invalid payload")}return r}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,n){switch(e){case Fe.CONNECT:return yC(n);case Fe.DISCONNECT:return n===void 0;case Fe.CONNECT_ERROR:return typeof n=="string"||yC(n);case Fe.EVENT:case Fe.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&CH.indexOf(n[0])===-1);case Fe.ACK:case Fe.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}};class RH{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const n=xH(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const OH=Object.freeze(Object.defineProperty({__proto__:null,Decoder:TH,Encoder:_H,get PacketType(){return Fe},protocol:AH},Symbol.toStringTag,{value:"Module"}));function Fr(t,e,n){return t.on(e,n),function(){t.off(e,n)}}const MH=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class H3 extends en{constructor(e,n,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=n,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[Fr(e,"open",this.onopen.bind(this)),Fr(e,"packet",this.onpacket.bind(this)),Fr(e,"error",this.onerror.bind(this)),Fr(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...n){var r,s,a;if(MH.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(n.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const c={type:Fe.EVENT,data:n};if(c.options={},c.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const g=this.ids++,y=n.pop();this._registerAckCallback(g,y),c.id=g}const f=(s=(r=this.io.engine)===null||r===void 0?void 0:r.transport)===null||s===void 0?void 0:s.writable,d=this.connected&&!(!((a=this.io.engine)===null||a===void 0)&&a._hasPingExpired());return this.flags.volatile&&!f||(d?(this.notifyOutgoingListeners(c),this.packet(c)):this.sendBuffer.push(c)),this.flags={},this}_registerAckCallback(e,n){var r;const s=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(s===void 0){this.acks[e]=n;return}const a=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let f=0;f<this.sendBuffer.length;f++)this.sendBuffer[f].id===e&&this.sendBuffer.splice(f,1);n.call(this,new Error("operation has timed out"))},s),c=(...f)=>{this.io.clearTimeoutFn(a),n.apply(this,f)};c.withError=!0,this.acks[e]=c}emitWithAck(e,...n){return new Promise((r,s)=>{const a=(c,f)=>c?s(c):r(f);a.withError=!0,n.push(a),this.emit(e,...n)})}_addToQueue(e){let n;typeof e[e.length-1]=="function"&&(n=e.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((s,...a)=>r!==this._queue[0]?void 0:(s!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(s)):(this._queue.shift(),n&&n(null,...a)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!e||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:Fe.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(r=>String(r.id)===e)){const r=this.acks[e];delete this.acks[e],r.withError&&r.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case Fe.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Fe.EVENT:case Fe.BINARY_EVENT:this.onevent(e);break;case Fe.ACK:case Fe.BINARY_ACK:this.onack(e);break;case Fe.DISCONNECT:this.ondisconnect();break;case Fe.CONNECT_ERROR:this.destroy();const r=new Error(e.data.message);r.data=e.data.data,this.emitReserved("connect_error",r);break}}onevent(e){const n=e.data||[];e.id!=null&&n.push(this.ack(e.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const r of n)r.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const n=this;let r=!1;return function(...s){r||(r=!0,n.packet({type:Fe.ACK,id:e,data:s}))}}onack(e){const n=this.acks[e.id];typeof n=="function"&&(delete this.acks[e.id],n.withError&&e.data.unshift(null),n.apply(this,e.data))}onconnect(e,n){this.id=e,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Fe.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const n=this._anyListeners;for(let r=0;r<n.length;r++)if(e===n[r])return n.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const n=this._anyOutgoingListeners;for(let r=0;r<n.length;r++)if(e===n[r])return n.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const r of n)r.apply(this,e.data)}}}function gl(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}gl.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=(Math.floor(e*10)&1)==0?t-n:t+n}return Math.min(t,this.max)|0};gl.prototype.reset=function(){this.attempts=0};gl.prototype.setMin=function(t){this.ms=t};gl.prototype.setMax=function(t){this.max=t};gl.prototype.setJitter=function(t){this.jitter=t};class Xb extends en{constructor(e,n){var r;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(n=e,e=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,Sp(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((r=n.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new gl({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=e;const s=n.parser||OH;this.encoder=new s.Encoder,this.decoder=new s.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var n;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(n=this.backoff)===null||n===void 0||n.setMin(e),this)}randomizationFactor(e){var n;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(n=this.backoff)===null||n===void 0||n.setJitter(e),this)}reconnectionDelayMax(e){var n;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(n=this.backoff)===null||n===void 0||n.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new mH(this.uri,this.opts);const n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const s=Fr(n,"open",function(){r.onopen(),e&&e()}),a=f=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",f),e?e(f):this.maybeReconnectOnOpen()},c=Fr(n,"error",a);if(this._timeout!==!1){const f=this._timeout,d=this.setTimeoutFn(()=>{s(),a(new Error("timeout")),n.close()},f);this.opts.autoUnref&&d.unref(),this.subs.push(()=>{this.clearTimeoutFn(d)})}return this.subs.push(s),this.subs.push(c),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(Fr(e,"ping",this.onping.bind(this)),Fr(e,"data",this.ondata.bind(this)),Fr(e,"error",this.onerror.bind(this)),Fr(e,"close",this.onclose.bind(this)),Fr(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(n){this.onclose("parse error",n)}}ondecoded(e){wp(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,n){let r=this.nsps[e];return r?this._autoConnect&&!r.active&&r.connect():(r=new H3(this,e,n),this.nsps[e]=r),r}_destroy(e){const n=Object.keys(this.nsps);for(const r of n)if(this.nsps[r].active)return;this._close()}_packet(e){const n=this.encoder.encode(e);for(let r=0;r<n.length;r++)this.engine.write(n[r],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,n){var r;this.cleanup(),(r=this.engine)===null||r===void 0||r.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(s=>{s?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",s)):e.onreconnect()}))},n);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const Tc={};function $d(t,e){typeof t=="object"&&(e=t,t=void 0),e=e||{};const n=yH(t,e.path||"/socket.io"),r=n.source,s=n.id,a=n.path,c=Tc[s]&&a in Tc[s].nsps,f=e.forceNew||e["force new connection"]||e.multiplex===!1||c;let d;return f?d=new Xb(r,e):(Tc[s]||(Tc[s]=new Xb(r,e)),d=Tc[s]),n.query&&!e.query&&(e.query=n.queryKey),d.socket(n.path,e)}Object.assign($d,{Manager:Xb,Socket:H3,io:$d,connect:$d});class Mu extends EventTarget{#e=new Map;listenerCount(e){const n=this.#e.get(e);return n==null?0:n.length}addEventListener(e,n,r){super.addEventListener(e,n,r);let s=this.#e.get(e);s==null&&(s=[],this.#e.set(e,s)),s.push({callback:n,once:(r!==!0&&r!==!1&&r?.once)??!1})}removeEventListener(e,n,r){super.removeEventListener(e.toString(),n??null,r);let s=this.#e.get(e);s!=null&&(s=s.filter(({callback:a})=>a!==n),this.#e.set(e,s))}dispatchEvent(e){const n=super.dispatchEvent(e);let r=this.#e.get(e.type);return r==null||(r=r.filter(({once:s})=>!s),this.#e.set(e.type,r)),n}safeDispatchEvent(e,n){return this.dispatchEvent(new qt(e,n))}}class DH extends Event{detail;constructor(e,n){super(e,n),this.detail=n?.detail}}const qt=globalThis.CustomEvent??DH;var jy,bC;function kH(){if(bC)return jy;bC=1;const t=65536;function e(n){const r=new Uint8Array(n);let s=0;if(n>0)if(n>t)for(;s<n;)s+t>n?(crypto.getRandomValues(r.subarray(s,s+(n-s))),s+=n-s):(crypto.getRandomValues(r.subarray(s,s+t)),s+=t);else crypto.getRandomValues(r);return r}return jy=e,jy}var LH=kH();const Sv=gi(LH);function NH(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var s=0;s<t.length;s++){var a=t.charAt(s),c=a.charCodeAt(0);if(n[c]!==255)throw new TypeError(a+" is ambiguous");n[c]=s}var f=t.length,d=t.charAt(0),p=Math.log(f)/Math.log(256),g=Math.log(256)/Math.log(f);function y(v){if(v instanceof Uint8Array||(ArrayBuffer.isView(v)?v=new Uint8Array(v.buffer,v.byteOffset,v.byteLength):Array.isArray(v)&&(v=Uint8Array.from(v))),!(v instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(v.length===0)return"";for(var S=0,E=0,C=0,k=v.length;C!==k&&v[C]===0;)C++,S++;for(var A=(k-C)*g+1>>>0,T=new Uint8Array(A);C!==k;){for(var R=v[C],I=0,$=A-1;(R!==0||I<E)&&$!==-1;$--,I++)R+=256*T[$]>>>0,T[$]=R%f>>>0,R=R/f>>>0;if(R!==0)throw new Error("Non-zero carry");E=I,C++}for(var j=A-E;j!==A&&T[j]===0;)j++;for(var P=d.repeat(S);j<A;++j)P+=t.charAt(T[j]);return P}function b(v){if(typeof v!="string")throw new TypeError("Expected String");if(v.length===0)return new Uint8Array;var S=0;if(v[S]!==" "){for(var E=0,C=0;v[S]===d;)E++,S++;for(var k=(v.length-S)*p+1>>>0,A=new Uint8Array(k);v[S];){var T=n[v.charCodeAt(S)];if(T===255)return;for(var R=0,I=k-1;(T!==0||R<C)&&I!==-1;I--,R++)T+=f*A[I]>>>0,A[I]=T%256>>>0,T=T/256>>>0;if(T!==0)throw new Error("Non-zero carry");C=R,S++}if(v[S]!==" "){for(var $=k-C;$!==k&&A[$]===0;)$++;for(var j=new Uint8Array(E+(k-$)),P=E;$!==k;)j[P++]=A[$++];return j}}}function w(v){var S=b(v);if(S)return S;throw new Error(`Non-${e} character`)}return{encode:y,decodeUnsafe:b,decode:w}}var BH=NH,IH=BH;const PH=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},$H=t=>new TextEncoder().encode(t),UH=t=>new TextDecoder().decode(t);let zH=class{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},FH=class{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return j3(this,e)}},qH=class{constructor(e){this.decoders=e}or(e){return j3(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const j3=(t,e)=>new qH({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});let HH=class{constructor(e,n,r,s){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=s,this.encoder=new zH(e,n,r),this.decoder=new FH(e,n,s)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}};const Ep=({name:t,prefix:e,encode:n,decode:r})=>new HH(t,e,n,r),Du=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:s}=IH(n,e);return Ep({prefix:t,name:e,encode:r,decode:a=>PH(s(a))})},jH=(t,e,n,r)=>{const s={};for(let g=0;g<e.length;++g)s[e[g]]=g;let a=t.length;for(;t[a-1]==="=";)--a;const c=new Uint8Array(a*n/8|0);let f=0,d=0,p=0;for(let g=0;g<a;++g){const y=s[t[g]];if(y===void 0)throw new SyntaxError(`Non-${r} character`);d=d<<n|y,f+=n,f>=8&&(f-=8,c[p++]=255&d>>f)}if(f>=n||255&d<<8-f)throw new SyntaxError("Unexpected end of data");return c},VH=(t,e,n)=>{const r=e[e.length-1]==="=",s=(1<<n)-1;let a="",c=0,f=0;for(let d=0;d<t.length;++d)for(f=f<<8|t[d],c+=8;c>n;)c-=n,a+=e[s&f>>c];if(c&&(a+=e[s&f<<n-c]),r)for(;a.length*n&7;)a+="=";return a},Sn=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>Ep({prefix:e,name:t,encode(s){return VH(s,r,n)},decode(s){return jH(s,r,n,t)}}),KH=Du({prefix:"9",name:"base10",alphabet:"0123456789"}),GH=Object.freeze(Object.defineProperty({__proto__:null,base10:KH},Symbol.toStringTag,{value:"Module"})),YH=Sn({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),XH=Sn({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),WH=Object.freeze(Object.defineProperty({__proto__:null,base16:YH,base16upper:XH},Symbol.toStringTag,{value:"Module"})),QH=Sn({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),ZH=Object.freeze(Object.defineProperty({__proto__:null,base2:QH},Symbol.toStringTag,{value:"Module"})),V3=Array.from(""),JH=V3.reduce((t,e,n)=>(t[n]=e,t),[]),ej=V3.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function tj(t){return t.reduce((e,n)=>(e+=JH[n],e),"")}function nj(t){const e=[];for(const n of t){const r=ej[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}const rj=Ep({prefix:"",name:"base256emoji",encode:tj,decode:nj}),ij=Object.freeze(Object.defineProperty({__proto__:null,base256emoji:rj},Symbol.toStringTag,{value:"Module"})),sj=Sn({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),oj=Sn({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),aj=Sn({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),lj=Sn({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),cj=Sn({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),uj=Sn({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),fj=Sn({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),dj=Sn({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),hj=Sn({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),pj=Object.freeze(Object.defineProperty({__proto__:null,base32:sj,base32hex:cj,base32hexpad:fj,base32hexpadupper:dj,base32hexupper:uj,base32pad:aj,base32padupper:lj,base32upper:oj,base32z:hj},Symbol.toStringTag,{value:"Module"})),gj=Du({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),mj=Du({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),yj=Object.freeze(Object.defineProperty({__proto__:null,base36:gj,base36upper:mj},Symbol.toStringTag,{value:"Module"})),bj=Du({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),vj=Du({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),wj=Object.freeze(Object.defineProperty({__proto__:null,base58btc:bj,base58flickr:vj},Symbol.toStringTag,{value:"Module"})),Sj=Sn({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Ej=Sn({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),xj=Sn({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Cj=Sn({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),Aj=Object.freeze(Object.defineProperty({__proto__:null,base64:Sj,base64pad:Ej,base64url:xj,base64urlpad:Cj},Symbol.toStringTag,{value:"Module"})),_j=Sn({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),Tj=Object.freeze(Object.defineProperty({__proto__:null,base8:_j},Symbol.toStringTag,{value:"Module"})),Rj=Ep({prefix:"\0",name:"identity",encode:t=>UH(t),decode:t=>$H(t)}),Oj=Object.freeze(Object.defineProperty({__proto__:null,identity:Rj},Symbol.toStringTag,{value:"Module"}));new TextEncoder;new TextDecoder;const vC={...Oj,...ZH,...Tj,...GH,...WH,...pj,...yj,...wj,...Aj,...ij};function Mj(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function Dj(t=0){return globalThis.Buffer?.allocUnsafe!=null?Mj(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function K3(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const wC=K3("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),Vy=K3("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=Dj(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),kj={utf8:wC,"utf-8":wC,hex:vC.base16,latin1:Vy,ascii:Vy,binary:Vy,...vC};function G3(t,e="utf8"){const n=kj[e];if(n==null)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):n.encoder.encode(t).substring(1)}const SC=64*1024,Lj=5*1e3;class Nj{constructor(e,n){this.label=e.label,this.open=Gt(),this.channel=e,this.channel.binaryType="arraybuffer",this.log=n.log,typeof this.channel.bufferedAmountLowThreshold=="number"&&(this.channel.bufferedAmountLowThreshold=SC),e.addEventListener("message",s=>{n.onMessage(s)}),e.addEventListener("bufferedamountlow",()=>{this.log("stop backpressure: bufferedAmount %d",this.channel.bufferedAmount),this.open.resolve()}),e.addEventListener("open",()=>{this.open.resolve(),n.onOpen()}),e.addEventListener("close",()=>{n.onClose()}),e.addEventListener("error",s=>{if(s.error?.message==="Transport channel closed")return this.close();n.log.error('channel encounter an error in state "%s" message: "%s" detail: "%s',e.readyState,s.error?.message,s.error?.errorDetail);const a=s.error instanceof Error?s.error:new Error(`datachannel error: ${s.error?.message} ${s.error?.errorDetail}`);n.onError(Vr(a,"ERR_DATA_CHANNEL"))});let r=!1;this.closingInterval=setInterval(()=>{e.readyState==="closing"?(r&&n.onClose(),r=!0):r=!1},Lj)}async send(e){await this.open.promise,this.channel.send(e),this.channel.bufferedAmount>SC&&(this.log("start backpressure: bufferedAmount %d",this.channel.bufferedAmount),this.open=Gt())}close(){clearInterval(this.closingInterval),this.channel.close()}get bufferedAmount(){return this.channel.bufferedAmount}}var Ad={exports:{}},EC;function Bj(){if(EC)return Ad.exports;EC=1;const t=(a,c)=>Math.floor(Math.random()*(c-a+1)+a),e=()=>{const a=new Error("Delay aborted");return a.name="AbortError",a},n=({clearTimeout:a,setTimeout:c,willResolve:f})=>(d,{value:p,signal:g}={})=>{if(g&&g.aborted)return Promise.reject(e());let y,b,w;const v=a||clearTimeout,S=()=>{v(y),w(e())},E=()=>{g&&g.removeEventListener("abort",S)},C=new Promise((k,A)=>{b=()=>{E(),f?k(p):A(p)},w=A,y=(c||setTimeout)(b,d)});return g&&g.addEventListener("abort",S,{once:!0}),C.clear=()=>{v(y),y=null,b()},C},r=a=>{const c=n({...a,willResolve:!0});return c.reject=n({...a,willResolve:!1}),c.range=(f,d,p)=>c(t(f,d),p),c},s=r();return s.createWithTimers=r,Ad.exports=s,Ad.exports.default=s,Ad.exports}var Ij=Bj();const Y3=gi(Ij),Pj={iceServers:[{urls:["stun:stun.l.google.com:19302","stun:global.stun.twilio.com:3478"]}]};function $j(){if(typeof globalThis>"u")throw Vr(new Error("No WebRTC support detected"),"ERR_WEBRTC_SUPPORT");const t={RTCPeerConnection:globalThis.RTCPeerConnection??globalThis.mozRTCPeerConnection??globalThis.webkitRTCPeerConnection,RTCSessionDescription:globalThis.RTCSessionDescription??globalThis.mozRTCSessionDescription??globalThis.webkitRTCSessionDescription,RTCIceCandidate:globalThis.RTCIceCandidate??globalThis.mozRTCIceCandidate??globalThis.webkitRTCIceCandidate};if(t.RTCPeerConnection==null)throw Vr(new Error("No WebRTC support detected"),"ERR_WEBRTC_SUPPORT");return t}class X3 extends Mu{constructor(e){super(),this.id=e.id??G3(Sv(4),"hex").slice(0,7),this.log=pl(`libp2p:webrtc-peer:${e.logPrefix}:${this.id}`),this.wrtc=e.wrtc??$j(),this.peerConnection=new this.wrtc.RTCPeerConnection(Object.assign({},Pj,e.peerConnectionConfig)),this.closed=!1,this.connected=Gt(),this.source=fp(),this.sink=async n=>{if(await this.connected.promise,this.channel==null)throw Vr(new Error("Connected but no channel?!"),"ERR_DATA_CHANNEL");for await(const r of n)await this.channel.send(r);await this.close()}}handleDataChannelEvent(e){const n=e.channel;if(n==null){this.close(Vr(new Error("Data channel event is missing `channel` property"),"ERR_DATA_CHANNEL")).catch(r=>{this.log("Error closing after event channel was found to be null",r)});return}this.channel=new Nj(n,{log:this.log,onMessage:r=>{this.source.push(new Uint8Array(r.data))},onOpen:()=>{this.connected.resolve(),this.dispatchEvent(new qt("ready"))},onClose:()=>{this.close().catch(r=>{this.log("error closing connection after channel close",r)})},onError:r=>{this.close(r).catch(s=>{this.log("error closing connection after channel error",s)})}})}async close(e){if(this.closed=!0,e==null&&this.channel!=null)for(;this.channel.bufferedAmount>0;)await Y3(100);this.channel?.close(),this.peerConnection.close(),this.source.end(e),this.dispatchEvent(new qt("close"))}}class W3 extends Mu{constructor(e){super(),this.log=e.log,this.peerConnection=e.peerConnection,this.wrtc=e.wrtc,this.status="idle",this.peerConnection.addEventListener("negotiationneeded",()=>{this.log("peer connection negotiation needed"),this.handleRenegotiate({type:"renegotiate"}).catch(n=>{this.log.error("could not renegotiate %o",n)})})}async handleSignal(e){if(this.log('incoming signal "%s"',e.type),e.type==="offer")return await this.handleOffer(e);if(e.type==="answer")return await this.handleAnswer(e);if(e.type==="candidate")return await this.handleCandidate(e);if(e.type==="renegotiate")return await this.handleRenegotiate(e);if(e.type==="goodbye")return await this.handleGoodye(e);this.log(`Unknown signal type ${e.type}`)}async handleOffer(e){}async handleAnswer(e){}async handleRenegotiate(e){}async handleGoodye(e){this.peerConnection.close()}async handleCandidate(e){const n=new this.wrtc.RTCIceCandidate(e.candidate);try{await this.peerConnection.addIceCandidate(n)}catch(r){if(n.address==null||n.address.endsWith(".local"))this.log("ignoring unsupported ICE candidate.");else throw Vr(r,"ERR_ADD_ICE_CANDIDATE")}}}const xC=pl("libp2p:webrtc-peer:receiver");class Uj extends X3{constructor(e={}){super({...e,logPrefix:"receiver"}),this.handshake=new zj({log:this.log,peerConnection:this.peerConnection,wrtc:this.wrtc,answerOptions:e.answerOptions}),this.handshake.addEventListener("signal",n=>this.dispatchEvent(new qt("signal",{detail:n.detail}))),this.peerConnection.addEventListener("datachannel",n=>{this.handleDataChannelEvent(n)})}handleSignal(e){this.handshake.handleSignal(e).catch(n=>{this.log("error handling signal %o %o",e,n)})}}class zj extends W3{constructor(e){super(e),this.options=e,this.status="idle",this.iceCandidates=[]}async handleRenegotiate(){xC.trace("renegotiate"),this.dispatchEvent(new qt("signal",{detail:{type:"renegotiate"}}))}async handleOffer(e){await this.peerConnection.setRemoteDescription(new this.wrtc.RTCSessionDescription(e));for(const r of this.iceCandidates)await this.handleCandidate(r);this.iceCandidates=[];const n=await this.peerConnection.createAnswer(this.options.answerOptions);await this.peerConnection.setLocalDescription(n),xC.trace("handle offer",this.peerConnection.localDescription),this.dispatchEvent(new qt("signal",{detail:this.peerConnection.localDescription??n}))}async handleCandidate(e){if(this.peerConnection.remoteDescription==null||this.peerConnection.remoteDescription.type==null){this.iceCandidates.push(e);return}await super.handleCandidate(e)}}class Fj extends Error{constructor(e){super(e),this.name="TimeoutError"}}class qj extends Error{constructor(e){super(),this.name="AbortError",this.message=e}}const CC=t=>globalThis.DOMException===void 0?new qj(t):new DOMException(t),AC=t=>{const e=t.reason===void 0?CC("This operation was aborted."):t.reason;return e instanceof Error?e:CC(e)};function Hj(t,e,n,r){let s;const a=new Promise((c,f)=>{if(typeof e!="number"||Math.sign(e)!==1)throw new TypeError(`Expected \`milliseconds\` to be a positive number, got \`${e}\``);if(e===Number.POSITIVE_INFINITY){c(t);return}if(r={customTimers:{setTimeout,clearTimeout},...r},r.signal){const{signal:d}=r;d.aborted&&f(AC(d)),d.addEventListener("abort",()=>{f(AC(d))})}s=r.customTimers.setTimeout.call(void 0,()=>{const d=`Promise timed out after ${e} milliseconds`,p=n instanceof Error?n:new Fj(d);typeof t.cancel=="function"&&t.cancel(),f(p)},e),(async()=>{try{c(await t)}catch(d){f(d)}finally{r.customTimers.clearTimeout.call(void 0,s)}})()});return a.clear=()=>{clearTimeout(s),s=void 0},a}const jj=t=>{const e=t.on||t.addListener||t.addEventListener,n=t.off||t.removeListener||t.removeEventListener;if(!e||!n)throw new TypeError("Emitter is not compatible");return{addListener:e.bind(t),removeListener:n.bind(t)}};function Vj(t,e,n){let r;const s=new Promise((a,c)=>{if(n={rejectionEvents:["error"],multiArgs:!1,resolveImmediately:!1,...n},!(n.count>=0&&(n.count===Number.POSITIVE_INFINITY||Number.isInteger(n.count))))throw new TypeError("The `count` option should be at least 0 or more");const f=[e].flat(),d=[],{addListener:p,removeListener:g}=jj(t),y=(...w)=>{const v=n.multiArgs?w:w[0];n.filter&&!n.filter(v)||(d.push(v),n.count===d.length&&(r(),a(d)))},b=w=>{r(),c(w)};r=()=>{for(const w of f)g(w,y);for(const w of n.rejectionEvents)g(w,b)};for(const w of f)p(w,y);for(const w of n.rejectionEvents)p(w,b);n.resolveImmediately&&a(d)});if(s.cancel=r,typeof n.timeout=="number"){const a=Hj(s,n.timeout);return a.cancel=r,a}return s}function Kj(t,e,n){typeof n=="function"&&(n={filter:n}),n={...n,count:1,resolveImmediately:!1};const r=Vj(t,e,n),s=r.then(a=>a[0]);return s.cancel=r.cancel,s}const Ky=pl("libp2p:webrtc-peer:initator"),Gj=1e3;class Yj extends X3{constructor(e={}){super({...e,logPrefix:"initiator"}),this.handleDataChannelEvent({channel:this.peerConnection.createDataChannel(e.dataChannelLabel??G3(Sv(20),"hex").slice(0,7),e.dataChannelInit)}),this.handshake=new Xj({log:this.log,peerConnection:this.peerConnection,wrtc:this.wrtc,offerOptions:e.offerOptions}),this.handshake.addEventListener("signal",n=>{this.dispatchEvent(new qt("signal",{detail:n.detail}))})}handleSignal(e){this.handshake.handleSignal(e).catch(n=>{this.log("error handling signal %o %o",e,n)})}}class Xj extends W3{constructor(e){super(e),this.options=e,this.status="idle",this.peerConnection.addEventListener("icecandidate",n=>{if(n.candidate==null)return;const r={type:"candidate",candidate:{candidate:n.candidate.candidate,sdpMLineIndex:n.candidate.sdpMLineIndex,sdpMid:n.candidate.sdpMid}};Ky.trace("create candidate",r),this.dispatchEvent(new qt("signal",{detail:r})),this.dispatchEvent(new qt("ice-candidate"))})}async handleRenegotiate(){if(this.status==="negotiating"){this.log("already negotiating, queueing");return}this.status="negotiating";const e=await this.peerConnection.createOffer(this.options.offerOptions);await this.peerConnection.setLocalDescription(e),await Kj(this,"ice-candidate"),await Y3(Gj),Ky.trace("renegotiate",this.peerConnection.localDescription),this.dispatchEvent(new qt("signal",{detail:this.peerConnection.localDescription??e}))}async handleAnswer(e){Ky.trace("handle answer",e),await this.peerConnection.setRemoteDescription(new this.wrtc.RTCSessionDescription(e)),this.status="idle"}}const Gy=pl("libp2p:webrtc-star:socket");function Q3(t,e){const{sink:n,source:r}=t,s={remoteAddr:e.remoteAddr,async sink(a){e.signal!=null&&(a=lC(a,e.signal));try{await n(a)}catch(c){c.type!=="aborted"&&Gy.error(c)}},source:e.signal!=null?lC(r,e.signal):r,timeline:{open:Date.now()},async close(){if(t.closed)return;const a=Date.now(),c=setTimeout(()=>{if(s.remoteAddr!=null){const{host:f,port:d}=s.remoteAddr.toOptions();Gy("timeout closing socket to %s:%s after %dms, destroying it manually",f,d,Date.now()-a)}t.closed||t.close().catch(f=>{Gy.error("could not close socket",f)})},Iq);try{await t.close()}finally{clearTimeout(c)}}};return t.addEventListener("close",()=>{s.timeline.close==null&&(s.timeline.close=Date.now())},{once:!0}),s}function Z3(t){const e=t.toString().split("/"),n=t.protos()[1].name,r=t.protos()[2].name,s=t.stringTuples()[1][1];if(n!=="tcp"||r!=="ws"&&r!=="wss")throw new Error(`invalid multiaddr: ${t.toString()}`);if(!NU(t))return`http://${e[2]}:${e[4]}`;if(r==="ws")return`http://${e[2]}${s==null||s==="80"?"":`:${s}`}`;if(r==="wss")return`https://${e[2]}${s==null||s==="443"?"":`:${s}`}`;throw new Error("invalid multiaddr: "+t.toString())}function Wj(t){const e="/libp2p-webrtc-star";if(t.startsWith(e)){t=t.substring(e.length,t.length);let n=_t(t);const r=n.stringTuples().filter(s=>s[0]===421)[0];if(r[1]==null)throw new Error("invalid multiaddr: "+t);n=n.decapsulate("p2p"),n=n.encapsulate("/p2p-webrtc-star"),n=n.encapsulate(`/p2p/${r[1]}`),t=n.toString()}return t}const Mn=pl("libp2p:webrtc-star:listener"),Qj={transports:["websocket"],path:"/socket.io-next/"};class Zj extends Mu{constructor(e,n,r,s,a){super(),this.signallingAddr=n,this.socket=$d(e,Qj),this.connections=[],this.channels=new Map,this.pendingSignals=new Map,this.upgrader=r,this.handler=s,this.channelOptions=a,this.handleWsHandshake=this.handleWsHandshake.bind(this);let c=!1;this.socket.on("connect_error",f=>{c&&f.type==="TransportError"||this.dispatchEvent(new qt("error",{detail:f}))}),this.socket.on("error",f=>{this.dispatchEvent(new qt("error",{detail:f}))}),this.socket.on("ws-handshake",this.handleWsHandshake),this.socket.on("ws-peer",f=>{this.dispatchEvent(new qt("peer",{detail:f}))}),this.socket.on("connect",()=>{this.socket.emit("ss-join",this.signallingAddr.toString()),c&&this.dispatchEvent(new qt("reconnect"))}),this.socket.once("connect",()=>{c=!0,this.dispatchEvent(new qt("listening"))}),this.socket.on("disconnect",()=>{this.dispatchEvent(new qt("disconnect"))})}_createChannel(e,n,r){const s={...this.channelOptions},a=new Uj(s),c=f=>{const d=f.detail;Mn.error("incoming connection errored",d)};return a.addEventListener("error",c),a.addEventListener("close",()=>{a.removeEventListener("error",c)},{once:!0}),a.addEventListener("signal",f=>{const d=f.detail;this.socket.emit("ss-handshake",{intentId:e,srcMultiaddr:n,dstMultiaddr:r,answer:!0,signal:d})}),a.addEventListener("ready",()=>{const f=Q3(a,{remoteAddr:this.signallingAddr});Mn("new inbound connection %s",f.remoteAddr);try{this.upgrader.upgradeInbound(f).then(d=>{Mn("inbound connection %s upgraded",f.remoteAddr),this.connections.push(f);const p=()=>{this.connections=this.connections.filter(g=>g!==f),this.channels.delete(e),this.pendingSignals.delete(e)};a.addEventListener("close",p,{once:!0}),this.dispatchEvent(new qt("connection",{detail:d})),this.handler(d)}).catch(d=>{Mn.error("inbound connection failed to upgrade",d),f.close().catch(p=>{Mn.error("inbound connection failed to close after failing to upgrade",p)})})}catch(d){Mn.error("inbound connection failed to upgrade",d),f.close().catch(p=>{Mn.error("inbound connection failed to close after failing to upgrade",p)})}},{once:!0}),a}handleWsHandshake(e){if(Mn('incoming handshake. signal type "%s" is answer %s',e.signal.type,e.answer),e.answer===!0||e.err!=null||e.intentId==null)return;const n=e.intentId;let r=this.pendingSignals.get(n);r==null&&(r=[],this.pendingSignals.set(n,r)),r.push(e);let s=this.channels.get(n);if(s==null){if(e.signal.type!=="offer"){Mn("handshake is not an offer and channel does not exist, buffering until we receive an offer");return}Mn("creating new channel to handle offer handshake"),s=this._createChannel(e.intentId,e.srcMultiaddr,e.dstMultiaddr),this.channels.set(n,s)}else Mn("channel already exists, using it to handle handshake");for(;r.length>0;){const a=r.shift();a?.signal!=null&&s.handleSignal(a.signal)}}async close(){this.socket.emit("ss-leave",this.signallingAddr.toString()),this.socket.removeAllListeners(),this.socket.close(),await Promise.all([...this.connections.map(async e=>{await e.close()}),...Array.from(this.channels.values()).map(async e=>{await e.close()})]),this.dispatchEvent(new qt("close"))}}class Jj extends Mu{constructor(e,n,r,s,a){super(),this.upgrader=e,this.handler=n,this.peerId=r,this.transport=s,this.options=a}async listen(e){if(this.listeningAddr!=null)throw Vr(new Error("listener already in use"),"ERR_ALREADY_LISTENING");const n=Gt();this.listeningAddr=e;let r;e.protoCodes().includes(dC)?r=e:r=e.encapsulate(`/p2p/${this.peerId.toString()}`);const s=this.signallingUrl=Z3(e);Mn("connecting to signalling server on: %s",this.signallingUrl);const a=new Zj(this.signallingUrl,r,this.upgrader,this.handler,this.options.channelOptions);a.addEventListener("error",c=>{const f=c.detail;Mn("error connecting to signalling server %o",f),a.close().catch(d=>{Mn.error("error closing server after error",d)}),n.reject(f)}),a.addEventListener("listening",()=>{Mn("connected to signalling server"),this.dispatchEvent(new qt("listening")),n.resolve()}),a.addEventListener("peer",c=>{this.transport.peerDiscovered(c.detail)}),a.addEventListener("connection",c=>{const f=c.detail;if(f.remoteAddr==null)try{f.remoteAddr=e.decapsulateCode(dC).encapsulate(`/p2p/${f.remotePeer.toString()}`)}catch(d){Mn.error("could not determine remote address",d)}this.dispatchEvent(new qt("connection",{detail:f}))}),a.addEventListener("disconnect",()=>{this.transport.sigServers.delete(s)}),a.addEventListener("reconnect",()=>{this.transport.sigServers.set(s,a)}),this.transport.sigServers.set(this.signallingUrl,a),await n.promise}async close(){if(this.signallingUrl!=null){const e=this.transport.sigServers.get(this.signallingUrl);e!=null&&(await e.close(),this.transport.sigServers.delete(this.signallingUrl))}this.dispatchEvent(new qt("close")),this.listeningAddr=void 0}getAddrs(){return this.listeningAddr!=null?[this.listeningAddr]:[]}}function eV(t,e,n,r,s){return new Jj(t,e,n,r,s)}function tV(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function nV(t=0){return globalThis.Buffer?.allocUnsafe!=null?tV(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function _C(t,e){if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let n=0;n<t.byteLength;n++)if(t[n]!==e[n])return!1;return!0}function rV(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var s=0;s<t.length;s++){var a=t.charAt(s),c=a.charCodeAt(0);if(n[c]!==255)throw new TypeError(a+" is ambiguous");n[c]=s}var f=t.length,d=t.charAt(0),p=Math.log(f)/Math.log(256),g=Math.log(256)/Math.log(f);function y(v){if(v instanceof Uint8Array||(ArrayBuffer.isView(v)?v=new Uint8Array(v.buffer,v.byteOffset,v.byteLength):Array.isArray(v)&&(v=Uint8Array.from(v))),!(v instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(v.length===0)return"";for(var S=0,E=0,C=0,k=v.length;C!==k&&v[C]===0;)C++,S++;for(var A=(k-C)*g+1>>>0,T=new Uint8Array(A);C!==k;){for(var R=v[C],I=0,$=A-1;(R!==0||I<E)&&$!==-1;$--,I++)R+=256*T[$]>>>0,T[$]=R%f>>>0,R=R/f>>>0;if(R!==0)throw new Error("Non-zero carry");E=I,C++}for(var j=A-E;j!==A&&T[j]===0;)j++;for(var P=d.repeat(S);j<A;++j)P+=t.charAt(T[j]);return P}function b(v){if(typeof v!="string")throw new TypeError("Expected String");if(v.length===0)return new Uint8Array;var S=0;if(v[S]!==" "){for(var E=0,C=0;v[S]===d;)E++,S++;for(var k=(v.length-S)*p+1>>>0,A=new Uint8Array(k);v[S];){var T=n[v.charCodeAt(S)];if(T===255)return;for(var R=0,I=k-1;(T!==0||R<C)&&I!==-1;I--,R++)T+=f*A[I]>>>0,A[I]=T%256>>>0,T=T/256>>>0;if(T!==0)throw new Error("Non-zero carry");C=R,S++}if(v[S]!==" "){for(var $=k-C;$!==k&&A[$]===0;)$++;for(var j=new Uint8Array(E+(k-$)),P=E;$!==k;)j[P++]=A[$++];return j}}}function w(v){var S=b(v);if(S)return S;throw new Error(`Non-${e} character`)}return{encode:y,decodeUnsafe:b,decode:w}}var iV=rV,sV=iV;const oV=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},aV=t=>new TextEncoder().encode(t),lV=t=>new TextDecoder().decode(t);let cV=class{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},uV=class{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return J3(this,e)}},fV=class{constructor(e){this.decoders=e}or(e){return J3(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const J3=(t,e)=>new fV({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});let dV=class{constructor(e,n,r,s){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=s,this.encoder=new cV(e,n,r),this.decoder=new uV(e,n,s)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}};const xp=({name:t,prefix:e,encode:n,decode:r})=>new dV(t,e,n,r),ku=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:s}=sV(n,e);return xp({prefix:t,name:e,encode:r,decode:a=>oV(s(a))})},hV=(t,e,n,r)=>{const s={};for(let g=0;g<e.length;++g)s[e[g]]=g;let a=t.length;for(;t[a-1]==="=";)--a;const c=new Uint8Array(a*n/8|0);let f=0,d=0,p=0;for(let g=0;g<a;++g){const y=s[t[g]];if(y===void 0)throw new SyntaxError(`Non-${r} character`);d=d<<n|y,f+=n,f>=8&&(f-=8,c[p++]=255&d>>f)}if(f>=n||255&d<<8-f)throw new SyntaxError("Unexpected end of data");return c},pV=(t,e,n)=>{const r=e[e.length-1]==="=",s=(1<<n)-1;let a="",c=0,f=0;for(let d=0;d<t.length;++d)for(f=f<<8|t[d],c+=8;c>n;)c-=n,a+=e[s&f>>c];if(c&&(a+=e[s&f<<n-c]),r)for(;a.length*n&7;)a+="=";return a},En=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>xp({prefix:e,name:t,encode(s){return pV(s,r,n)},decode(s){return hV(s,r,n,t)}}),gV=ku({prefix:"9",name:"base10",alphabet:"0123456789"}),mV=Object.freeze(Object.defineProperty({__proto__:null,base10:gV},Symbol.toStringTag,{value:"Module"})),yV=En({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),bV=En({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),vV=Object.freeze(Object.defineProperty({__proto__:null,base16:yV,base16upper:bV},Symbol.toStringTag,{value:"Module"})),wV=En({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),SV=Object.freeze(Object.defineProperty({__proto__:null,base2:wV},Symbol.toStringTag,{value:"Module"})),e6=Array.from(""),EV=e6.reduce((t,e,n)=>(t[n]=e,t),[]),xV=e6.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function CV(t){return t.reduce((e,n)=>(e+=EV[n],e),"")}function AV(t){const e=[];for(const n of t){const r=xV[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}const _V=xp({prefix:"",name:"base256emoji",encode:CV,decode:AV}),TV=Object.freeze(Object.defineProperty({__proto__:null,base256emoji:_V},Symbol.toStringTag,{value:"Module"})),RV=En({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),OV=En({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),MV=En({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),DV=En({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),kV=En({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),LV=En({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),NV=En({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),BV=En({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),IV=En({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),PV=Object.freeze(Object.defineProperty({__proto__:null,base32:RV,base32hex:kV,base32hexpad:NV,base32hexpadupper:BV,base32hexupper:LV,base32pad:MV,base32padupper:DV,base32upper:OV,base32z:IV},Symbol.toStringTag,{value:"Module"})),$V=ku({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),UV=ku({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),zV=Object.freeze(Object.defineProperty({__proto__:null,base36:$V,base36upper:UV},Symbol.toStringTag,{value:"Module"})),FV=ku({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),qV=ku({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),HV=Object.freeze(Object.defineProperty({__proto__:null,base58btc:FV,base58flickr:qV},Symbol.toStringTag,{value:"Module"})),jV=En({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),VV=En({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),KV=En({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),GV=En({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),YV=Object.freeze(Object.defineProperty({__proto__:null,base64:jV,base64pad:VV,base64url:KV,base64urlpad:GV},Symbol.toStringTag,{value:"Module"})),XV=En({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),WV=Object.freeze(Object.defineProperty({__proto__:null,base8:XV},Symbol.toStringTag,{value:"Module"})),QV=xp({prefix:"\0",name:"identity",encode:t=>lV(t),decode:t=>aV(t)}),ZV=Object.freeze(Object.defineProperty({__proto__:null,identity:QV},Symbol.toStringTag,{value:"Module"}));new TextEncoder;new TextDecoder;const TC={...ZV,...SV,...WV,...mV,...vV,...PV,...zV,...HV,...YV,...TV};function t6(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const RC=t6("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),Yy=t6("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=nV(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),JV={utf8:RC,"utf-8":RC,hex:TC.base16,latin1:Yy,ascii:Yy,binary:Yy,...TC};function eK(t,e="utf8"){const n=JV[e];if(n==null)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):n.encoder.encode(t).substring(1)}const tK=Symbol.for("@libp2p/peer-id");function nK(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var s=0;s<t.length;s++){var a=t.charAt(s),c=a.charCodeAt(0);if(n[c]!==255)throw new TypeError(a+" is ambiguous");n[c]=s}var f=t.length,d=t.charAt(0),p=Math.log(f)/Math.log(256),g=Math.log(256)/Math.log(f);function y(v){if(v instanceof Uint8Array||(ArrayBuffer.isView(v)?v=new Uint8Array(v.buffer,v.byteOffset,v.byteLength):Array.isArray(v)&&(v=Uint8Array.from(v))),!(v instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(v.length===0)return"";for(var S=0,E=0,C=0,k=v.length;C!==k&&v[C]===0;)C++,S++;for(var A=(k-C)*g+1>>>0,T=new Uint8Array(A);C!==k;){for(var R=v[C],I=0,$=A-1;(R!==0||I<E)&&$!==-1;$--,I++)R+=256*T[$]>>>0,T[$]=R%f>>>0,R=R/f>>>0;if(R!==0)throw new Error("Non-zero carry");E=I,C++}for(var j=A-E;j!==A&&T[j]===0;)j++;for(var P=d.repeat(S);j<A;++j)P+=t.charAt(T[j]);return P}function b(v){if(typeof v!="string")throw new TypeError("Expected String");if(v.length===0)return new Uint8Array;var S=0;if(v[S]!==" "){for(var E=0,C=0;v[S]===d;)E++,S++;for(var k=(v.length-S)*p+1>>>0,A=new Uint8Array(k);v[S];){var T=n[v.charCodeAt(S)];if(T===255)return;for(var R=0,I=k-1;(T!==0||R<C)&&I!==-1;I--,R++)T+=f*A[I]>>>0,A[I]=T%256>>>0,T=T/256>>>0;if(T!==0)throw new Error("Non-zero carry");C=R,S++}if(v[S]!==" "){for(var $=k-C;$!==k&&A[$]===0;)$++;for(var j=new Uint8Array(E+(k-$)),P=E;$!==k;)j[P++]=A[$++];return j}}}function w(v){var S=b(v);if(S)return S;throw new Error(`Non-${e} character`)}return{encode:y,decodeUnsafe:b,decode:w}}var rK=nK,iK=rK;const sK=(t,e)=>{if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let n=0;n<t.byteLength;n++)if(t[n]!==e[n])return!1;return!0},Cp=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},oK=t=>new TextEncoder().encode(t),aK=t=>new TextDecoder().decode(t);class lK{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class cK{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return n6(this,e)}}class uK{constructor(e){this.decoders=e}or(e){return n6(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const n6=(t,e)=>new uK({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class fK{constructor(e,n,r,s){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=s,this.encoder=new lK(e,n,r),this.decoder=new cK(e,n,s)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const Ap=({name:t,prefix:e,encode:n,decode:r})=>new fK(t,e,n,r),Lu=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:s}=iK(n,e);return Ap({prefix:t,name:e,encode:r,decode:a=>Cp(s(a))})},dK=(t,e,n,r)=>{const s={};for(let g=0;g<e.length;++g)s[e[g]]=g;let a=t.length;for(;t[a-1]==="=";)--a;const c=new Uint8Array(a*n/8|0);let f=0,d=0,p=0;for(let g=0;g<a;++g){const y=s[t[g]];if(y===void 0)throw new SyntaxError(`Non-${r} character`);d=d<<n|y,f+=n,f>=8&&(f-=8,c[p++]=255&d>>f)}if(f>=n||255&d<<8-f)throw new SyntaxError("Unexpected end of data");return c},hK=(t,e,n)=>{const r=e[e.length-1]==="=",s=(1<<n)-1;let a="",c=0,f=0;for(let d=0;d<t.length;++d)for(f=f<<8|t[d],c+=8;c>n;)c-=n,a+=e[s&f>>c];if(c&&(a+=e[s&f<<n-c]),r)for(;a.length*n&7;)a+="=";return a},xn=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>Ap({prefix:e,name:t,encode(s){return hK(s,r,n)},decode(s){return dK(s,r,n,t)}}),qr=Lu({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),pK=Lu({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),gK=Object.freeze(Object.defineProperty({__proto__:null,base58btc:qr,base58flickr:pK},Symbol.toStringTag,{value:"Module"})),mK=Ap({prefix:"\0",name:"identity",encode:t=>aK(t),decode:t=>oK(t)}),yK=Object.freeze(Object.defineProperty({__proto__:null,identity:mK},Symbol.toStringTag,{value:"Module"})),bK=xn({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),vK=Object.freeze(Object.defineProperty({__proto__:null,base2:bK},Symbol.toStringTag,{value:"Module"})),wK=xn({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),SK=Object.freeze(Object.defineProperty({__proto__:null,base8:wK},Symbol.toStringTag,{value:"Module"})),EK=Lu({prefix:"9",name:"base10",alphabet:"0123456789"}),xK=Object.freeze(Object.defineProperty({__proto__:null,base10:EK},Symbol.toStringTag,{value:"Module"})),CK=xn({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),AK=xn({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),_K=Object.freeze(Object.defineProperty({__proto__:null,base16:CK,base16upper:AK},Symbol.toStringTag,{value:"Module"})),jc=xn({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),TK=xn({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),RK=xn({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),OK=xn({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),MK=xn({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),DK=xn({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),kK=xn({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),LK=xn({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),NK=xn({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),BK=Object.freeze(Object.defineProperty({__proto__:null,base32:jc,base32hex:MK,base32hexpad:kK,base32hexpadupper:LK,base32hexupper:DK,base32pad:RK,base32padupper:OK,base32upper:TK,base32z:NK},Symbol.toStringTag,{value:"Module"})),IK=Lu({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),PK=Lu({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),$K=Object.freeze(Object.defineProperty({__proto__:null,base36:IK,base36upper:PK},Symbol.toStringTag,{value:"Module"})),UK=xn({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),zK=xn({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),FK=xn({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),qK=xn({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),HK=Object.freeze(Object.defineProperty({__proto__:null,base64:UK,base64pad:zK,base64url:FK,base64urlpad:qK},Symbol.toStringTag,{value:"Module"})),r6=Array.from(""),jK=r6.reduce((t,e,n)=>(t[n]=e,t),[]),VK=r6.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function KK(t){return t.reduce((e,n)=>(e+=jK[n],e),"")}function GK(t){const e=[];for(const n of t){const r=VK[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}const YK=Ap({prefix:"",name:"base256emoji",encode:KK,decode:GK}),XK=Object.freeze(Object.defineProperty({__proto__:null,base256emoji:YK},Symbol.toStringTag,{value:"Module"}));var WK=i6,OC=128,QK=-128,ZK=Math.pow(2,31);function i6(t,e,n){e=e||[],n=n||0;for(var r=n;t>=ZK;)e[n++]=t&255|OC,t/=128;for(;t&QK;)e[n++]=t&255|OC,t>>>=7;return e[n]=t|0,i6.bytes=n-r+1,e}var JK=Wb,eG=128,MC=127;function Wb(t,r){var n=0,r=r||0,s=0,a=r,c,f=t.length;do{if(a>=f)throw Wb.bytes=0,new RangeError("Could not decode varint");c=t[a++],n+=s<28?(c&MC)<<s:(c&MC)*Math.pow(2,s),s+=7}while(c>=eG);return Wb.bytes=a-r,n}var tG=Math.pow(2,7),nG=Math.pow(2,14),rG=Math.pow(2,21),iG=Math.pow(2,28),sG=Math.pow(2,35),oG=Math.pow(2,42),aG=Math.pow(2,49),lG=Math.pow(2,56),cG=Math.pow(2,63),uG=function(t){return t<tG?1:t<nG?2:t<rG?3:t<iG?4:t<sG?5:t<oG?6:t<aG?7:t<lG?8:t<cG?9:10},fG={encode:WK,decode:JK,encodingLength:uG},Ch=fG;const Qb=(t,e=0)=>[Ch.decode(t,e),Ch.decode.bytes],Ah=(t,e,n=0)=>(Ch.encode(t,e,n),e),_h=t=>Ch.encodingLength(t),Th=(t,e)=>{const n=e.byteLength,r=_h(t),s=r+_h(n),a=new Uint8Array(s+n);return Ah(t,a,0),Ah(n,a,r),a.set(e,s),new xv(t,n,e,a)},Ev=t=>{const e=Cp(t),[n,r]=Qb(e),[s,a]=Qb(e.subarray(r)),c=e.subarray(r+a);if(c.byteLength!==s)throw new Error("Incorrect length");return new xv(n,s,c,e)},dG=(t,e)=>{if(t===e)return!0;{const n=e;return t.code===n.code&&t.size===n.size&&n.bytes instanceof Uint8Array&&sK(t.bytes,n.bytes)}};class xv{constructor(e,n,r,s){this.code=e,this.size=n,this.digest=r,this.bytes=s}}const hG=({name:t,code:e,encode:n})=>new pG(t,e,n);class pG{constructor(e,n,r){this.name=e,this.code=n,this.encode=r}digest(e){if(e instanceof Uint8Array){const n=this.encode(e);return n instanceof Uint8Array?Th(this.code,n):n.then(r=>Th(this.code,r))}else throw Error("Unknown type, must be binary type")}}const gG=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),s6=hG({name:"sha2-256",code:18,encode:gG("SHA-256")}),o6=0,mG="identity",a6=Cp,yG=t=>Th(o6,a6(t)),l6={code:o6,name:mG,encode:a6,digest:yG};new TextEncoder;new TextDecoder;const DC=(t,e)=>{const{bytes:n,version:r}=t;switch(r){case 0:return vG(n,Zb(t),e||qr.encoder);default:return wG(n,Zb(t),e||jc.encoder)}},kC=new WeakMap,Zb=t=>{const e=kC.get(t);if(e==null){const n=new Map;return kC.set(t,n),n}return e};class un{constructor(e,n,r,s){this.code=n,this.version=e,this.multihash=r,this.bytes=s,this["/"]=s}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{const{code:e,multihash:n}=this;if(e!==Rc)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(n.code!==SG)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return un.createV0(n)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{const{code:e,digest:n}=this.multihash,r=Th(e,n);return un.createV1(this.code,r)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(e){return un.equals(this,e)}static equals(e,n){const r=n;return r&&e.code===r.code&&e.version===r.version&&dG(e.multihash,r.multihash)}toString(e){return DC(this,e)}toJSON(){return{"/":DC(this)}}link(){return this}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(e){if(e==null)return null;const n=e;if(n instanceof un)return n;if(n["/"]!=null&&n["/"]===n.bytes||n.asCID===n){const{version:r,code:s,multihash:a,bytes:c}=n;return new un(r,s,a,c||LC(r,s,a.bytes))}else if(n[EG]===!0){const{version:r,multihash:s,code:a}=n,c=Ev(s);return un.create(r,a,c)}else return null}static create(e,n,r){if(typeof n!="number")throw new Error("String codecs are no longer supported");if(!(r.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(e){case 0:{if(n!==Rc)throw new Error(`Version 0 CID must use dag-pb (code: ${Rc}) block encoding`);return new un(e,n,r,r.bytes)}case 1:{const s=LC(e,n,r.bytes);return new un(e,n,r,s)}default:throw new Error("Invalid version")}}static createV0(e){return un.create(0,Rc,e)}static createV1(e,n){return un.create(1,e,n)}static decode(e){const[n,r]=un.decodeFirst(e);if(r.length)throw new Error("Incorrect length");return n}static decodeFirst(e){const n=un.inspectBytes(e),r=n.size-n.multihashSize,s=Cp(e.subarray(r,r+n.multihashSize));if(s.byteLength!==n.multihashSize)throw new Error("Incorrect length");const a=s.subarray(n.multihashSize-n.digestSize),c=new xv(n.multihashCode,n.digestSize,a,s);return[n.version===0?un.createV0(c):un.createV1(n.codec,c),e.subarray(n.size)]}static inspectBytes(e){let n=0;const r=()=>{const[y,b]=Qb(e.subarray(n));return n+=b,y};let s=r(),a=Rc;if(s===18?(s=0,n=0):a=r(),s!==0&&s!==1)throw new RangeError(`Invalid CID version ${s}`);const c=n,f=r(),d=r(),p=n+d,g=p-c;return{version:s,codec:a,multihashCode:f,digestSize:d,multihashSize:g,size:p}}static parse(e,n){const[r,s]=bG(e,n),a=un.decode(s);if(a.version===0&&e[0]!=="Q")throw Error("Version 0 CID string must not include multibase prefix");return Zb(a).set(r,e),a}}const bG=(t,e)=>{switch(t[0]){case"Q":{const n=e||qr;return[qr.prefix,n.decode(`${qr.prefix}${t}`)]}case qr.prefix:{const n=e||qr;return[qr.prefix,n.decode(t)]}case jc.prefix:{const n=e||jc;return[jc.prefix,n.decode(t)]}default:{if(e==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[t[0],e.decode(t)]}}},vG=(t,e,n)=>{const{prefix:r}=n;if(r!==qr.prefix)throw Error(`Cannot string encode V0 in ${n.name} encoding`);const s=e.get(r);if(s==null){const a=n.encode(t).slice(1);return e.set(r,a),a}else return s},wG=(t,e,n)=>{const{prefix:r}=n,s=e.get(r);if(s==null){const a=n.encode(t);return e.set(r,a),a}else return s},Rc=112,SG=18,LC=(t,e,n)=>{const r=_h(t),s=r+_h(e),a=new Uint8Array(s+n.byteLength);return Ah(t,a,0),Ah(e,a,r),a.set(n,s),a},EG=Symbol.for("@ipld/js-cid/CID"),NC={...yK,...vK,...SK,...xK,..._K,...BK,...$K,...gK,...HK,...XK},xG=Symbol.for("nodejs.util.inspect.custom"),CG=Object.values(NC).map(t=>t.decoder).reduce((t,e)=>t.or(e),NC.identity.decoder),c6=114,u6=36,f6=37;class Cv{type;multihash;privateKey;publicKey;string;constructor(e){this.type=e.type,this.multihash=e.multihash,this.privateKey=e.privateKey,Object.defineProperty(this,"string",{enumerable:!1,writable:!0})}get[Symbol.toStringTag](){return`PeerId(${this.toString()})`}[tK]=!0;toString(){return this.string==null&&(this.string=qr.encode(this.multihash.bytes).slice(1)),this.string}toCID(){return un.createV1(c6,this.multihash)}toBytes(){return this.multihash.bytes}toJSON(){return this.toString()}equals(e){if(e instanceof Uint8Array)return _C(this.multihash.bytes,e);if(typeof e=="string")return d6(e).equals(this);if(e?.multihash?.bytes!=null)return _C(this.multihash.bytes,e.multihash.bytes);throw new Error("not valid Id")}[xG](){return`PeerId(${this.toString()})`}}class Av extends Cv{type="RSA";publicKey;constructor(e){super({...e,type:"RSA"}),this.publicKey=e.publicKey}}class _v extends Cv{type="Ed25519";publicKey;constructor(e){super({...e,type:"Ed25519"}),this.publicKey=e.multihash.digest}}class Tv extends Cv{type="secp256k1";publicKey;constructor(e){super({...e,type:"secp256k1"}),this.publicKey=e.multihash.digest}}function d6(t,e){if(t.charAt(0)==="1"||t.charAt(0)==="Q"){const n=Ev(qr.decode(`z${t}`));return t.startsWith("12D")?new _v({multihash:n}):t.startsWith("16U")?new Tv({multihash:n}):new Av({multihash:n})}return AG(CG.decode(t))}function AG(t){try{const e=Ev(t);if(e.code===l6.code){if(e.digest.length===u6)return new _v({multihash:e});if(e.digest.length===f6)return new Tv({multihash:e})}if(e.code===s6.code)return new Av({multihash:e})}catch{return _G(un.decode(t))}throw new Error("Supplied PeerID CID is invalid")}function _G(t){if(t==null||t.multihash==null||t.version==null||t.version===1&&t.code!==c6)throw new Error("Supplied PeerID CID is invalid");const e=t.multihash;if(e.code===s6.code)return new Av({multihash:t.multihash});if(e.code===l6.code){if(e.digest.length===u6)return new _v({multihash:t.multihash});if(e.digest.length===f6)return new Tv({multihash:t.multihash})}throw new Error("Supplied PeerID CID is invalid")}const TG=Symbol.for("@libp2p/transport");var BC;(function(t){t[t.FATAL_ALL=0]="FATAL_ALL",t[t.NO_FATAL=1]="NO_FATAL"})(BC||(BC={}));const RG=Symbol.for("@libp2p/peer-discovery"),OG="RTCPeerConnection"in globalThis,ro=pl("libp2p:webrtc-star"),MG=()=>{};class DG extends Mu{constructor(){super(...arguments),this.started=!1}get[RG](){return!0}get[Symbol.toStringTag](){return"@libp2p/webrtc-star-discovery"}isStarted(){return this.started}async start(){this.started=!0}async stop(){this.started=!1}dispatchEvent(e){return this.isStarted()?super.dispatchEvent(e):!1}}class kG{constructor(e){e?.wrtc!=null&&(this.wrtc=e.wrtc),this.sigServers=new Map,this._discovery=new DG,this.discovery=()=>this._discovery,this.peerDiscovered=this.peerDiscovered.bind(this)}get[TG](){return!0}get[Symbol.toStringTag](){return"@libp2p/webrtc-star"}async dial(e,n){const r=await this._connect(e,n),s=Q3(r,{remoteAddr:e,signal:n.signal});ro("new outbound connection %s",s.remoteAddr);const a=await n.upgrader.upgradeOutbound(s);return ro("outbound connection %s upgraded",s.remoteAddr),a}async _connect(e,n){if(n.signal?.aborted===!0)throw new Sh;const r={...n.channelOptions??{}};this.wrtc!=null&&(r.wrtc=this.wrtc);const s=e.toOptions(),a=eK(Sv(36),"hex");return await new Promise((c,f)=>{const d=this.sigServers.get(Z3(e));if(d?.socket==null){f(Vr(new Error("unknown signal server to use"),"ERR_UNKNOWN_SIGNAL_SERVER"));return}let p=!1;ro("dialing %s:%s",s.host,s.port);const g=new Yj(r),y=S=>{const E=S.detail;if(!p){const C=`connection error ${s.host}:${s.port}: ${E.message}`;ro.error(C),v(E)}},b=()=>{p=!0,ro("connection opened %s:%s",s.host,s.port),v()},w=()=>{ro.error("connection aborted %s:%s",s.host,s.port),g.close().finally(()=>{v(new Sh)})},v=S=>{g.removeEventListener("ready",b),n.signal?.removeEventListener("abort",w),S==null?c(g):f(S)};g.addEventListener("ready",b,{once:!0}),g.addEventListener("close",()=>{g.removeEventListener("error",y)}),n.signal?.addEventListener("abort",w),g.addEventListener("signal",S=>{const E=S.detail;d.socket.emit("ss-handshake",{intentId:a,srcMultiaddr:d.signallingAddr.toString(),dstMultiaddr:e.toString(),signal:E})}),d.socket.on("ws-handshake",S=>{S.intentId===a&&S.err!=null&&g.close().finally(()=>{f(Vr(new Error(S.err),"ERR_SIGNALLING_FAILED"))}),!(S.intentId!==a||S.answer==null||g.closed)&&g.handleSignal(S.signal)})})}createListener(e){if(!OG&&this.wrtc==null)throw Vr(new Error("no WebRTC support"),"ERR_NO_WEBRTC_SUPPORT");if(e.channelOptions=e.channelOptions??{},this.wrtc!=null&&(e.channelOptions.wrtc=this.wrtc),this.peerId==null)throw Vr(new Error("PeerId not set"),"ERR_MISSING_PEER_ID");return eV(e.upgrader,e.handler??MG,this.peerId,this,e)}filter(e){return e=Array.isArray(e)?e:[e],e.filter(n=>n.protoCodes().includes(Bq)?!1:mv.matches(n))}peerDiscovered(e){ro("peer discovered: %s",e),e=Wj(e);const n=_t(e),r=n.getPeerId();if(r==null)return;const s=d6(r);this._discovery.dispatchEvent(new qt("peer",{detail:{id:s,multiaddrs:[n],protocols:[]}}))}}function LG(t={}){const e=new kG(t);return{transport:n=>(e.peerId=n.peerId,e),discovery:e.discovery}}function IC(){const t=Gt();let e=!1;return{sink:async n=>{if(e)throw new Error("already piped");e=!0,t.resolve(n)},source:async function*(){yield*await t.promise}()}}function NG(){const t=IC(),e=IC();return[{source:t.source,sink:e.sink},{source:e.source,sink:t.sink}]}function BG(t,...e){if(t==null)throw new Error("Empty pipeline");if(Xy(t)){const r=t;t=()=>r.source}else if(p6(t)||h6(t)){const r=t;t=()=>r}const n=[t,...e];if(n.length>1&&Xy(n[n.length-1])&&(n[n.length-1]=n[n.length-1].sink),n.length>2)for(let r=1;r<n.length-1;r++)Xy(n[r])&&(n[r]=PG(n[r]));return IG(...n)}const IG=(...t)=>{let e;for(;t.length>0;)e=t.shift()(e);return e},h6=t=>t?.[Symbol.asyncIterator]!=null,p6=t=>t?.[Symbol.iterator]!=null,Xy=t=>t==null?!1:t.sink!=null&&t.source!=null,PG=t=>e=>{const n=t.sink(e);if(n?.then!=null){const r=fp({objectMode:!0});n.then(()=>{r.end()},c=>{r.end(c)});let s;const a=t.source;if(h6(a))s=async function*(){yield*a,r.end()};else if(p6(a))s=function*(){yield*a,r.end()};else throw new Error("Unknown duplex source type - must be Iterable or AsyncIterable");return wh(r,s())}return t.source};var $G={};const uu=65535,PC=uu-16,Nu=!!$G?.DUMP_SESSION_KEYS;/*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) */function g6(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Jb(t){if(typeof t!="boolean")throw new Error(`boolean expected, not ${t}`)}function Wy(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function Gn(t,...e){if(!g6(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function $C(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function UG(t,e){Gn(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function Os(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function ll(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function zG(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}const FG=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function qG(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function e0(t){if(typeof t=="string")t=qG(t);else if(g6(t))t=t0(t);else throw new Error("Uint8Array expected, got "+typeof t);return t}function HG(t,e){if(e==null||typeof e!="object")throw new Error("options must be defined");return Object.assign(t,e)}function jG(t,e){if(t.length!==e.length)return!1;let n=0;for(let r=0;r<t.length;r++)n|=t[r]^e[r];return n===0}const VG=(t,e)=>{function n(r,...s){if(Gn(r),!FG)throw new Error("Non little-endian hardware is not yet supported");if(t.nonceLength!==void 0){const g=s[0];if(!g)throw new Error("nonce / iv required");t.varSizeNonce?Gn(g):Gn(g,t.nonceLength)}const a=t.tagLength;a&&s[1]!==void 0&&Gn(s[1]);const c=e(r,...s),f=(g,y)=>{if(y!==void 0){if(g!==2)throw new Error("cipher output not supported");Gn(y)}};let d=!1;return{encrypt(g,y){if(d)throw new Error("cannot encrypt() twice with same key + nonce");return d=!0,Gn(g),f(c.encrypt.length,y),c.encrypt(g,y)},decrypt(g,y){if(Gn(g),a&&g.length<a)throw new Error("invalid ciphertext length: smaller than tagLength="+a);return f(c.decrypt.length,y),c.decrypt(g,y)}}}return Object.assign(n,t),n};function UC(t,e,n=!0){if(e===void 0)return new Uint8Array(t);if(e.length!==t)throw new Error("invalid output length, expected "+t+", got: "+e.length);if(n&&!GG(e))throw new Error("invalid output, must be aligned");return e}function zC(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const s=BigInt(32),a=BigInt(4294967295),c=Number(n>>s&a),f=Number(n&a),d=4,p=0;t.setUint32(e+d,c,r),t.setUint32(e+p,f,r)}function KG(t,e,n){Jb(n);const r=new Uint8Array(16),s=zG(r);return zC(s,0,BigInt(e),n),zC(s,8,BigInt(t),n),r}function GG(t){return t.byteOffset%4===0}function t0(t){return Uint8Array.from(t)}const m6=t=>Uint8Array.from(t.split("").map(e=>e.charCodeAt(0))),YG=m6("expand 16-byte k"),XG=m6("expand 32-byte k"),WG=Os(YG),QG=Os(XG);function Ke(t,e){return t<<e|t>>>32-e}function n0(t){return t.byteOffset%4===0}const _d=64,ZG=16,y6=2**32-1,FC=new Uint32Array;function JG(t,e,n,r,s,a,c,f){const d=s.length,p=new Uint8Array(_d),g=Os(p),y=n0(s)&&n0(a),b=y?Os(s):FC,w=y?Os(a):FC;for(let v=0;v<d;c++){if(t(e,n,r,g,c,f),c>=y6)throw new Error("arx: counter overflow");const S=Math.min(_d,d-v);if(y&&S===_d){const E=v/4;if(v%4!==0)throw new Error("arx: invalid block position");for(let C=0,k;C<ZG;C++)k=E+C,w[k]=b[k]^g[C];v+=_d;continue}for(let E=0,C;E<S;E++)C=v+E,a[C]=s[C]^p[E];v+=S}}function eY(t,e){const{allowShortKeys:n,extendNonceFn:r,counterLength:s,counterRight:a,rounds:c}=HG({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},e);if(typeof t!="function")throw new Error("core must be a function");return Wy(s),Wy(c),Jb(a),Jb(n),(f,d,p,g,y=0)=>{Gn(f),Gn(d),Gn(p);const b=p.length;if(g===void 0&&(g=new Uint8Array(b)),Gn(g),Wy(y),y<0||y>=y6)throw new Error("arx: counter overflow");if(g.length<b)throw new Error(`arx: output (${g.length}) is shorter than data (${b})`);const w=[];let v=f.length,S,E;if(v===32)w.push(S=t0(f)),E=QG;else if(v===16&&n)S=new Uint8Array(32),S.set(f),S.set(f,16),E=WG,w.push(S);else throw new Error(`arx: invalid 32-byte key, got length=${v}`);n0(d)||w.push(d=t0(d));const C=Os(S);if(r){if(d.length!==24)throw new Error("arx: extended nonce must be 24 bytes");r(E,C,Os(d.subarray(0,16)),C),d=d.subarray(16)}const k=16-s;if(k!==d.length)throw new Error(`arx: nonce must be ${k} or 16 bytes`);if(k!==12){const T=new Uint8Array(12);T.set(d,a?0:12-d.length),d=T,w.push(d)}const A=Os(d);return JG(t,E,C,A,p,g,y,c),ll(...w),g}}const mn=(t,e)=>t[e++]&255|(t[e++]&255)<<8;class tY{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,e=e0(e),Gn(e,32);const n=mn(e,0),r=mn(e,2),s=mn(e,4),a=mn(e,6),c=mn(e,8),f=mn(e,10),d=mn(e,12),p=mn(e,14);this.r[0]=n&8191,this.r[1]=(n>>>13|r<<3)&8191,this.r[2]=(r>>>10|s<<6)&7939,this.r[3]=(s>>>7|a<<9)&8191,this.r[4]=(a>>>4|c<<12)&255,this.r[5]=c>>>1&8190,this.r[6]=(c>>>14|f<<2)&8191,this.r[7]=(f>>>11|d<<5)&8065,this.r[8]=(d>>>8|p<<8)&8191,this.r[9]=p>>>5&127;for(let g=0;g<8;g++)this.pad[g]=mn(e,16+2*g)}process(e,n,r=!1){const s=r?0:2048,{h:a,r:c}=this,f=c[0],d=c[1],p=c[2],g=c[3],y=c[4],b=c[5],w=c[6],v=c[7],S=c[8],E=c[9],C=mn(e,n+0),k=mn(e,n+2),A=mn(e,n+4),T=mn(e,n+6),R=mn(e,n+8),I=mn(e,n+10),$=mn(e,n+12),j=mn(e,n+14);let P=a[0]+(C&8191),G=a[1]+((C>>>13|k<<3)&8191),W=a[2]+((k>>>10|A<<6)&8191),_=a[3]+((A>>>7|T<<9)&8191),B=a[4]+((T>>>4|R<<12)&8191),L=a[5]+(R>>>1&8191),N=a[6]+((R>>>14|I<<2)&8191),M=a[7]+((I>>>11|$<<5)&8191),q=a[8]+(($>>>8|j<<8)&8191),K=a[9]+(j>>>5|s),F=0,D=F+P*f+G*(5*E)+W*(5*S)+_*(5*v)+B*(5*w);F=D>>>13,D&=8191,D+=L*(5*b)+N*(5*y)+M*(5*g)+q*(5*p)+K*(5*d),F+=D>>>13,D&=8191;let H=F+P*d+G*f+W*(5*E)+_*(5*S)+B*(5*v);F=H>>>13,H&=8191,H+=L*(5*w)+N*(5*b)+M*(5*y)+q*(5*g)+K*(5*p),F+=H>>>13,H&=8191;let Q=F+P*p+G*d+W*f+_*(5*E)+B*(5*S);F=Q>>>13,Q&=8191,Q+=L*(5*v)+N*(5*w)+M*(5*b)+q*(5*y)+K*(5*g),F+=Q>>>13,Q&=8191;let te=F+P*g+G*p+W*d+_*f+B*(5*E);F=te>>>13,te&=8191,te+=L*(5*S)+N*(5*v)+M*(5*w)+q*(5*b)+K*(5*y),F+=te>>>13,te&=8191;let ae=F+P*y+G*g+W*p+_*d+B*f;F=ae>>>13,ae&=8191,ae+=L*(5*E)+N*(5*S)+M*(5*v)+q*(5*w)+K*(5*b),F+=ae>>>13,ae&=8191;let se=F+P*b+G*y+W*g+_*p+B*d;F=se>>>13,se&=8191,se+=L*f+N*(5*E)+M*(5*S)+q*(5*v)+K*(5*w),F+=se>>>13,se&=8191;let le=F+P*w+G*b+W*y+_*g+B*p;F=le>>>13,le&=8191,le+=L*d+N*f+M*(5*E)+q*(5*S)+K*(5*v),F+=le>>>13,le&=8191;let ge=F+P*v+G*w+W*b+_*y+B*g;F=ge>>>13,ge&=8191,ge+=L*p+N*d+M*f+q*(5*E)+K*(5*S),F+=ge>>>13,ge&=8191;let he=F+P*S+G*v+W*w+_*b+B*y;F=he>>>13,he&=8191,he+=L*g+N*p+M*d+q*f+K*(5*E),F+=he>>>13,he&=8191;let fe=F+P*E+G*S+W*v+_*w+B*b;F=fe>>>13,fe&=8191,fe+=L*y+N*g+M*p+q*d+K*f,F+=fe>>>13,fe&=8191,F=(F<<2)+F|0,F=F+D|0,D=F&8191,F=F>>>13,H+=F,a[0]=D,a[1]=H,a[2]=Q,a[3]=te,a[4]=ae,a[5]=se,a[6]=le,a[7]=ge,a[8]=he,a[9]=fe}finalize(){const{h:e,pad:n}=this,r=new Uint16Array(10);let s=e[1]>>>13;e[1]&=8191;for(let f=2;f<10;f++)e[f]+=s,s=e[f]>>>13,e[f]&=8191;e[0]+=s*5,s=e[0]>>>13,e[0]&=8191,e[1]+=s,s=e[1]>>>13,e[1]&=8191,e[2]+=s,r[0]=e[0]+5,s=r[0]>>>13,r[0]&=8191;for(let f=1;f<10;f++)r[f]=e[f]+s,s=r[f]>>>13,r[f]&=8191;r[9]-=8192;let a=(s^1)-1;for(let f=0;f<10;f++)r[f]&=a;a=~a;for(let f=0;f<10;f++)e[f]=e[f]&a|r[f];e[0]=(e[0]|e[1]<<13)&65535,e[1]=(e[1]>>>3|e[2]<<10)&65535,e[2]=(e[2]>>>6|e[3]<<7)&65535,e[3]=(e[3]>>>9|e[4]<<4)&65535,e[4]=(e[4]>>>12|e[5]<<1|e[6]<<14)&65535,e[5]=(e[6]>>>2|e[7]<<11)&65535,e[6]=(e[7]>>>5|e[8]<<8)&65535,e[7]=(e[8]>>>8|e[9]<<5)&65535;let c=e[0]+n[0];e[0]=c&65535;for(let f=1;f<8;f++)c=(e[f]+n[f]|0)+(c>>>16)|0,e[f]=c&65535;ll(r)}update(e){$C(this),e=e0(e),Gn(e);const{buffer:n,blockLen:r}=this,s=e.length;for(let a=0;a<s;){const c=Math.min(r-this.pos,s-a);if(c===r){for(;r<=s-a;a+=r)this.process(e,a);continue}n.set(e.subarray(a,a+c),this.pos),this.pos+=c,a+=c,this.pos===r&&(this.process(n,0,!1),this.pos=0)}return this}destroy(){ll(this.h,this.r,this.buffer,this.pad)}digestInto(e){$C(this),UG(e,this),this.finished=!0;const{buffer:n,h:r}=this;let{pos:s}=this;if(s){for(n[s++]=1;s<16;s++)n[s]=0;this.process(n,0,!0)}this.finalize();let a=0;for(let c=0;c<8;c++)e[a++]=r[c]>>>0,e[a++]=r[c]>>>8;return e}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}}function nY(t){const e=(r,s)=>t(s).update(e0(r)).digest(),n=t(new Uint8Array(32));return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=r=>t(r),e}const rY=nY(t=>new tY(t));function iY(t,e,n,r,s,a=20){let c=t[0],f=t[1],d=t[2],p=t[3],g=e[0],y=e[1],b=e[2],w=e[3],v=e[4],S=e[5],E=e[6],C=e[7],k=s,A=n[0],T=n[1],R=n[2],I=c,$=f,j=d,P=p,G=g,W=y,_=b,B=w,L=v,N=S,M=E,q=C,K=k,F=A,D=T,H=R;for(let te=0;te<a;te+=2)I=I+G|0,K=Ke(K^I,16),L=L+K|0,G=Ke(G^L,12),I=I+G|0,K=Ke(K^I,8),L=L+K|0,G=Ke(G^L,7),$=$+W|0,F=Ke(F^$,16),N=N+F|0,W=Ke(W^N,12),$=$+W|0,F=Ke(F^$,8),N=N+F|0,W=Ke(W^N,7),j=j+_|0,D=Ke(D^j,16),M=M+D|0,_=Ke(_^M,12),j=j+_|0,D=Ke(D^j,8),M=M+D|0,_=Ke(_^M,7),P=P+B|0,H=Ke(H^P,16),q=q+H|0,B=Ke(B^q,12),P=P+B|0,H=Ke(H^P,8),q=q+H|0,B=Ke(B^q,7),I=I+W|0,H=Ke(H^I,16),M=M+H|0,W=Ke(W^M,12),I=I+W|0,H=Ke(H^I,8),M=M+H|0,W=Ke(W^M,7),$=$+_|0,K=Ke(K^$,16),q=q+K|0,_=Ke(_^q,12),$=$+_|0,K=Ke(K^$,8),q=q+K|0,_=Ke(_^q,7),j=j+B|0,F=Ke(F^j,16),L=L+F|0,B=Ke(B^L,12),j=j+B|0,F=Ke(F^j,8),L=L+F|0,B=Ke(B^L,7),P=P+G|0,D=Ke(D^P,16),N=N+D|0,G=Ke(G^N,12),P=P+G|0,D=Ke(D^P,8),N=N+D|0,G=Ke(G^N,7);let Q=0;r[Q++]=c+I|0,r[Q++]=f+$|0,r[Q++]=d+j|0,r[Q++]=p+P|0,r[Q++]=g+G|0,r[Q++]=y+W|0,r[Q++]=b+_|0,r[Q++]=w+B|0,r[Q++]=v+L|0,r[Q++]=S+N|0,r[Q++]=E+M|0,r[Q++]=C+q|0,r[Q++]=k+K|0,r[Q++]=A+F|0,r[Q++]=T+D|0,r[Q++]=R+H|0}const sY=eY(iY,{counterRight:!1,counterLength:4,allowShortKeys:!1}),oY=new Uint8Array(16),qC=(t,e)=>{t.update(e);const n=e.length%16;n&&t.update(oY.subarray(n))},aY=new Uint8Array(32);function HC(t,e,n,r,s){const a=t(e,n,aY),c=rY.create(a);s&&qC(c,s),qC(c,r);const f=KG(r.length,s?s.length:0,!0);c.update(f);const d=c.digest();return ll(a,f),d}const lY=t=>(e,n,r)=>({encrypt(a,c){const f=a.length;c=UC(f+16,c,!1),c.set(a);const d=c.subarray(0,-16);t(e,n,d,d,1);const p=HC(t,e,n,d,r);return c.set(p,f),ll(p),c},decrypt(a,c){c=UC(a.length-16,c,!1);const f=a.subarray(0,-16),d=a.subarray(-16),p=HC(t,e,n,f,r);if(!jG(d,p))throw new Error("invalid tag");return c.set(a.subarray(0,-16)),t(e,n,c,c,1),ll(p),c}}),jC=VG({blockSize:64,nonceLength:12,tagLength:16},lY(sY));function cY(t,e,n){return ip(t),n===void 0&&(n=new Uint8Array(t.outputLen)),ap(t,eu(n),eu(e))}const Qy=Uint8Array.from([0]),VC=Uint8Array.of();function uY(t,e,n,r=32){ip(t),Zd(r);const s=t.outputLen;if(r>255*s)throw new Error("Length should be <= 255*HashLen");const a=Math.ceil(r/s);n===void 0&&(n=VC);const c=new Uint8Array(a*s),f=ap.create(t,e),d=f._cloneInto(),p=new Uint8Array(f.outputLen);for(let g=0;g<a;g++)Qy[0]=g+1,d.update(g===0?VC:p).update(n).update(Qy).digestInto(p),c.set(p,s*g),f._cloneInto(d);return f.destroy(),d.destroy(),So(p,Qy),c.slice(0,r)}const fY={hashSHA256(t){return Ld(t.subarray())},getHKDF(t,e){const n=cY(Ld,e,t),s=uY(Ld,n,void 0,96),a=s.subarray(0,32),c=s.subarray(32,64),f=s.subarray(64,96);return[a,c,f]},generateX25519KeyPair(){const t=cd.utils.randomPrivateKey();return{publicKey:cd.getPublicKey(t),privateKey:t}},generateX25519KeyPairFromSeed(t){return{publicKey:cd.getPublicKey(t),privateKey:t}},generateX25519SharedKey(t,e){return cd.getSharedSecret(t.subarray(),e.subarray())},chaCha20Poly1305Encrypt(t,e,n,r){return jC(r,e,n).encrypt(t.subarray())},chaCha20Poly1305Decrypt(t,e,n,r,s){return jC(r,e,n).decrypt(t.subarray(),s)}},dY=fY;function hY(t){return{generateKeypair:t.generateX25519KeyPair,dh:(e,n)=>t.generateX25519SharedKey(e.privateKey,n).subarray(0,32),encrypt:t.chaCha20Poly1305Encrypt,decrypt:t.chaCha20Poly1305Decrypt,hash:t.hashSHA256,hkdf:t.getHKDF}}const Rh=t=>{const e=hi(2);return e[0]=t>>8,e[1]=t,e};Rh.bytes=2;const Ud=t=>{if(t.length<2)throw RangeError("Could not decode int16BE");if(t instanceof Uint8Array){let e=0;return e+=t[0]<<8,e+=t[1],e}return t.getUint16(0)};Ud.bytes=2;function pY(t){return{xxHandshakeSuccesses:t.registerCounter("libp2p_noise_xxhandshake_successes_total",{help:"Total count of noise xxHandshakes successes_"}),xxHandshakeErrors:t.registerCounter("libp2p_noise_xxhandshake_error_total",{help:"Total count of noise xxHandshakes errors"}),encryptedPackets:t.registerCounter("libp2p_noise_encrypted_packets_total",{help:"Total count of noise encrypted packets successfully"}),decryptedPackets:t.registerCounter("libp2p_noise_decrypted_packets_total",{help:"Total count of noise decrypted packets"}),decryptErrors:t.registerCounter("libp2p_noise_decrypt_errors_total",{help:"Total count of noise decrypt errors"})}}function b6(t,e){!e.enabled||!Nu||(t?(e(`LOCAL_STATIC_PUBLIC_KEY ${He(t.publicKey,"hex")}`),e(`LOCAL_STATIC_PRIVATE_KEY ${He(t.privateKey,"hex")}`)):e("Missing local static keys."))}function v6(t,e){!e.enabled||!Nu||(t?(e(`LOCAL_PUBLIC_EPHEMERAL_KEY ${He(t.publicKey,"hex")}`),e(`LOCAL_PRIVATE_EPHEMERAL_KEY ${He(t.privateKey,"hex")}`)):e("Missing local ephemeral keys."))}function gY(t,e){!e.enabled||!Nu||e(t?`REMOTE_STATIC_PUBLIC_KEY ${He(t.subarray(),"hex")}`:"Missing remote static public key.")}function w6(t,e){!e.enabled||!Nu||e(t?`REMOTE_EPHEMERAL_PUBLIC_KEY ${He(t.subarray(),"hex")}`:"Missing remote ephemeral keys.")}function S6(t,e,n){!n.enabled||!Nu||(n(`CIPHER_STATE_1 ${t.n.getUint64()} ${t.k&&He(t.k,"hex")}`),n(`CIPHER_STATE_2 ${e.n.getUint64()} ${e.k&&He(e.k,"hex")}`))}class Vc extends Error{code;constructor(e="Invalid crypto exchange"){super(e),this.code=Vc.code}static code="ERR_INVALID_CRYPTO_EXCHANGE"}const mY=0,yY=4294967295,bY="Cipherstate has reached maximum n, a new handshake must be performed";class vY{n;bytes;view;constructor(e=mY){this.n=e,this.bytes=Lt(12),this.view=new DataView(this.bytes.buffer,this.bytes.byteOffset,this.bytes.byteLength),this.view.setUint32(4,e,!0)}increment(){this.n++,this.view.setUint32(4,this.n,!0)}getBytes(){return this.bytes}getUint64(){return this.n}assertValue(){if(this.n>yY)throw new Error(bY)}}const Ha=Lt(0);class Td{k;n;crypto;constructor(e,n=void 0,r=0){this.crypto=e,this.k=n,this.n=new vY(r)}hasKey(){return!!this.k}encryptWithAd(e,n){if(!this.hasKey())return n;this.n.assertValue();const r=this.crypto.encrypt(n,this.n.getBytes(),e,this.k);return this.n.increment(),r}decryptWithAd(e,n,r){if(!this.hasKey())return n;this.n.assertValue();const s=this.crypto.decrypt(n,this.n.getBytes(),e,this.k,r);return this.n.increment(),s}}class wY{cs;ck;h;crypto;constructor(e,n){this.crypto=e;const r=Pe(n,"utf-8");this.h=EY(e,r),this.ck=this.h,this.cs=new Td(e)}mixKey(e){const[n,r]=this.crypto.hkdf(this.ck,e);this.ck=n,this.cs=new Td(this.crypto,r)}mixHash(e){this.h=this.crypto.hash(new xt(this.h,e))}encryptAndHash(e){const n=this.cs.encryptWithAd(this.h,e);return this.mixHash(n),n}decryptAndHash(e){const n=this.cs.decryptWithAd(this.h,e);return this.mixHash(e),n}split(){const[e,n]=this.crypto.hkdf(this.ck,Ha);return[new Td(this.crypto,e),new Td(this.crypto,n)]}}class SY{ss;s;e;rs;re;initiator;crypto;constructor(e){const{crypto:n,protocolName:r,prologue:s,initiator:a,s:c,e:f,rs:d,re:p}=e;this.crypto=n,this.ss=new wY(n,r),this.ss.mixHash(s),this.initiator=a,this.s=c,this.e=f,this.rs=d,this.re=p}writeE(){if(this.e)throw new Error("ephemeral keypair is already set");const e=this.crypto.generateKeypair();return this.ss.mixHash(e.publicKey),this.e=e,e.publicKey}writeS(){if(!this.s)throw new Error("static keypair is not set");return this.ss.encryptAndHash(this.s.publicKey)}writeEE(){if(!this.e)throw new Error("ephemeral keypair is not set");if(!this.re)throw new Error("remote ephemeral public key is not set");this.ss.mixKey(this.crypto.dh(this.e,this.re))}writeES(){if(this.initiator){if(!this.e)throw new Error("ephemeral keypair is not set");if(!this.rs)throw new Error("remote static public key is not set");this.ss.mixKey(this.crypto.dh(this.e,this.rs))}else{if(!this.s)throw new Error("static keypair is not set");if(!this.re)throw new Error("remote ephemeral public key is not set");this.ss.mixKey(this.crypto.dh(this.s,this.re))}}writeSE(){if(this.initiator){if(!this.s)throw new Error("static keypair is not set");if(!this.re)throw new Error("remote ephemeral public key is not set");this.ss.mixKey(this.crypto.dh(this.s,this.re))}else{if(!this.e)throw new Error("ephemeral keypair is not set");if(!this.rs)throw new Error("remote static public key is not set");this.ss.mixKey(this.crypto.dh(this.e,this.rs))}}readE(e,n=0){if(this.re)throw new Error("remote ephemeral public key is already set");if(e.byteLength<n+32)throw new Error("message is not long enough");this.re=e.sublist(n,n+32),this.ss.mixHash(this.re)}readS(e,n=0){if(this.rs)throw new Error("remote static public key is already set");const r=32+(this.ss.cs.hasKey()?16:0);if(e.byteLength<n+r)throw new Error("message is not long enough");const s=e.sublist(n,n+r);return this.rs=this.ss.decryptAndHash(s),r}readEE(){this.writeEE()}readES(){this.writeES()}readSE(){this.writeSE()}}class E6 extends SY{writeMessageA(e){return new xt(this.writeE(),this.ss.encryptAndHash(e))}writeMessageB(e){const n=this.writeE();this.writeEE();const r=this.writeS();return this.writeES(),new xt(n,r,this.ss.encryptAndHash(e))}writeMessageC(e){const n=this.writeS();return this.writeSE(),new xt(n,this.ss.encryptAndHash(e))}readMessageA(e){try{return this.readE(e),this.ss.decryptAndHash(e.sublist(32))}catch(n){throw new Vc(`handshake stage 0 validation fail: ${n.message}`)}}readMessageB(e){try{this.readE(e),this.readEE();const n=this.readS(e,32);return this.readES(),this.ss.decryptAndHash(e.sublist(32+n))}catch(n){throw new Vc(`handshake stage 1 validation fail: ${n.message}`)}}readMessageC(e){try{const n=this.readS(e);return this.readSE(),this.ss.decryptAndHash(e.sublist(n))}catch(n){throw new Vc(`handshake stage 2 validation fail: ${n.message}`)}}}function EY(t,e){if(e.length<=32){const n=Lt(32);return n.set(e),n}else return t.hash(e)}var Oh;(function(t){let e;t.codec=()=>(e==null&&(e=Rr((n,r,s={})=>{if(s.lengthDelimited!==!1&&r.fork(),n.webtransportCerthashes!=null)for(const a of n.webtransportCerthashes)r.uint32(10),r.bytes(a);if(n.streamMuxers!=null)for(const a of n.streamMuxers)r.uint32(18),r.string(a);s.lengthDelimited!==!1&&r.ldelim()},(n,r,s={})=>{const a={webtransportCerthashes:[],streamMuxers:[]},c=r==null?n.len:n.pos+r;for(;n.pos<c;){const f=n.uint32();switch(f>>>3){case 1:{if(s.limits?.webtransportCerthashes!=null&&a.webtransportCerthashes.length===s.limits.webtransportCerthashes)throw new nu('Decode error - map field "webtransportCerthashes" had too many elements');a.webtransportCerthashes.push(n.bytes());break}case 2:{if(s.limits?.streamMuxers!=null&&a.streamMuxers.length===s.limits.streamMuxers)throw new nu('Decode error - map field "streamMuxers" had too many elements');a.streamMuxers.push(n.string());break}default:{n.skipType(f&7);break}}}return a})),e),t.encode=n=>Tr(n,t.codec()),t.decode=(n,r)=>_r(n,t.codec(),r)})(Oh||(Oh={}));var Mh;(function(t){let e;t.codec=()=>(e==null&&(e=Rr((n,r,s={})=>{s.lengthDelimited!==!1&&r.fork(),n.identityKey!=null&&n.identityKey.byteLength>0&&(r.uint32(10),r.bytes(n.identityKey)),n.identitySig!=null&&n.identitySig.byteLength>0&&(r.uint32(18),r.bytes(n.identitySig)),n.extensions!=null&&(r.uint32(34),Oh.codec().encode(n.extensions,r)),s.lengthDelimited!==!1&&r.ldelim()},(n,r,s={})=>{const a={identityKey:Lt(0),identitySig:Lt(0)},c=r==null?n.len:n.pos+r;for(;n.pos<c;){const f=n.uint32();switch(f>>>3){case 1:{a.identityKey=n.bytes();break}case 2:{a.identitySig=n.bytes();break}case 4:{a.extensions=Oh.codec().decode(n,n.uint32(),{limits:s.limits?.extensions});break}default:{n.skipType(f&7);break}}}return a})),e),t.encode=n=>Tr(n,t.codec()),t.decode=(n,r)=>_r(n,t.codec(),r)})(Mh||(Mh={}));async function x6(t,e,n){const r=await t.sign(A6(e));return Mh.encode({identityKey:Ts(t.publicKey),identitySig:r,extensions:n})}async function C6(t,e,n){try{const r=Mh.decode(t),s=Za(r.identityKey);if(n?.equals(s)===!1)throw new Error(`Payload identity key ${s} does not match expected remote identity key ${n}`);if(!e)throw new Error("Remote static does not exist");const a=A6(e);if(!await s.verify(a,r.identitySig))throw new Error("Invalid payload signature");return r}catch(r){throw new nN(r.message)}}function A6(t){const e=Pe("noise-libp2p-static-key:");return t instanceof Uint8Array?wo([e,t],e.length+t.length):(t.prepend(e),t)}async function xY(t,e){const{log:n,connection:r,crypto:s,privateKey:a,prologue:c,s:f,remoteIdentityKey:d,extensions:p}=t,g=await x6(a,f.publicKey,p),y=new E6({crypto:s,protocolName:"Noise_XX_25519_ChaChaPoly_SHA256",initiator:!0,prologue:c,s:f});b6(y.s,n),n.trace("Stage 0 - Initiator starting to send first message."),await r.write(y.writeMessageA(Ha),e),n.trace("Stage 0 - Initiator finished sending first message."),v6(y.e,n),n.trace("Stage 1 - Initiator waiting to receive first message from responder...");const b=y.readMessageB(await r.read(e));n.trace("Stage 1 - Initiator received the message."),w6(y.re,n),gY(y.rs,n),n.trace("Initiator going to check remote's signature...");const w=await C6(b,y.rs,d);n.trace("All good with the signature!"),n.trace("Stage 2 - Initiator sending third handshake message."),await r.write(y.writeMessageC(g),e),n.trace("Stage 2 - Initiator sent message with signed payload.");const[v,S]=y.ss.split();return S6(v,S,n),{payload:w,encrypt:E=>v.encryptWithAd(Ha,E),decrypt:(E,C)=>S.decryptWithAd(Ha,E,C)}}async function CY(t,e){const{log:n,connection:r,crypto:s,privateKey:a,prologue:c,s:f,remoteIdentityKey:d,extensions:p}=t,g=await x6(a,f.publicKey,p),y=new E6({crypto:s,protocolName:"Noise_XX_25519_ChaChaPoly_SHA256",initiator:!1,prologue:c,s:f});b6(y.s,n),n.trace("Stage 0 - Responder waiting to receive first message."),y.readMessageA(await r.read(e)),n.trace("Stage 0 - Responder received first message."),w6(y.re,n),n.trace("Stage 1 - Responder sending out first message with signed payload and static key."),await r.write(y.writeMessageB(g),e),n.trace("Stage 1 - Responder sent the second handshake message with signed payload."),v6(y.e,n),n.trace("Stage 2 - Responder waiting for third handshake message...");const b=y.readMessageC(await r.read(e));n.trace("Stage 2 - Responder received the message, finished handshake.");const w=await C6(b,y.rs,d),[v,S]=y.ss.split();return S6(v,S,n),{payload:w,encrypt:E=>S.encryptWithAd(Ha,E),decrypt:(E,C)=>v.decryptWithAd(Ha,E,C)}}const KC=16;function AY(t,e){return async function*(n){for await(const r of n)for(let s=0;s<r.length;s+=PC){let a=s+PC;a>r.length&&(a=r.length);let c;r instanceof Uint8Array?c=t.encrypt(r.subarray(s,a)):c=t.encrypt(r.sublist(s,a)),e?.encryptedPackets.increment(),yield new xt(Rh(c.byteLength),c)}}}function _Y(t,e){return async function*(n){for await(const r of n)for(let s=0;s<r.length;s+=uu){let a=s+uu;if(a>r.length&&(a=r.length),a-KC<s)throw new Error("Invalid chunk");const c=r.sublist(s,a),f=r.subarray(s,a-KC);try{const d=t.decrypt(c,f);e?.decryptedPackets.increment(),yield d}catch(d){throw e?.decryptErrors.increment(),d}}}}class TY{protocol="/noise";crypto;prologue;staticKey;extensions;metrics;components;constructor(e,n={}){const{staticNoiseKey:r,extensions:s,crypto:a,prologueBytes:c}=n,{metrics:f}=e;this.components=e;const d=a??dY;this.crypto=hY(d),this.extensions={webtransportCerthashes:[],...s},this.metrics=f?pY(f):void 0,r?this.staticKey=d.generateX25519KeyPairFromSeed(r):this.staticKey=d.generateX25519KeyPair(),this.prologue=c??Lt(0)}[Symbol.toStringTag]="@chainsafe/libp2p-noise";[Jc]=["@libp2p/connection-encryption","@chainsafe/libp2p-noise"];async secureOutbound(e,n){const r=cu(e,{lengthEncoder:Rh,lengthDecoder:Ud,maxDataLength:uu}),s=await this.performHandshakeInitiator(r,this.components.privateKey,n?.remotePeer?.publicKey,n),a=await this.createSecureConnection(r,s);e.source=a.source,e.sink=a.sink;const c=Za(s.payload.identityKey);return{conn:e,remoteExtensions:s.payload.extensions,remotePeer:ah(c),streamMuxer:n?.skipStreamMuxerNegotiation===!0?void 0:this.getStreamMuxer(s.payload.extensions?.streamMuxers)}}getStreamMuxer(e){if(e==null||e.length===0)return;const n=this.components.upgrader.getStreamMuxers();if(n!=null)for(const r of e){const s=n.get(r);if(s!=null)return s}if(e.length)throw new rN("Early muxer negotiation was requested but the initiator and responder had no common muxers")}async secureInbound(e,n){const r=cu(e,{lengthEncoder:Rh,lengthDecoder:Ud,maxDataLength:uu}),s=await this.performHandshakeResponder(r,this.components.privateKey,n?.remotePeer?.publicKey,n),a=await this.createSecureConnection(r,s);e.source=a.source,e.sink=a.sink;const c=Za(s.payload.identityKey);return{conn:e,remoteExtensions:s.payload.extensions,remotePeer:ah(c),streamMuxer:n?.skipStreamMuxerNegotiation===!0?void 0:this.getStreamMuxer(s.payload.extensions?.streamMuxers)}}async performHandshakeInitiator(e,n,r,s){let a;const c=s?.skipStreamMuxerNegotiation===!0?[]:[...this.components.upgrader.getStreamMuxers().keys()];try{a=await xY({connection:e,privateKey:n,remoteIdentityKey:r,log:this.components.logger.forComponent("libp2p:noise:xxhandshake"),crypto:this.crypto,prologue:this.prologue,s:this.staticKey,extensions:{streamMuxers:c,webtransportCerthashes:[],...this.extensions}},s),this.metrics?.xxHandshakeSuccesses.increment()}catch(f){throw this.metrics?.xxHandshakeErrors.increment(),f}return a}async performHandshakeResponder(e,n,r,s){let a;const c=s?.skipStreamMuxerNegotiation===!0?[]:[...this.components.upgrader.getStreamMuxers().keys()];try{a=await CY({connection:e,privateKey:n,remoteIdentityKey:r,log:this.components.logger.forComponent("libp2p:noise:xxhandshake"),crypto:this.crypto,prologue:this.prologue,s:this.staticKey,extensions:{streamMuxers:c,webtransportCerthashes:[],...this.extensions}},s),this.metrics?.xxHandshakeSuccesses.increment()}catch(f){throw this.metrics?.xxHandshakeErrors.increment(),f}return a}async createSecureConnection(e,n){const[r,s]=NG(),a=e.unwrap();return await BG(r,AY(n,this.metrics),a,c=>Ub(c,{lengthDecoder:Ud}),_Y(n,this.metrics),r),s}}function RY(t={}){return e=>new TY(e,t)}async function OY(){const t=await qF({transports:[aq(),LG()],connectionEncrypters:[RY()],peerDiscovery:[]});return await t.start(),console.log(" VPN P2P iniciado. PeerID:",t.peerId.toString()),t}function MY(){const[t,e]=U.useState(!1),[n,r]=U.useState(0);return U.useEffect(()=>{t&&OY().then(s=>r(s.getConnections().length))},[t]),ne.jsx(gk,{control:ne.jsx(AL,{checked:t,onChange:s=>e(s.target.checked)}),label:ne.jsxs(Ka,{children:["VPN P2P ",t?`encendida (${n} peers)`:"apagada"]})})}function DY(){const[t,e]=U.useState(0);return ne.jsxs(PD,{children:[ne.jsxs(GL,{value:t,onChange:(n,r)=>e(r),children:[ne.jsx(Zm,{label:"Dashboard"}),ne.jsx(Zm,{label:"CoinJoin"}),ne.jsx(Zm,{label:"VPN"})]}),t===0&&ne.jsx(Ka,{style:{margin:"2rem"},children:"Dashboard: balance y enviar tx aqu."}),t===1&&ne.jsx(JL,{}),t===2&&ne.jsx(MY,{})]})}jR.createRoot(document.getElementById("root")).render(ne.jsx(Hr.StrictMode,{children:ne.jsx(DY,{})}));
